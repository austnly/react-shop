/*! For license information please see main.4b55cf31.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var u=i||"<<anonymous>>",s=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+s+"` was not specified in `"+u+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,u,a,s].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},v={};function p(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(v,e)||!f.call(d,e)&&(h.test(e)?v[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function B(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case _:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function _e(e){if(e=mi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),xe(e.stateNode,e.type,t))}}function Ce(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ie(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Se)&&(Ne(),Ie())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(le){Pe=!1}function Re(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ve=null,Be={onError:function(e){Me=!0,Fe=e}};function Ue(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Re.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,wt,xt,Et,St,_t=!1,Ct=[],It=null,Tt=null,Nt=null,At=new Map,Dt=new Map,Ot=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=pi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ht(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){_t=!1,null!==It&&Ft(It)&&(It=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Nt&&Ft(Nt)&&(Nt=null),At.forEach(jt),Dt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Tt&&Bt(Tt,e),null!==Nt&&Bt(Nt,e),At.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var zt=k.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=gt,a=zt.transition;zt.transition=null;try{gt=1,Gt(e,t,n,r)}finally{gt=i,zt.transition=a}}function Kt(e,t,n,r){var i=gt,a=zt.transition;zt.transition=null;try{gt=4,Gt(e,t,n,r)}finally{gt=i,zt.transition=a}}function Gt(e,t,n,r){var i=Ht(e,t,n,r);if(null===i)zr(e,t,r,Wt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Rt(It,e,t,n,r,i),!0;case"dragenter":return Tt=Rt(Tt,e,t,n,r,i),!0;case"mouseover":return Nt=Rt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Rt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Rt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&kt(a),null===(a=Ht(e,t,n,r))&&zr(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}var Wt=null;function Ht(e,t,n,r){if(Wt=null,null!==(e=pi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Yt=null,Xt=null;function Jt(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=F({},un,{view:0,detail:0}),ln=nn(cn),fn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(F({},fn,{dataTransfer:0})),vn=nn(F({},cn,{relatedTarget:0})),pn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(mn),gn=nn(F({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function En(){return xn}var Sn=F({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=nn(Sn),Cn=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Tn=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=nn(Nn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Pn=null;l&&"documentMode"in document&&(Pn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Pn,Rn=l&&(!On||Pn&&8<Pn&&11>=Pn),Mn=String.fromCharCode(32),Fn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function qn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Wn(e){Mr(e,0)}function Hn(e){if(H(yi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(l){var Yn;if(l){var Xn="oninput"in document;if(!Xn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Xn="function"===typeof Jn.oninput}Yn=Xn}else Yn=!1;$n=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Kn&&(Kn.detachEvent("onpropertychange",er),Gn=Kn=null)}function er(e){if("value"===e.propertyName&&Hn(Gn)){var t=[];qn(t,Gn,e,we(e)),De(Wn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Gn=n,(Kn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(Gn)}function rr(e,t){if("click"===e)return Hn(t)}function ir(e,t){if("input"===e||"change"===e)return Hn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,vr=null,pr=null,mr=null,yr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==vr||vr!==Q(r)||("selectionStart"in(r=vr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Kr(pr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},wr={},xr={};function Er(e){if(wr[e])return wr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return wr[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Sr=Er("animationend"),_r=Er("animationiteration"),Cr=Er("animationstart"),Ir=Er("transitionend"),Tr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Tr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Nr.length;Dr++){var Or=Nr[Dr];Ar(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ar(Sr,"onAnimationEnd"),Ar(_r,"onAnimationIteration"),Ar(Cr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Rr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Rr(i,u,c),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Fr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,jr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=pi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Tr.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":s=_n;break;case"focusin":c="focus",s=vn;break;case"focusout":c="blur",s=vn;break;case"beforeblur":case"afterblur":s=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=In;break;case Sr:case _r:case Cr:s=pn;break;case Ir:s=Tn;break;case"scroll":s=ln;break;case"wheel":s=An;break;case"copy":case"cut":case"paste":s=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,v=r;null!==v;){var p=(d=v).stateNode;if(5===d.tag&&null!==p&&(d=p,null!==h&&(null!=(p=Oe(v,h))&&l.push(qr(v,p,d)))),f)break;v=v.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!pi(c)&&!c[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?pi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=hn,p="onMouseLeave",h="onMouseEnter",v="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,p="onPointerLeave",h="onPointerEnter",v="pointer"),f=null==s?u:yi(s),d=null==c?u:yi(c),(u=new l(p,v+"leave",s,n,i)).target=f,u.relatedTarget=d,p=null,pi(i)===r&&((l=new l(h,v+"enter",c,n,i)).target=d,l.relatedTarget=f,p=l),f=p,s&&c)e:{for(h=c,v=0,d=l=s;d;d=Gr(d))v++;for(d=0,p=h;p;p=Gr(p))d++;for(;0<v-d;)l=Gr(l),v--;for(;0<d-v;)h=Gr(h),d--;for(;v--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Wr(o,u,s,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(s=(u=r?yi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Qn;else if(zn(u))if($n)m=ir;else{m=nr;var y=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=rr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?yi(r):window,e){case"focusin":(zn(y)||"true"===y.contentEditable)&&(vr=y,pr=r,mr=null);break;case"focusout":mr=pr=vr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=Jt()):(Yt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(y=Kr(r,b)).length&&(b=new gn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Vn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&jn(e,t)?(e=Jt(),Xt=Yt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Oe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Hr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Hr,"\n").replace(Qr,"")}function Yr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Xr(){}var Jr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,fi="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,vi="__reactHandles$"+si;function pi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var bi=[],ki=-1;function wi(e){return{current:e}}function xi(e){0>ki||(e.current=bi[ki],bi[ki]=null,ki--)}function Ei(e,t){ki++,bi[ki]=e.current,e.current=t}var Si={},_i=wi(Si),Ci=wi(!1),Ii=Si;function Ti(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){xi(Ci),xi(_i)}function Di(e,t,n){if(_i.current!==Si)throw Error(a(168));Ei(_i,t),Ei(Ci,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ii=_i.current,Ei(_i,e),Ei(Ci,Ci.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,xi(Ci),xi(_i),Ei(_i,e)):xi(Ci),Ei(Ci,n)}var Ri=null,Mi=!1,Fi=!1;function ji(e){null===Ri?Ri=[e]:Ri.push(e)}function Vi(){if(!Fi&&null!==Ri){Fi=!0;var e=0,t=gt;try{var n=Ri;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ri=null,Mi=!1}catch(i){throw null!==Ri&&(Ri=Ri.slice(e+1)),He(Ze,Vi),i}finally{gt=t,Fi=!1}}return null}var Bi=k.ReactCurrentBatchConfig;function Ui(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var zi=wi(null),qi=null,Ki=null,Gi=null;function Wi(){Gi=Ki=qi=null}function Hi(e){var t=zi.current;xi(zi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $i(e,t){qi=e,Gi=Ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yu=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Gi!==e)if(e={context:e,memoizedValue:t,next:null},null===Ki){if(null===qi)throw Error(a(308));Ki=e,qi.dependencies={lanes:0,firstContext:e}}else Ki=Ki.next=e;return t}var Xi=null,Ji=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=n.interleaved)?(t.next=t,null===Xi?Xi=[n]:Xi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Ji=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,p=u;switch(h=t,d=n,p.tag){case 1:if("function"===typeof(v=p.payload)){f=v.call(d,f,h);break e}f=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(h="function"===typeof(v=p.payload)?v.call(d,f,h):v)||void 0===h)break e;f=F({},f,h);break e;case 2:Ji=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);_s|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ks(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ks(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zs(),r=qs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Ks(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Yi(a):(i=Ni(t)?Ii:_i.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Yi(a):(a=Ni(t)?Ii:_i.current,i.context=Ti(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var va=[],pa=0,ma=null,ya=0,ga=[],ba=0,ka=null,wa=1,xa="";function Ea(e,t){va[pa++]=ya,va[pa++]=ma,ma=e,ya=t}function Sa(e,t,n){ga[ba++]=wa,ga[ba++]=xa,ga[ba++]=ka,ka=e;var r=wa;e=xa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,xa=a+e}else wa=1<<a|n<<i|r,xa=e}function _a(e){null!==e.return&&(Ea(e,1),Sa(e,1,0))}function Ca(e){for(;e===ma;)ma=va[--pa],va[pa]=null,ya=va[--pa],va[pa]=null;for(;e===ka;)ka=ga[--ba],ga[ba]=null,xa=ga[--ba],ga[ba]=null,wa=ga[--ba],ga[ba]=null}var Ia=null,Ta=null,Na=!1,Aa=null;function Da(e,t){var n=kc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ia=e,Ta=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ia=e,Ta=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ka?{id:wa,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=kc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ia=e,Ta=null,!0);default:return!1}}function Pa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function La(e){if(Na){var t=Ta;if(t){var n=t;if(!Oa(e,t)){if(Pa(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ia;t&&Oa(e,t)?Da(r,n):(e.flags=-4097&e.flags|2,Na=!1,Ia=e)}}else{if(Pa(e))throw Error(a(418));e.flags=-4097&e.flags|2,Na=!1,Ia=e}}}function Ra(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ia=e}function Ma(e){if(e!==Ia)return!1;if(!Na)return Ra(e),Na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ta)){if(Pa(e)){for(e=Ta;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Da(e,t),t=oi(t.nextSibling)}if(Ra(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ta=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ta=null}}else Ta=Ia?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ta=Ia=null,Na=!1}function ja(e){null===Aa?Aa=[e]:Aa.push(e)}function Va(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ba(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ua(e){return(0,e._init)(e._payload)}function za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=xc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Cc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Ua(a)===t.type)?((r=i(t,n.props)).ref=Va(e,t,n),r.return=e,r):((r=Ec(n.type,n.key,n.props,null,e.mode,r)).ref=Va(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Sc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Cc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ec(t.type,t.key,t.props,null,e.mode,n)).ref=Va(e,null,t),n.return=e,n;case x:return(t=Ic(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Sc(t,e.mode,n,null)).return=e,t;Ba(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:f(e,t,n,r,null);Ba(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return v(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);Ba(t,r)}return null}function p(i,a,u,s){for(var c=null,l=null,f=a,p=a=0,m=null;null!==f&&p<u.length;p++){f.index>p?(m=f,f=null):m=f.sibling;var y=d(i,f,u[p],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,p),null===l?c=y:l.sibling=y,l=y,f=m}if(p===u.length)return n(i,f),Na&&Ea(i,p),c;if(null===f){for(;p<u.length;p++)null!==(f=h(i,u[p],s))&&(a=o(f,a,p),null===l?c=f:l.sibling=f,l=f);return Na&&Ea(i,p),c}for(f=r(i,f);p<u.length;p++)null!==(m=v(f,i,p,u[p],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?p:m.key),a=o(m,a,p),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Na&&Ea(i,p),c}function m(i,u,s,c){var l=R(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,p=u,m=u=0,y=null,g=s.next();null!==p&&!g.done;m++,g=s.next()){p.index>m?(y=p,p=null):y=p.sibling;var b=d(i,p,g.value,c);if(null===b){null===p&&(p=y);break}e&&p&&null===b.alternate&&t(i,p),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,p=y}if(g.done)return n(i,p),Na&&Ea(i,m),l;if(null===p){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Na&&Ea(i,m),l}for(p=r(i,p);!g.done;m++,g=s.next())null!==(g=v(p,i,m,g.value,c))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&p.forEach((function(e){return t(i,e)})),Na&&Ea(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Ua(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Va(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Sc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Ec(o.type,o.key,o.props,null,r.mode,s)).ref=Va(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ic(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return p(r,a,o,s);if(R(o))return m(r,a,o,s);Ba(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Cc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=za(!0),Ka=za(!1),Ga={},Wa=wi(Ga),Ha=wi(Ga),Qa=wi(Ga);function $a(e){if(e===Ga)throw Error(a(174));return e}function Ya(e,t){switch(Ei(Qa,t),Ei(Ha,e),Ei(Wa,Ga),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Wa),Ei(Wa,t)}function Xa(){xi(Wa),xi(Ha),xi(Qa)}function Ja(e){$a(Qa.current);var t=$a(Wa.current),n=se(t,e.type);t!==n&&(Ei(Ha,e),Ei(Wa,n))}function Za(e){Ha.current===e&&(xi(Wa),xi(Ha))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=k.ReactCurrentDispatcher,ao=k.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,vo=0;function po(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Jo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function ko(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,_s|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ar(r,t.memoizedState)||(yu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,_s|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(yu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function _o(e,t){var n=uo,r=ko(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,yu=!0),r=r.queue,Mo(To.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Do(9,Io.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||Co(n,t,i)}return i}function Co(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&Ks(e,1,-1)}function To(e,t,n){return n((function(){No(t)&&Ks(e,1,-1)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ao(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ho.bind(null,uo,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oo(){return ko().memoizedState}function Po(e,t,n,r){var i=bo();uo.flags|=e,i.memoizedState=Do(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var i=ko();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Do(t,n,a,r))}uo.flags|=e,i.memoizedState=Do(1|t,n,a,r)}function Ro(e,t){return Po(8390656,8,e,t)}function Mo(e,t){return Lo(2048,8,e,t)}function Fo(e,t){return Lo(4,2,e,t)}function jo(e,t){return Lo(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,Vo.bind(null,t,e),n)}function Uo(){}function zo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ko(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Go(){return ko().memoizedState}function Wo(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e)?$o(t,n):(Yo(e,t,n),null!==(e=Ks(e,r,n=zs()))&&Xo(e,t,r))}function Ho(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))$o(t,i);else{Yo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Ks(e,r,n=zs()))&&Xo(e,t,r)}}function Qo(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function $o(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=t.interleaved)?(n.next=n,null===Xi?Xi=[t]:Xi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Yi,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Yi,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Ro,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wo.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Ao,useDebugValue:Uo,useDeferredValue:function(e){var t=Ao(e),n=t[0],r=t[1];return Ro((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=Ao(!1),t=e[0];return e=Ko.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=bo();if(Na){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||Co(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ro(To.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,Io.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=gs.identifierPrefix;if(Na){var n=xa;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=vo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Yi,useCallback:zo,useContext:Yi,useEffect:Mo,useImperativeHandle:Bo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:xo,useRef:Oo,useState:function(){return xo(wo)},useDebugValue:Uo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],ko().memoizedState]},useMutableSource:So,useSyncExternalStore:_o,useId:Go,unstable_isNewReconciler:!1},tu={readContext:Yi,useCallback:zo,useContext:Yi,useEffect:Mo,useImperativeHandle:Bo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:Eo,useRef:Oo,useState:function(){return Eo(wo)},useDebugValue:Uo,useDeferredValue:function(e){var t=Eo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[Eo(wo)[0],ko().memoizedState]},useMutableSource:So,useSyncExternalStore:_o,useId:Go,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Os||(Os=!0,Ps=r),ru(0,t)},n}function cu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Ls?Ls=new Set([this]):Ls.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=vc.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function du(e,t){if(!Na)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pu(e,t,n){var r=t.pendingProps;switch(Ca(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vu(t),null;case 1:case 17:return Ni(t.type)&&Ai(),vu(t),null;case 3:return r=t.stateNode,Xa(),xi(Ci),xi(_i),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Aa&&($s(Aa),Aa=null))),vu(t),null;case 5:Za(t);var i=$a(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return vu(t),null}if(e=$a(Wa.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ci]=t,e[li]=r,iu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return vu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Qa.current),$a(Wa.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ia))switch(s=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return vu(t),null;case 13:if(xi(eo),r=t.memoizedState,Na&&null!==Ta&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ta;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return vu(t),null}return null!==Aa&&($s(Aa),Aa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===Es&&(Es=3):ic())),null!==t.updateQueue&&(t.flags|=4),vu(t),null);case 4:return Xa(),null===e&&Br(t.stateNode.containerInfo),vu(t),null;case 10:return Hi(t.type._context),vu(t),null;case 19:if(xi(eo),null===(o=t.memoizedState))return vu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)du(o,!1);else{if(0!==Es||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Ds&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Na)return vu(t),null}else 2*Xe()-o.renderingStartTime>Ds&&1073741824!==n&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=eo.current,Ei(eo,r?1&n|2:1&n),t):(vu(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ws)&&(vu(t),6&t.subtreeFlags&&(t.flags|=8192)):vu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(Wa.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var mu=k.ReactCurrentOwner,yu=!1;function gu(e,t,n,r){t.child=null===e?Ka(t,null,n,r):qa(t,e.child,n,r)}function bu(e,t,n,r,i){n=n.render;var a=t.ref;return $i(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||yu?(Na&&n&&_a(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vu(e,t,i))}function ku(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ec(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Vu(e,t,i)}return t.flags|=1,(e=xc(a,r)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(yu=!1,0===(e.lanes&i))return t.lanes=e.lanes,Vu(e,t,i);0!==(131072&e.flags)&&(yu=!0)}return Su(e,t,n,r,i)}function xu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Ei(xs,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Ei(xs,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,Ei(xs,ws),ws|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(xs,ws),ws|=r;return gu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Ni(n)?Ii:_i.current;return a=Ti(t,a),$i(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||yu?(Na&&r&&_a(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vu(e,t,i))}function _u(e,t,n,r,i){if(Ni(n)){var a=!0;Pi(t)}else a=!1;if($i(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Yi(c):c=Ti(t,c=Ni(n)?Ii:_i.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ha(t,o,r,c),Ji=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ci.current||Ji?("function"===typeof l&&(sa(t,n,l,r),s=t.memoizedState),(u=Ji||la(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ui(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Yi(s):s=Ti(t,s=Ni(n)?Ii:_i.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ha(t,o,r,s),Ji=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var v=t.memoizedState;u!==f||h!==v||Ci.current||Ji?("function"===typeof d&&(sa(t,n,d,r),v=t.memoizedState),(c=Ji||la(t,n,c,r,h,v,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,v,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,v,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cu(e,t,n,r,a,i)}function Cu(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Vu(e,t,a);r=t.stateNode,mu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Iu(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Ya(e,t.containerInfo)}function Tu(e,t,n,r,i){return Fa(),ja(i),t.flags|=256,gu(e,t,n,r),t.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Au(e){return{baseLanes:e,cachePool:null}}function Du(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(eo,1&o),null===e)return La(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=_c(o,i,0,null),e=Sc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Au(n),t.memoizedState=Nu,e):Ou(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Ru(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=_c({mode:"visible",children:i.children},o,0,null),(u=Sc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Au(n),t.memoizedState=Nu,u);if(0===(1&t.mode))t=Ru(e,t,n,null);else if("$!"===r.data)t=Ru(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),yu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Ks(e,i,-1))}ic(),t=Ru(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ta=oi(r.nextSibling),Ia=t,Na=!0,Aa=null,null!==n&&(ga[ba++]=wa,ga[ba++]=xa,ga[ba++]=ka,wa=n.id,xa=n.overflow,ka=t),(t=Ou(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Lu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Au(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Nu,i):(n=Pu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Lu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Au(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Nu,i):(n=Pu(e,t,i.children,n),t.memoizedState=null,n)}function Ou(e,t){return(t=_c({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Pu(e,t,n,r){var i=e.child;return e=i.sibling,n=xc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Lu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=xc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=xc(o,r):(r=Sc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ru(e,t,n,r){return null!==r&&ja(r),qa(t,e.child,null,n),(e=Ou(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ju(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mu(e,n,t);else if(19===e.tag)Mu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_s|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Bu(e,t){switch(Ca(t),t.tag){case 1:return Ni(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),xi(Ci),xi(_i),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(xi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(eo),null;case 4:return Xa(),null;case 10:return Hi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var Uu=!1,zu=!1,qu="function"===typeof WeakSet?WeakSet:Set,Ku=null;function Gu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Wu(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Hu=!1;function Qu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Wu(t,n,a)}i=i.next}while(i!==r)}}function $u(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Xu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Wu(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Gu(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Gu(t,n);break;case 4:is(e,t,n)}}function Ju(e){var t=e.alternate;null!==t&&(e.alternate=null,Ju(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Zu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(Xu(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,c=o.stateNode,8===s.nodeType?ai(s.parentNode,c):1===s.nodeType&&ai(s,c),Ut(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Xu(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Qu(3,t,t.return),$u(3,t),void Qu(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&X(n,r),be(e,i),t=be(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?me(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?he(n,s):b(n,u,s,t)}switch(e){case"input":J(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Ut(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qu),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Ku=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Ku;){var i=Ku,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Uu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||zu;u=Uu;var c=zu;if(Uu=o,(zu=s)&&!c)for(Ku=i;null!==Ku;)s=(o=Ku).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Ku=s):fs(i);for(;null!==a;)Ku=a,ss(a,t,n),a=a.sibling;Ku=i,Uu=u,zu=c}cs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ku=a):cs(e)}}function cs(e){for(;null!==Ku;){var t=Ku;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:zu||$u(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!zu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ui(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(a(163))}zu||512&t.flags&&Yu(t)}catch(d){dc(t,t.return,d)}}if(t===e){Ku=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ku=n;break}Ku=t.return}}function ls(e){for(;null!==Ku;){var t=Ku;if(t===e){Ku=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ku=n;break}Ku=t.return}}function fs(e){for(;null!==Ku;){var t=Ku;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$u(4,t)}catch(s){dc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dc(t,i,s)}}var a=t.return;try{Yu(t)}catch(s){dc(t,a,s)}break;case 5:var o=t.return;try{Yu(t)}catch(s){dc(t,o,s)}}}catch(s){dc(t,t.return,s)}if(t===e){Ku=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ku=u;break}Ku=t.return}}var hs,ds=Math.ceil,vs=k.ReactCurrentDispatcher,ps=k.ReactCurrentOwner,ms=k.ReactCurrentBatchConfig,ys=0,gs=null,bs=null,ks=0,ws=0,xs=wi(0),Es=0,Ss=null,_s=0,Cs=0,Is=0,Ts=null,Ns=null,As=0,Ds=1/0,Os=!1,Ps=null,Ls=null,Rs=!1,Ms=null,Fs=0,js=0,Vs=null,Bs=-1,Us=0;function zs(){return 0!==(6&ys)?Xe():-1!==Bs?Bs:Bs=Xe()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ys)&&0!==ks?ks&-ks:null!==Bi.transition?(0===Us&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),Us=e),Us):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Ks(e,t,n){if(50<js)throw js=0,Vs=null,Error(a(185));var r=Gs(e,t);return null===r?null:(mt(r,t,n),0!==(2&ys)&&r===gs||(r===gs&&(0===(2&ys)&&(Cs|=t),4===Es&&Ys(r,ks)),Ws(r,n),1===t&&0===ys&&0===(1&e.mode)&&(Ds=Xe()+500,Mi&&Vi())),r)}function Gs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ws(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===gs?ks:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Mi=!0,ji(e)}(Xs.bind(null,e)):ji(Xs.bind(null,e)),ri((function(){0===ys&&Vi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gc(n,Hs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hs(e,t){if(Bs=-1,Us=0,0!==(6&ys))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===gs?ks:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=ys;ys|=2;var o=rc();for(gs===e&&ks===t||(Ds=Xe()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}Wi(),vs.current=o,ys=i,null!==bs?t=0:(gs=null,ks=0,t=Es)}if(0!==t){if(2===t&&(0!==(i=vt(e))&&(r=i,t=Qs(e,i))),1===t)throw n=Ss,tc(e,0),Ys(e,r),Ws(e,Xe()),n;if(6===t)Ys(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=vt(e))&&(r=o,t=Qs(e,o))),1===t))throw n=Ss,tc(e,0),Ys(e,r),Ws(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,Ns);break;case 3:if(Ys(e,r),(130023424&r)===r&&10<(t=As+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){zs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,Ns),t);break}lc(e,Ns);break;case 4:if(Ys(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,Ns),r);break}lc(e,Ns);break;default:throw Error(a(329))}}}return Ws(e,Xe()),e.callbackNode===n?Hs.bind(null,e):null}function Qs(e,t){var n=Ts;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=Ns,Ns=n,null!==t&&$s(t)),e}function $s(e){null===Ns?Ns=e:Ns.push.apply(Ns,e)}function Ys(e,t){for(t&=~Is,t&=~Cs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Xs(e){if(0!==(6&ys))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Ws(e,Xe()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=vt(e);0!==r&&(t=r,n=Qs(e,r))}if(1===n)throw n=Ss,tc(e,0),Ys(e,t),Ws(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,Ns),Ws(e,Xe()),null}function Js(e,t){var n=ys;ys|=1;try{return e(t)}finally{0===(ys=n)&&(Ds=Xe()+500,Mi&&Vi())}}function Zs(e){null!==Ms&&0===Ms.tag&&0===(6&ys)&&fc();var t=ys;ys|=1;var n=ms.transition,r=gt;try{if(ms.transition=null,gt=1,e)return e()}finally{gt=r,ms.transition=n,0===(6&(ys=t))&&Vi()}}function ec(){ws=xs.current,xi(xs)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==bs)for(n=bs.return;null!==n;){var r=n;switch(Ca(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:Xa(),xi(Ci),xi(_i),ro();break;case 5:Za(r);break;case 4:Xa();break;case 13:case 19:xi(eo);break;case 10:Hi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(gs=e,bs=e=xc(e.current,null),ks=ws=t,Es=0,Ss=null,Is=Cs=_s=0,Ns=Ts=null,null!==Xi){for(t=0;t<Xi.length;t++)if(null!==(r=(n=Xi[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Xi=null}return e}function nc(e,t){for(;;){var n=bs;try{if(Wi(),io.current=Jo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,ps.current=null,null===n||null===n.return){Es=1,Ss=t,bs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=ks,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=fu(u);if(null!==v){v.flags&=-257,hu(v,u,s,0,t),1&v.mode&&lu(o,l,t),c=l;var p=(t=v).updateQueue;if(null===p){var m=new Set;m.add(c),t.updateQueue=m}else p.add(c);break e}if(0===(1&t)){lu(o,l,t),ic();break e}c=Error(a(426))}else if(Na&&1&s.mode){var y=fu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),hu(y,u,s,0,t),ja(c);break e}}o=c,4!==Es&&(Es=2),null===Ts?Ts=[o]:Ts.push(o),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,c,t));break e;case 1:o=c;var g=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ls||!Ls.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,cu(s,o,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(k){t=k,bs===n&&null!==n&&(bs=n=n.return);continue}break}}function rc(){var e=vs.current;return vs.current=Jo,null===e?Jo:e}function ic(){0!==Es&&3!==Es&&2!==Es||(Es=4),null===gs||0===(268435455&_s)&&0===(268435455&Cs)||Ys(gs,ks)}function ac(e,t){var n=ys;ys|=2;var r=rc();for(gs===e&&ks===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Wi(),ys=n,vs.current=r,null!==bs)throw Error(a(261));return gs=null,ks=0,Es}function oc(){for(;null!==bs;)sc(bs)}function uc(){for(;null!==bs&&!$e();)sc(bs)}function sc(e){var t=hs(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?cc(e):bs=t,ps.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=pu(n,t,ws)))return void(bs=n)}else{if(null!==(n=Bu(n,t)))return n.flags&=32767,void(bs=n);if(null===e)return Es=6,void(bs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(bs=t);bs=t=e}while(null!==t);0===Es&&(Es=5)}function lc(e,t){var n=gt,r=ms.transition;try{ms.transition=null,gt=1,function(e,t,n){do{fc()}while(null!==Ms);if(0!==(6&ys))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(bs=gs=null,ks=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Rs||(Rs=!0,gc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ms.transition,ms.transition=null;var u=gt;gt=1;var s=ys;ys|=4,ps.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var v;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(v=h.firstChild);)d=h,h=v;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(v=h.nextSibling))break;d=(h=d).parentNode}h=v}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Ku=t;null!==Ku;)if(e=(t=Ku).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ku=e;else for(;null!==Ku;){t=Ku;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,y=p.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ui(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;if(1===k.nodeType)k.textContent="";else if(9===k.nodeType){var w=k.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){dc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ku=e;break}Ku=t.return}p=Hu,Hu=!1}(e,r),function(e,t){for(Ku=t;null!==Ku;){var n=(t=Ku).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(S){dc(i,t,S)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Ku=n;else for(;null!==Ku;){t=Ku;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(As=Xe())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,v=r=n=t;;){if(5===v.tag){if(null===d){d=v;var p=v.stateNode;if(i){var m=p.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var y=v.stateNode,g=v.memoizedProps.style,b=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;y.style.display=pe("display",b)}}}else if(6===v.tag)null===d&&(v.stateNode.nodeValue=i?"":v.memoizedProps);else if((22!==v.tag&&23!==v.tag||null===v.memoizedState||v===r)&&null!==v.child){v.child.return=v,v=v.child;continue}if(v===r)break;for(;null===v.sibling;){if(null===v.return||v.return===r)break e;d===v&&(d=null),v=v.return}d===v&&(d=null),v.sibling.return=v.return,v=v.sibling}}if(l&&!h&&0!==(1&n.mode)){Ku=n;for(var k=n.child;null!==k;){for(n=Ku=k;null!==Ku;){var w=(r=Ku).child;switch(r.tag){case 0:case 11:case 14:case 15:Qu(4,r,r.return);break;case 1:Gu(r,r.return);var x=r.stateNode;if("function"===typeof x.componentWillUnmount){var E=r.return;try{x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(S){dc(r,E,S)}}break;case 5:Gu(r,r.return);break;case 22:if(null!==r.memoizedState){ls(n);continue}}null!==w?(w.return=r,Ku=w):ls(n)}k=k.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(S){dc(t,t.return,S)}if(null!==(n=t.sibling)){n.return=t.return,Ku=n;break}Ku=t.return}}}(e,r),hr(Jr),Jr=null,e.current=r,us(r,e,i),Ye(),ys=s,gt=u,ms.transition=o}else e.current=r;if(Rs&&(Rs=!1,Ms=e,Fs=i),0===(o=e.pendingLanes)&&(Ls=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Ws(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Os)throw Os=!1,e=Ps,Ps=null,e;0!==(1&Fs)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===Vs?js++:(js=0,Vs=e):js=0,Vi()}(e,t,n)}finally{ms.transition=r,gt=n}return null}function fc(){if(null!==Ms){var e=bt(Fs),t=ms.transition,n=gt;try{if(ms.transition=null,gt=16>e?16:e,null===Ms)var r=!1;else{if(e=Ms,Ms=null,Fs=0,0!==(6&ys))throw Error(a(331));var i=ys;for(ys|=4,Ku=e.current;null!==Ku;){var o=Ku,u=o.child;if(0!==(16&Ku.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ku=l;null!==Ku;){var f=Ku;switch(f.tag){case 0:case 11:case 15:Qu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ku=h;else for(;null!==Ku;){var d=(f=Ku).sibling,v=f.return;if(Ju(f),f===l){Ku=null;break}if(null!==d){d.return=v,Ku=d;break}Ku=v}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ku=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ku=u;else e:for(;null!==Ku;){if(0!==(2048&(o=Ku).flags))switch(o.tag){case 0:case 11:case 15:Qu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ku=g;break e}Ku=o.return}}var b=e.current;for(Ku=b;null!==Ku;){var k=(u=Ku).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Ku=k;else e:for(u=b;null!==Ku;){if(0!==(2048&(s=Ku).flags))try{switch(s.tag){case 0:case 11:case 15:$u(9,s)}}catch(x){dc(s,s.return,x)}if(s===u){Ku=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ku=w;break e}Ku=s.return}}if(ys=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{gt=n,ms.transition=t}}return!1}function hc(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=zs(),null!==(e=Gs(e,1))&&(mt(e,1,t),Ws(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ls||!Ls.has(r))){na(t,e=cu(t,e=nu(n,e),1)),e=zs(),null!==(t=Gs(t,1))&&(mt(t,1,e),Ws(t,e));break}}t=t.return}}function vc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=zs(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(ks&n)===n&&(4===Es||3===Es&&(130023424&ks)===ks&&500>Xe()-As?tc(e,0):Is|=n),Ws(e,t)}function pc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=zs();null!==(e=Gs(e,t))&&(mt(e,t,n),Ws(e,n))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),pc(e,n)}function gc(e,t){return He(e,t)}function bc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kc(e,t,n,r){return new bc(e,t,n,r)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xc(e,t){var n=e.alternate;return null===n?((n=kc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ec(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)wc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Sc(n.children,i,o,t);case S:u=8,i|=8;break;case _:return(e=kc(12,n,t,2|i)).elementType=_,e.lanes=o,e;case N:return(e=kc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=kc(19,n,t,i)).elementType=A,e.lanes=o,e;case P:return _c(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case I:u=9;break e;case T:u=11;break e;case D:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=kc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Sc(e,t,n,r){return(e=kc(7,e,r,t)).lanes=n,e}function _c(e,t,n,r){return(e=kc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={},e}function Cc(e,t,n){return(e=kc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=kc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nc(e,t,n,r,i,a,o,u,s){return e=new Tc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=kc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Ac(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Dc(e){if(!e)return Si;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Oi(e,n,t)}return t}function Oc(e,t,n,r,i,a,o,u,s){return(e=Nc(n,r,!0,e,0,a,0,u,s)).context=Dc(null),n=e.current,(a=ta(r=zs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Ws(e,r),e}function Pc(e,t,n,r){var i=t.current,a=zs(),o=qs(i);return n=Dc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Ks(i,o,a))&&ra(e,i,o),o}function Lc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Rc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Mc(e,t){Rc(e,t),(e=e.alternate)&&Rc(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)yu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yu=!1,function(e,t,n){switch(t.tag){case 3:Iu(t),Fa();break;case 5:Ja(t);break;case 1:Ni(t.type)&&Pi(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(zi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Du(e,t,n):(Ei(eo,1&eo.current),null!==(e=Vu(e,t,n))?e.sibling:null);Ei(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ju(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,n)}return Vu(e,t,n)}(e,t,n);yu=0!==(131072&e.flags)}else yu=!1,Na&&0!==(1048576&t.flags)&&Sa(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ti(t,_i.current);$i(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Pi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Cu(null,t,r,!0,o,n)):(t.tag=0,Na&&o&&_a(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(r),e=Ui(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=_u(null,t,r,e,n);break e;case 11:t=bu(null,t,r,e,n);break e;case 14:t=ku(null,t,r,Ui(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 1:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 3:e:{if(Iu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Tu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Tu(e,t,r,n,i=Error(a(424)));break e}for(Ta=oi(t.stateNode.containerInfo.firstChild),Ia=t,Na=!0,Aa=null,n=Ka(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=Vu(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&La(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Zr(r,i)?u=null:null!==o&&Zr(r,o)&&(t.flags|=32),Eu(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&La(t),null;case 13:return Du(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,bu(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(zi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!Ci.current){t=Vu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Qi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Qi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$i(t,n),r=r(i=Yi(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=Ui(r=t.type,t.pendingProps),ku(e,t,r,i=Ui(r.type,i),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ni(r)?(e=!0,Pi(t)):e=!1,$i(t,n),fa(t,r,i),da(t,r,i,n),Cu(null,t,r,!0,e,n);case 19:return ju(e,t,n);case 22:return xu(e,t,n)}throw Error(a(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function jc(e){this._internalRoot=e}function Vc(e){this._internalRoot=e}function Bc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Uc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Lc(o);u.call(e)}}Pc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Lc(o);a.call(e)}}var o=Oc(t,r,e,0,null,!1,0,"",zc);return e._reactRootContainer=o,e[fi]=o.current,Br(8===e.nodeType?e.parentNode:e),Zs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Lc(s);u.call(e)}}var s=Nc(e,0,!1,null,0,!1,0,"",zc);return e._reactRootContainer=s,e[fi]=s.current,Br(8===e.nodeType?e.parentNode:e),Zs((function(){Pc(t,s,n,r)})),s}(n,t,e,i,r);return Lc(o)}Vc.prototype.render=jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Pc(e,t,null,null)},Vc.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zs((function(){Pc(null,e,null,null)})),t[fi]=null}},Vc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Ws(t,Xe()),0===(6&ys)&&(Ds=Xe()+500,Vi()))}break;case 13:var r=zs();Zs((function(){return Ks(e,1,r)})),Mc(e,1)}},wt=function(e){13===e.tag&&(Ks(e,134217728,zs()),Mc(e,134217728))},xt=function(e){if(13===e.tag){var t=zs(),n=qs(e);Ks(e,n,t),Mc(e,n)}},Et=function(){return gt},St=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=Js,Ne=Zs;var Kc={usingClientEntryPoint:!1,Events:[mi,yi,gi,Ce,Ie,Js]},Gc={findFiberByHostInstance:pi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Wc={bundleType:Gc.bundleType,version:Gc.version,rendererPackageName:Gc.rendererPackageName,rendererConfig:Gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:Gc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{it=Hc.inject(Wc),at=Hc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bc(t))throw Error(a(200));return Ac(e,t,null,n)},t.createRoot=function(e,t){if(!Bc(e))throw Error(a(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Nc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Br(8===e.nodeType?e.parentNode:e),new jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return Zs(e)},t.hydrate=function(e,t,n){if(!Uc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Bc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Oc(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vc(t)},t.render=function(e,t,n){if(!Uc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Uc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zs((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Js,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Uc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,p(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},L={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===v){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?v:h,s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=v,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",v="completed",p={};function m(){}function y(){}function g(){}var b={};s(b,a,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(N([])));w&&w!==n&&r.call(w,a)&&(b=w);var x=g.prototype=m.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,v=!1,p=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!p)if(null!==r(c))p=!0,P(x);else{var t=r(l);null!==t&&L(w,t.startTime-e)}}function x(e,n){p=!1,m&&(m=!1,g(C),C=-1),v=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&L(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,v=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,_=null,C=-1,I=5,T=-1;function N(){return!(t.unstable_now()-T<I)}function A(){if(null!==_){var e=t.unstable_now();T=e;var n=!0;try{n=_(!0,e)}finally{n?E():(S=!1,_=null)}}else S=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=A,E=function(){O.postMessage(null)}}else E=function(){y(A,0)};function P(e){_=e,S||(S=!0,E())}function L(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||v||(p=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(C),C=-1):m=!0,L(w,a-o))):(e.sortIndex=u,n(c,e),p||v||(p=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Xr},SDK_VERSION:function(){return Ki},_DEFAULT_ENTRY_NAME:function(){return Di},_addComponent:function(){return Ri},_addOrOverwriteComponent:function(){return Mi},_apps:function(){return Pi},_clearComponents:function(){return Bi},_components:function(){return Li},_getProvider:function(){return ji},_registerComponent:function(){return Fi},_removeServiceInstance:function(){return Vi},deleteApp:function(){return Qi},getApp:function(){return Wi},getApps:function(){return Hi},initializeApp:function(){return Gi},onLog:function(){return Xi},registerVersion:function(){return Yi},setLogLevel:function(){return Ji}});var t=n(791),r=n(250);function i(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function u(e){i(o,r,a,u,s,"next",e)}function s(e){i(o,r,a,u,s,"throw",e)}u(void 0)}))}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c,l=n(757),f=n.n(l);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(c||(c={}));var d=function(e){return e};var v="beforeunload",p="popstate";function m(e){e.preventDefault(),e.returnValue=""}function y(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function g(){return Math.random().toString(36).substr(2,8)}function b(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function k(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var w=(0,t.createContext)(null);var x=(0,t.createContext)(null);var E=(0,t.createContext)({outlet:null,matches:[]});function S(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=P(("string"===typeof t?k(t):t).pathname||"/",n);if(null==r)return null;var i=C(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=A(i[o],r);return a}function C(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||S(!1),a.relativePath=a.relativePath.slice(r.length));var o=L([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&S(!1),C(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:u})})),t}var I=/^:\w+$/,T=function(e){return"*"===e};function N(e,t){var n=e.split("/"),r=n.length;return n.some(T)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!T(e)})).reduce((function(e,t){return e+(I.test(t)?3:""===t?1:10)}),r)}function A(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=D({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:L([i,l.pathname]),pathnameBase:R(L([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=L([i,l.pathnameBase]))}return a}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=s(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],c=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function O(e,t,n){var r,i="string"===typeof e?k(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?k(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:M(a),hash:F(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var L=function(e){return e.join("/").replace(/\/\/+/g,"/")},R=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},M=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},F=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function j(e){V()||S(!1);var n=(0,t.useContext)(w),r=n.basename,i=n.navigator,a=K(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?k(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?r+(f?"/":""):L([r,u])}return i.createHref({pathname:c,search:s,hash:o})}function V(){return null!=(0,t.useContext)(x)}function B(){return V()||S(!1),(0,t.useContext)(x).location}function U(){V()||S(!1);var e=(0,t.useContext)(w),n=e.basename,r=e.navigator,i=(0,t.useContext)(E).matches,a=B().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,t.useRef)(!1);(0,t.useEffect)((function(){u.current=!0}));var s=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=O(e,JSON.parse(o),a);"/"!==n&&(i.pathname=L([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}var z=(0,t.createContext)(null);function q(){return(0,t.useContext)(z)}function K(e){var n=(0,t.useContext)(E).matches,r=B().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return O(e,JSON.parse(i),r)}),[e,i,r])}function G(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(E.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function W(e){return function(e){var n=(0,t.useContext)(E).outlet;return n?(0,t.createElement)(z.Provider,{value:e},n):n}(e.context)}function H(e){S(!1)}function Q(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?c.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;V()&&S(!1);var d=R(r),v=(0,t.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof o&&(o=k(o));var p=o,m=p.pathname,y=void 0===m?"/":m,g=p.search,b=void 0===g?"":g,E=p.hash,_=void 0===E?"":E,C=p.state,I=void 0===C?null:C,T=p.key,N=void 0===T?"default":T,A=(0,t.useMemo)((function(){var e=P(y,d);return null==e?null:{pathname:e,search:b,hash:_,state:I,key:N}}),[d,y,b,_,I,N]);return null==A?null:(0,t.createElement)(w.Provider,{value:v},(0,t.createElement)(x.Provider,{children:a,value:{location:A,navigationType:s}}))}function $(e){var n=e.children,r=e.location;return function(e,n){V()||S(!1);var r,i=(0,t.useContext)(E).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,B());if(n){var c,l="string"===typeof n?k(n):n;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||S(!1),r=l}else r=s;var f=r.pathname||"/",h=_(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return G(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:L([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:L([u,e.pathnameBase])})})),i)}(Y(n),r)}function Y(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==H&&S(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=Y(e.props.children)),n.push(r)}else n.push.apply(n,Y(e.props.children))})),n}var X="App_App__Content__qb-o-",J=n(184),Z=(0,t.createContext)(),ee=function(e){var n=e.children,r=s((0,t.useState)(""),2),i={search:r[0],setSearch:r[1]};return(0,J.jsx)(Z.Provider,{value:i,children:n})},te={SearchBar:"SearchBar_SearchBar__3yDlL"};function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function oe(e,t){if(null==e)return{};var n,r,i=ae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ue=n(694),se=n.n(ue),ce=["as","disabled"];function le(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,u=e.tabIndex,s=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:"button",disabled:void 0,tabIndex:n?void 0:s,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var fe=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ce),a=s(le(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],u=a[1].tagName;return(0,J.jsx)(u,Object.assign({},i,o,{ref:t}))}));fe.displayName="Button";var he=fe,de=["xxl","xl","lg","md","sm","xs"],ve=t.createContext({prefixes:{},breakpoints:de});ve.Consumer,ve.Provider;function pe(e,n){var r=(0,t.useContext)(ve).prefixes;return e||r[n]||n}var me=["as","bsPrefix","variant","size","active","className"],ye=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,u=e.className,c=oe(e,me),l=pe(r,"btn"),f=s(le(ie({tagName:n},c)),2),h=f[0],d=f[1].tagName;return(0,J.jsx)(d,ie(ie(ie({},h),c),{},{ref:t,className:se()(u,l,o&&"active",i&&"".concat(l,"-").concat(i),a&&"".concat(l,"-").concat(a),c.href&&c.disabled&&"disabled")}))}));ye.displayName="Button",ye.defaultProps={variant:"primary",active:!1,disabled:!1};var ge=ye,be=function(){var e=(0,t.useContext)(Z),n=(e.search,e.setSearch),r=s((0,t.useState)(""),2),i=r[0],a=r[1],o=function(e){e.preventDefault(),n(i),a(""),u("/products")},u=U();return(0,J.jsxs)("form",{className:te.SearchBar,onSubmit:o,children:[(0,J.jsx)("input",{type:"text",className:te.SearchBar__Input+" me-2",placeholder:"Search",onChange:function(e){a(e.target.value)},value:i}),(0,J.jsx)(ge,{variant:"outline-success",onClick:o,children:"Search"})]})},ke={NavBar:"NavBar_NavBar__5Szro",NavBar__List_Links:"NavBar_NavBar__List_Links__LfKW0"};function we(){return we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Ee=["onClick","reloadDocument","replace","state","target","to"];function Se(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,d({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(p,(function(){if(a)w.call(a),a=null;else{var e=c.Pop,t=i(),n=t[0],r=t[1];if(w.length){if(null!=n){var o=s-n;o&&(a={action:e,location:r,retry:function(){I(-1*o)}},I(o))}}else C(e)}}));var o=c.Pop,u=i(),s=u[0],l=u[1],f=y(),w=y();function x(e){return"string"===typeof e?e:b(e)}function E(e,t){return void 0===t&&(t=null),d(h({pathname:l.pathname,hash:"",search:""},"string"===typeof e?k(e):e,{state:t,key:g()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function _(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function C(e){o=e;var t=i();s=t[0],l=t[1],f.call({action:o,location:l})}function I(e){r.go(e)}null==s&&(s=0,r.replaceState(h({},r.state,{idx:s}),""));var T={get action(){return o},get location(){return l},createHref:x,push:function e(t,i){var a=c.Push,o=E(t,i);if(_(a,o,(function(){e(t,i)}))){var u=S(o,s+1),l=u[0],f=u[1];try{r.pushState(l,"",f)}catch(h){n.location.assign(f)}C(a)}},replace:function e(t,n){var i=c.Replace,a=E(t,n);if(_(i,a,(function(){e(t,n)}))){var o=S(a,s),u=o[0],l=o[1];r.replaceState(u,"",l),C(i)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return f.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&n.addEventListener(v,m),function(){t(),w.length||n.removeEventListener(v,m)}}};return T}({window:i}));var o=a.current,u=s((0,t.useState)({action:o.action,location:o.location}),2),l=u[0],f=u[1];return(0,t.useLayoutEffect)((function(){return o.listen(f)}),[o]),(0,t.createElement)(Q,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}var _e=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=xe(e,Ee),f=j(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=U(),s=B(),c=K(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||b(s)===b(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,t.createElement)("a",we({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:s}))}));var Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Ie=t.createContext(null);n(176);function Te(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Ne(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Ae(e,n){return Object.keys(n).reduce((function(r,i){var a,o=r,u=o[Te(i)],s=o[i],c=ae(o,[Te(i),i].map(Ne)),l=n[i],f=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],u=a[1],s=void 0!==e,c=i.current;return i.current=s,!s&&c&&o!==n&&u(n),[s?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),u(e)}),[r])]}(s,u,e[l]),d=f[0],v=f[1];return h({},c,((a={})[i]=d,a[l]=v,a))}),e)}function De(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Oe(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Pe(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}De.__suppressDeprecationWarning=!0,Oe.__suppressDeprecationWarning=!0,Pe.__suppressDeprecationWarning=!0;var Le=/-(.)/g;var Re=["className","bsPrefix","as"],Me=function(e){return e[0].toUpperCase()+(t=e,t.replace(Le,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Fe(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?Me(e):r,a=n.Component,o=n.defaultProps,u=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,u=void 0===o?a||"div":o,s=oe(t,Re),c=pe(i,e);return(0,J.jsx)(u,ie({ref:n,className:se()(r,c)},s))}));return u.defaultProps=o,u.displayName=i,u}var je=["bsPrefix","className","as"],Ve=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=oe(e,je);n=pe(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,J.jsx)(o,ie(ie({},a),{},{ref:t,className:se()(r,n)}))}));Ve.displayName="NavbarBrand";var Be=Ve;function Ue(e){return e&&e.ownerDocument||document}function ze(e,t){return function(e){var t=Ue(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var qe=/([A-Z])/g;var Ke=/^ms-/;function Ge(e){return function(e){return e.replace(qe,"-$1").toLowerCase()}(e).replace(Ke,"-ms-")}var We=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var He=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Ge(t))||ze(e).getPropertyValue(Ge(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!We.test(e))}(i)?n+=Ge(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Ge(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Qe(e,t){return Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qe(e,t)}var $e=n(164),Ye=!1,Xe=t.createContext(null),Je="unmounted",Ze="exited",et="entering",tt="entered",nt="exiting",rt=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Ze,r.appearStatus=et):i=tt:i=t.unmountOnExit||t.mountOnEnter?Je:Ze,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Qe(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Je?{status:Ze}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==et&&n!==tt&&(t=et):n!==et&&n!==tt||(t=nt)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===et?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Ze&&this.setState({status:Je})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[$e.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||Ye?this.safeSetState({status:tt},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:et},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:tt},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:$e.findDOMNode(this);t&&!Ye?(this.props.onExit(r),this.safeSetState({status:nt},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ze},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ze},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:$e.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===Je)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,ae(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Xe.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function it(){}rt.contextType=Xe,rt.propTypes={},rt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:it,onEntering:it,onEntered:it,onExit:it,onExiting:it,onExited:it},rt.UNMOUNTED=Je,rt.EXITED=Ze,rt.ENTERING=et,rt.ENTERED=tt,rt.EXITING=nt;var at=rt,ot=!("undefined"===typeof window||!window.document||!window.document.createElement),ut=!1,st=!1;try{var ct={get passive(){return ut=!0},get once(){return st=ut=!0}};ot&&(window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,!0))}catch($C){}var lt=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!st){var i=r.once,a=r.capture,o=n;!st&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,ut?r:a)}e.addEventListener(t,n,r)};var ft=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var ht=function(e,t,n,r){return lt(e,t,n,r),function(){ft(e,t,n,r)}};function dt(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=ht(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function vt(e,t,n,r){null==n&&(n=function(e){var t=He(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=dt(e,n,r),a=ht(e,"transitionend",t);return function(){i(),a()}}function pt(e,t){var n=He(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function mt(e,t){var n=pt(e,"transitionDuration"),r=pt(e,"transitionDelay"),i=vt(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var yt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function gt(e){e.offsetHeight}var bt=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var kt=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=bt(e),r=bt(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var wt,xt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Et=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,s=e.onExited,c=e.addEndListener,l=e.children,f=e.childRef,h=oe(e,xt),d=(0,t.useRef)(null),v=kt(d,f),p=function(e){var t;v((t=e)&&"setState"in t?$e.findDOMNode(t):null!=t?t:null)},m=function(e){return function(t){e&&d.current&&e(d.current,t)}},y=(0,t.useCallback)(m(r),[r]),g=(0,t.useCallback)(m(i),[i]),b=(0,t.useCallback)(m(a),[a]),k=(0,t.useCallback)(m(o),[o]),w=(0,t.useCallback)(m(u),[u]),x=(0,t.useCallback)(m(s),[s]),E=(0,t.useCallback)(m(c),[c]);return(0,J.jsx)(at,ie(ie({ref:n},h),{},{onEnter:y,onEntered:b,onEntering:g,onExit:k,onExited:x,onExiting:w,addEndListener:E,nodeRef:d,children:"function"===typeof l?function(e,t){return l(e,ie(ie({},t),{},{ref:p}))}:t.cloneElement(l,{ref:p})}))})),St=Et,_t=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],Ct={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function It(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=Ct[e];return n+parseInt(He(t,r[0]),10)+parseInt(He(t,r[1]),10)}var Tt=(ne(wt={},Ze,"collapse"),ne(wt,nt,"collapsing"),ne(wt,et,"collapsing"),ne(wt,tt,"collapse show"),wt),Nt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:It},At=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,s=e.className,c=e.children,l=e.dimension,f=void 0===l?"height":l,h=e.getDimensionValue,d=void 0===h?It:h,v=oe(e,_t),p="function"===typeof f?f():f,m=(0,t.useMemo)((function(){return yt((function(e){e.style[p]="0"}),r)}),[p,r]),y=(0,t.useMemo)((function(){return yt((function(e){var t="scroll".concat(p[0].toUpperCase()).concat(p.slice(1));e.style[p]="".concat(e[t],"px")}),i)}),[p,i]),g=(0,t.useMemo)((function(){return yt((function(e){e.style[p]=null}),a)}),[p,a]),b=(0,t.useMemo)((function(){return yt((function(e){e.style[p]="".concat(d(p,e),"px"),gt(e)}),o)}),[o,d,p]),k=(0,t.useMemo)((function(){return yt((function(e){e.style[p]=null}),u)}),[p,u]);return(0,J.jsx)(St,ie(ie({ref:n,addEndListener:mt},v),{},{"aria-expanded":v.role?v.in:null,onEnter:m,onEntering:y,onEntered:g,onExit:b,onExiting:k,childRef:c.ref,children:function(e,n){return t.cloneElement(c,ie(ie({},n),{},{className:se()(s,c.props.className,Tt[e],"width"===p&&"collapse-horizontal")}))}}))}));At.defaultProps=Nt;var Dt=At,Ot=t.createContext(null);Ot.displayName="NavbarContext";var Pt=Ot,Lt=["children","bsPrefix"],Rt=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=oe(e,Lt);i=pe(i,"navbar-collapse");var o=(0,t.useContext)(Pt);return(0,J.jsx)(Dt,ie(ie({in:!(!o||!o.expanded)},a),{},{children:(0,J.jsx)("div",{ref:n,className:i,children:r})}))}));Rt.displayName="NavbarCollapse";var Mt=Rt;var Ft=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function jt(e){var n=Ft(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var Vt=["bsPrefix","className","children","label","as","onClick"],Bt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.label,u=e.as,s=void 0===u?"button":u,c=e.onClick,l=oe(e,Vt);r=pe(r,"navbar-toggler");var f=(0,t.useContext)(Pt)||{},h=f.onToggle,d=f.expanded,v=jt((function(e){c&&c(e),h&&h()}));return"button"===s&&(l.type="button"),(0,J.jsx)(s,ie(ie({},l),{},{ref:n,onClick:v,"aria-label":o,className:se()(i,r,!d&&"collapsed"),children:a||(0,J.jsx)("span",{className:"".concat(r,"-icon")})}))}));Bt.displayName="NavbarToggle",Bt.defaultProps={label:"Toggle navigation"};var Ut=Bt;function zt(e){void 0===e&&(e=Ue());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch($C){return e.body}}function qt(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Kt(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}function Gt(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function Wt(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t,n){return t&&Qt(e.prototype,t),n&&Qt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yt(e){return"".concat("data-rr-ui-").concat(e)}var Xt=Yt("modal-open"),Jt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;Ht(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return $t(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=ne({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(He(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Xt,""),He(r,t)}},{key:"reset",value:function(){var e=this;Wt(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(Xt),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Zt=Jt,en=(0,t.createContext)(ot?window:void 0);en.Provider;function tn(){return(0,t.useContext)(en)}var nn=function(e,t){var n;return ot?null==e?(t||Ue()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var rn,an=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function on(e){var n=tn(),r=e||function(e){return rn||(rn=new Zt({ownerDocument:null==e?void 0:e.document})),rn}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var un=(0,t.forwardRef)((function(e,n){var r=e.show,i=void 0!==r&&r,a=e.role,o=void 0===a?"dialog":a,u=e.className,c=e.style,l=e.children,f=e.backdrop,h=void 0===f||f,d=e.keyboard,v=void 0===d||d,p=e.onBackdropClick,m=e.onEscapeKeyDown,y=e.transition,g=e.backdropTransition,b=e.autoFocus,k=void 0===b||b,w=e.enforceFocus,x=void 0===w||w,E=e.restoreFocus,S=void 0===E||E,_=e.restoreFocusOptions,C=e.renderDialog,I=e.renderBackdrop,T=void 0===I?function(e){return(0,J.jsx)("div",Object.assign({},e))}:I,N=e.manager,A=e.container,D=e.onShow,O=e.onHide,P=void 0===O?function(){}:O,L=e.onExit,R=e.onExited,M=e.onExiting,F=e.onEnter,j=e.onEntering,V=e.onEntered,B=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,an),U=function(e,n){var r=tn(),i=s((0,t.useState)((function(){return nn(e,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var u=nn(e);u&&o(u)}return(0,t.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,t.useEffect)((function(){var t=nn(e);t!==a&&o(t)}),[e,a]),a}(A),z=on(N),q=Kt(),K=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(i),G=s((0,t.useState)(!i),2),W=G[0],H=G[1],Q=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return z}),[z]),ot&&!K&&i&&(Q.current=zt()),y||i||W?i&&W&&H(!1):H(!0);var $=jt((function(){if(z.add(),ne.current=ht(document,"keydown",ee),te.current=ht(document,"focus",(function(){return setTimeout(X)}),!0),D&&D(),k){var e=zt(document);z.dialog&&e&&!qt(z.dialog,e)&&(Q.current=e,z.dialog.focus())}})),Y=jt((function(){var e;(z.remove(),null==ne.current||ne.current(),null==te.current||te.current(),S)&&(null==(e=Q.current)||null==e.focus||e.focus(_),Q.current=null)}));(0,t.useEffect)((function(){i&&U&&$()}),[i,U,$]),(0,t.useEffect)((function(){W&&Y()}),[W,Y]),Gt((function(){Y()}));var X=jt((function(){if(x&&q()&&z.isTopModal()){var e=zt();z.dialog&&e&&!qt(z.dialog,e)&&z.dialog.focus()}})),Z=jt((function(e){e.target===e.currentTarget&&(null==p||p(e),!0===h&&P())})),ee=jt((function(e){v&&27===e.keyCode&&z.isTopModal()&&(null==m||m(e),e.defaultPrevented||P())})),te=(0,t.useRef)(),ne=(0,t.useRef)(),re=y;if(!U||!(i||re&&!W))return null;var ie=Object.assign({role:o,ref:z.setDialogRef,"aria-modal":"dialog"===o||void 0},B,{style:c,className:u,tabIndex:-1}),ae=C?C(ie):(0,J.jsx)("div",Object.assign({},ie,{children:t.cloneElement(l,{role:"document"})}));re&&(ae=(0,J.jsx)(re,{appear:!0,unmountOnExit:!0,in:!!i,onExit:L,onExiting:M,onExited:function(){H(!0),null==R||R.apply(void 0,arguments)},onEnter:F,onEntering:j,onEntered:V,children:ae}));var oe=null;if(h){var ue=g;oe=T({ref:z.setBackdropRef,onClick:Z}),ue&&(oe=(0,J.jsx)(ue,{appear:!0,in:!!i,children:oe}))}return(0,J.jsx)(J.Fragment,{children:$e.createPortal((0,J.jsxs)(J.Fragment,{children:[oe,ae]}),U)})}));un.displayName="Modal";var sn,cn=Object.assign(un,{Manager:Zt}),ln=["className","children","transitionClasses"],fn=(ne(sn={},et,"show"),ne(sn,tt,"show"),sn),hn=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,u=oe(e,ln),s=(0,t.useCallback)((function(e,t){gt(e),null==u.onEnter||u.onEnter(e,t)}),[u]);return(0,J.jsx)(St,ie(ie({ref:n,addEndListener:mt},u),{},{onEnter:s,childRef:i.ref,children:function(e,n){return t.cloneElement(i,ie(ie({},n),{},{className:se()("fade",r,i.props.className,fn[e],o[e])}))}}))}));hn.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},hn.displayName="Fade";var dn,vn=hn,pn=Fe("offcanvas-body"),mn=["bsPrefix","className","children"],yn=(ne(dn={},et,"show"),ne(dn,tt,"show"),dn),gn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=oe(e,mn);return r=pe(r,"offcanvas"),(0,J.jsx)(St,ie(ie({ref:n,addEndListener:mt},o),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,ie(ie({},n),{},{className:se()(i,a.props.className,(e===et||e===nt)&&"".concat(r,"-toggling"),yn[e])}))}}))}));gn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},gn.displayName="OffcanvasToggling";var bn=gn,kn=t.createContext({onHide:function(){}}),wn=n(7),xn=n.n(wn),En=["className","variant"],Sn={"aria-label":xn().string,onClick:xn().func,variant:xn().oneOf(["white"])},_n=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=oe(e,En);return(0,J.jsx)("button",ie({ref:t,type:"button",className:se()("btn-close",r&&"btn-close-".concat(r),n)},i))}));_n.displayName="CloseButton",_n.propTypes=Sn,_n.defaultProps={"aria-label":"Close"};var Cn=_n,In=["closeLabel","closeVariant","closeButton","onHide","children"],Tn=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,u=e.children,s=oe(e,In),c=(0,t.useContext)(kn),l=jt((function(){null==c||c.onHide(),null==o||o()}));return(0,J.jsxs)("div",ie(ie({ref:n},s),{},{children:[u,a&&(0,J.jsx)(Cn,{"aria-label":r,variant:i,onClick:l})]}))}));Tn.defaultProps={closeLabel:"Close",closeButton:!1};var Nn=Tn,An=["bsPrefix","className"],Dn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=oe(e,An);return n=pe(n,"offcanvas-header"),(0,J.jsx)(Nn,ie(ie({ref:t},i),{},{className:se()(r,n)}))}));Dn.displayName="OffcanvasHeader",Dn.defaultProps={closeLabel:"Close",closeButton:!1};var On=Dn,Pn=function(e){return t.forwardRef((function(t,n){return(0,J.jsx)("div",ie(ie({},t),{},{ref:n,className:se()(t.className,e)}))}))},Ln=Fe("offcanvas-title",{Component:Pn("h5")});function Rn(e){return Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rn(e)}function Mn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rn(e)););return e}function Fn(){return Fn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Mn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Fn.apply(this,arguments)}function jn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qe(e,t)}function Vn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch($C){return!1}}function Bn(e){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(e)}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zn(e,t){if(t&&("object"===Bn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Un(e)}function qn(e){var t=Vn();return function(){var n,r=Rn(e);if(t){var i=Rn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zn(this,n)}}var Kn=Function.prototype.bind.call(Function.prototype.call,[].slice);function Gn(e,t){return Kn(e.querySelectorAll(t))}function Wn(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Hn,Qn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",$n=".sticky-top",Yn=".navbar-toggler",Xn=function(e){jn(n,e);var t=qn(n);function n(){return Ht(this,n),t.apply(this,arguments)}return $t(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,He(t,ne({},e,"".concat(parseFloat(He(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],He(t,ne({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Fn(Rn(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";Gn(a,Qn).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),Gn(a,$n).forEach((function(n){return t.adjustAndStore(u,n,-e.scrollBarWidth)})),Gn(a,Yn).forEach((function(n){return t.adjustAndStore(u,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Fn(Rn(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=Wn(r.className,i):r.setAttribute("class",Wn(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";Gn(a,Qn).forEach((function(e){return t.restore(o,e)})),Gn(a,$n).forEach((function(e){return t.restore(u,e)})),Gn(a,Yn).forEach((function(e){return t.restore(u,e)}))}}]),n}(Zt);var Jn=Xn,Zn=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function er(e){return(0,J.jsx)(bn,ie({},e))}function tr(e){return(0,J.jsx)(vn,ie({},e))}var nr=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],u=e.placement,s=e.show,c=e.backdrop,l=e.keyboard,f=e.scroll,h=e.onEscapeKeyDown,d=e.onShow,v=e.onHide,p=e.container,m=e.autoFocus,y=e.enforceFocus,g=e.restoreFocus,b=e.restoreFocusOptions,k=e.onEntered,w=e.onExit,x=e.onExiting,E=e.onEnter,S=e.onEntering,_=e.onExited,C=e.backdropClassName,I=e.manager,T=oe(e,Zn),N=(0,t.useRef)();r=pe(r,"offcanvas");var A=((0,t.useContext)(Pt)||{}).onToggle,D=jt((function(){null==A||A(),null==v||v()})),O=(0,t.useMemo)((function(){return{onHide:D}}),[D]);var P=(0,t.useCallback)((function(e){return(0,J.jsx)("div",ie(ie({},e),{},{className:se()("".concat(r,"-backdrop"),C)}))}),[C,r]);return(0,J.jsx)(kn.Provider,{value:O,children:(0,J.jsx)(cn,{show:s,ref:n,backdrop:c,container:p,keyboard:l,autoFocus:m,enforceFocus:y&&!f,restoreFocus:g,restoreFocusOptions:b,onEscapeKeyDown:h,onShow:d,onHide:D,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==E||E.apply(void 0,[e].concat(n))},onEntering:S,onEntered:k,onExit:w,onExiting:x,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==_||_.apply(void 0,n)},manager:I||(f?(N.current||(N.current=new Jn({handleContainerOverflow:!1})),N.current):function(e){return Hn||(Hn=new Xn(e)),Hn}()),transition:er,backdropTransition:tr,renderBackdrop:P,renderDialog:function(e){return(0,J.jsx)("div",ie(ie(ie({role:"dialog"},e),T),{},{className:se()(i,r,"".concat(r,"-").concat(u)),"aria-labelledby":o,children:a}))}})})}));nr.displayName="Offcanvas",nr.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var rr=Object.assign(nr,{Body:pn,Header:On,Title:Ln}),ir=t.forwardRef((function(e,n){var r=(0,t.useContext)(Pt);return(0,J.jsx)(rr,ie({ref:n,show:!(null==r||!r.expanded)},e))}));ir.displayName="NavbarOffcanvas";var ar=ir,or=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],ur=Fe("navbar-text",{Component:"span"}),sr=t.forwardRef((function(e,n){var r=Ae(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=r.variant,u=r.bg,s=r.fixed,c=r.sticky,l=r.className,f=r.as,h=void 0===f?"nav":f,d=r.expanded,v=r.onToggle,p=r.onSelect,m=r.collapseOnSelect,y=oe(r,or),g=pe(i,"navbar"),b=(0,t.useCallback)((function(){null==p||p.apply(void 0,arguments),m&&d&&(null==v||v(!1))}),[p,m,d,v]);void 0===y.role&&"nav"!==h&&(y.role="navigation");var k="".concat(g,"-expand");"string"===typeof a&&(k="".concat(k,"-").concat(a));var w=(0,t.useMemo)((function(){return{onToggle:function(){return null==v?void 0:v(!d)},bsPrefix:g,expanded:!!d}}),[g,d,v]);return(0,J.jsx)(Pt.Provider,{value:w,children:(0,J.jsx)(Ie.Provider,{value:b,children:(0,J.jsx)(h,ie(ie({ref:n},y),{},{className:se()(l,g,a&&k,o&&"".concat(g,"-").concat(o),u&&"bg-".concat(u),c&&"sticky-".concat(c),s&&"fixed-".concat(s))}))})})}));sr.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},sr.displayName="Navbar";var cr=Object.assign(sr,{Brand:Be,Collapse:Mt,Offcanvas:ar,Text:ur,Toggle:Ut}),lr=["bsPrefix","fluid","as","className"],fr=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,u=oe(e,lr),s=pe(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,J.jsx)(a,ie(ie({ref:t},u),{},{className:se()(o,r?"".concat(s).concat(c):s)}))}));fr.displayName="Container",fr.defaultProps={fluid:!1};var hr=fr;n(573);var dr=t.createContext(null);dr.displayName="NavContext";var vr=dr,pr=t.createContext(null),mr=["as","active","eventKey"];function yr(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,u=e.disabled,s=(0,t.useContext)(Ie),c=(0,t.useContext)(vr),l=(0,t.useContext)(pr),f=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var d=c.getControllerId(null!=n?n:null),v=c.getControlledId(null!=n?n:null);h[Yt("event-key")]=n,h.id=d||a,!(f=null==i&&null!=n?c.activeKey===n:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=v)}return"tab"===h.role&&(u&&(h.tabIndex=-1,h["aria-disabled"]=!0),f?h["aria-selected"]=f:h.tabIndex=-1),h.onClick=jt((function(e){u||(null==r||r(e),null!=n&&s&&!e.isPropagationStopped()&&s(n,e))})),[h,{isActive:f}]}var gr=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?he:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,mr),u=s(yr(Object.assign({key:Ce(a,o.href),active:i},o)),2),c=u[0],l=u[1];return c[Yt("active")]=l.isActive,(0,J.jsx)(r,Object.assign({},o,c,{ref:t}))}));gr.displayName="NavItem";var br=gr,kr=["as","onSelect","activeKey","role","onKeyDown"];var wr=function(){},xr=Yt("event-key"),Er=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,u=e.onSelect,s=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,kr),h=(0,t.useReducer)((function(e){return!e}),!1)[1],d=(0,t.useRef)(!1),v=(0,t.useContext)(Ie),p=(0,t.useContext)(pr);p&&(c=c||"tablist",s=p.activeKey,r=p.getControlledId,i=p.getControllerId);var m=(0,t.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n=Gn(t,"[".concat(xr,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==u||u(e,t),null==v||v(e,t))};(0,t.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(xr,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var b=kt(n,m);return(0,J.jsx)(Ie.Provider,{value:g,children:(0,J.jsx)(vr.Provider,{value:{role:c,activeKey:Ce(s),getControlledId:r||wr,getControllerId:i||wr},children:(0,J.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),p){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:b,role:c}))})})}));Er.displayName="Nav";var Sr=Object.assign(Er,{Item:br}),_r=t.createContext(null);_r.displayName="CardHeaderContext";var Cr=_r,Ir=Fe("nav-item");var Tr="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||Tr?t.useLayoutEffect:t.useEffect,new WeakMap;var Nr=["onKeyDown"];var Ar=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Nr),a=s(le(Object.assign({tagName:"a"},i)),1)[0],o=jt((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,J.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,J.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));Ar.displayName="Anchor";var Dr=Ar,Or=["bsPrefix","className","as","active","eventKey"],Pr=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?Dr:i,o=e.active,u=e.eventKey,c=oe(e,Or);n=pe(n,"nav-link");var l=s(yr(ie({key:Ce(u,c.href),active:o},c)),2),f=l[0],h=l[1];return(0,J.jsx)(a,ie(ie(ie({},c),f),{},{ref:t,className:se()(r,n,c.disabled&&"disabled",h.isActive&&"active")}))}));Pr.displayName="NavLink",Pr.defaultProps={disabled:!1};var Lr=Pr,Rr=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Mr=t.forwardRef((function(e,n){var r,i,a,o=Ae(e,{activeKey:"onSelect"}),u=o.as,s=void 0===u?"div":u,c=o.bsPrefix,l=o.variant,f=o.fill,h=o.justify,d=o.navbar,v=o.navbarScroll,p=o.className,m=o.activeKey,y=oe(o,Rr),g=pe(c,"nav"),b=!1,k=(0,t.useContext)(Pt),w=(0,t.useContext)(Cr);return k?(i=k.bsPrefix,b=null==d||d):w&&(a=w.cardHeaderBsPrefix),(0,J.jsx)(Sr,ie({as:s,ref:n,activeKey:m,className:se()(p,(r={},ne(r,g,!b),ne(r,"".concat(i,"-nav"),b),ne(r,"".concat(i,"-nav-scroll"),b&&v),ne(r,"".concat(a,"-").concat(l),!!a),ne(r,"".concat(g,"-").concat(l),!!l),ne(r,"".concat(g,"-fill"),f),ne(r,"".concat(g,"-justified"),h),r))},y))}));Mr.displayName="Nav",Mr.defaultProps={justify:!1,fill:!1};var Fr=Object.assign(Mr,{Item:Ir,Link:Lr}),jr=function(){var e=(0,t.useContext)(Z),n=(e.search,e.setSearch),r=function(){n("")};return(0,J.jsx)(cr,{bg:"light",expand:"md",children:(0,J.jsxs)(hr,{fluid:!0,className:ke.NavBar,children:[(0,J.jsx)(cr.Brand,{href:"/react-shop/",children:"shop d\xe9 mo."}),(0,J.jsx)(cr.Toggle,{"aria-controls":"responsive-navbar-nav"}),(0,J.jsxs)(cr.Collapse,{id:"navbarScroll",className:ke.NavBar__List,children:[(0,J.jsxs)(Fr,{justify:"true",className:ke.NavBar__List_Links+" ms-auto",children:[(0,J.jsx)(_e,{to:"/",onClick:r,children:"Home"}),(0,J.jsx)(_e,{to:"/products",onClick:r,children:"Products"}),(0,J.jsx)(_e,{to:"/favourites",onClick:r,children:"Favourites"}),(0,J.jsx)(_e,{to:"/cart",onClick:r,children:"Cart"})]}),(0,J.jsx)(be,{})]})]})})};function Vr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Br(e,t,n){return Br=Vn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Qe(i,n.prototype),i},Br.apply(null,arguments)}function Ur(e){var t="function"===typeof Map?new Map:void 0;return Ur=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Br(e,arguments,Rn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Qe(n,e)},Ur(e)}var zr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},qr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Kr=function(e){return function(e){var t=zr(e);return qr.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function Gr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Gr(e[n],t[n]));return e}var Wr=function(){function e(){var t=this;Ht(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return $t(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Hr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Kr(JSON.stringify({alg:"none",type:"JWT"})),Kr(JSON.stringify(a)),""].join(".")}function Qr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function $r(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch($C){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yr(){return"object"===typeof indexedDB}var Xr=function(e){jn(n,e);var t=qn(n);function n(e,r,i){var a;return Ht(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Un(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Un(a),Jr.prototype.create),a}return $t(n)}(Ur(Error)),Jr=function(){function e(t,n,r){Ht(this,e),this.service=t,this.serviceName=n,this.errors=r}return $t(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Zr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Xr(n,a,t);return o}}]),e}();function Zr(e,t){return e.replace(ei,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ei=/\{\$([^}]+)}/g;function ti(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ni(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ri(u)&&ri(s)){if(!ni(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ri(e){return null!==e&&"object"===typeof e}function ii(e,t){var n=new ai(e,t);return n.subscribe.bind(n)}var ai=function(){function e(t,n){var r=this;Ht(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return $t(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Vr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=oi),void 0===r.error&&(r.error=oi),void 0===r.complete&&(r.complete=oi);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch($C){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch($C){"undefined"!==typeof console&&console.error&&console.error($C)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function oi(){}function ui(e){return e&&e._delegate?e._delegate:e}function si(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var ci=function(){function e(t){Ht(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return $t(e,[{key:"transaction",value:function(e,t){return new li(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new fi(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),li=function(){function e(t){var n=this;Ht(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return $t(e,[{key:"objectStore",value:function(e){return new fi(this._transaction.objectStore(e))}}]),e}(),fi=function(){function e(t){Ht(this,e),this._store=t}return $t(e,[{key:"index",value:function(e){return new hi(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new hi(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return si(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return si(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return si(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return si(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),hi=function(){function e(t){Ht(this,e),this._index=t}return $t(e,[{key:"get",value:function(e){return si(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var di=function(){function e(t,n,r){Ht(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return $t(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),vi="[DEFAULT]",pi=function(){function e(t,n){Ht(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return $t(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Wr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch($C){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch($C){if(r)return null;throw $C}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:vi})}catch($C){}var t,n=Vr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch($C){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=a(l.mark((function e(){var t;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Wt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Wt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Vr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Vr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Vg){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===vi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Vg){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi;return this.component?this.component.multipleInstances?e:vi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var mi,yi,gi=function(){function e(t){Ht(this,e),this.name=t,this.providers=new Map}return $t(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new pi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),bi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yi||(yi={}));var ki,wi,xi={debug:yi.DEBUG,verbose:yi.VERBOSE,info:yi.INFO,warn:yi.WARN,error:yi.ERROR,silent:yi.SILENT},Ei=yi.INFO,Si=(ne(mi={},yi.DEBUG,"log"),ne(mi,yi.VERBOSE,"log"),ne(mi,yi.INFO,"info"),ne(mi,yi.WARN,"warn"),ne(mi,yi.ERROR,"error"),mi),_i=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Si[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ci=function(){function e(t){Ht(this,e),this.name=t,this._logLevel=Ei,this._logHandler=_i,this._userLogHandler=null,bi.push(this)}return $t(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in yi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?xi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yi.DEBUG].concat(t)),this._logHandler.apply(this,[this,yi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,yi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yi.INFO].concat(t)),this._logHandler.apply(this,[this,yi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yi.WARN].concat(t)),this._logHandler.apply(this,[this,yi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yi.ERROR].concat(t)),this._logHandler.apply(this,[this,yi.ERROR].concat(t))}}]),e}();var Ii=function(){function e(t){Ht(this,e),this.container=t}return $t(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ti="@firebase/app",Ni="0.7.20",Ai=new Ci("@firebase/app"),Di="[DEFAULT]",Oi=(ne(ki={},Ti,"fire-core"),ne(ki,"@firebase/app-compat","fire-core-compat"),ne(ki,"@firebase/analytics","fire-analytics"),ne(ki,"@firebase/analytics-compat","fire-analytics-compat"),ne(ki,"@firebase/app-check","fire-app-check"),ne(ki,"@firebase/app-check-compat","fire-app-check-compat"),ne(ki,"@firebase/auth","fire-auth"),ne(ki,"@firebase/auth-compat","fire-auth-compat"),ne(ki,"@firebase/database","fire-rtdb"),ne(ki,"@firebase/database-compat","fire-rtdb-compat"),ne(ki,"@firebase/functions","fire-fn"),ne(ki,"@firebase/functions-compat","fire-fn-compat"),ne(ki,"@firebase/installations","fire-iid"),ne(ki,"@firebase/installations-compat","fire-iid-compat"),ne(ki,"@firebase/messaging","fire-fcm"),ne(ki,"@firebase/messaging-compat","fire-fcm-compat"),ne(ki,"@firebase/performance","fire-perf"),ne(ki,"@firebase/performance-compat","fire-perf-compat"),ne(ki,"@firebase/remote-config","fire-rc"),ne(ki,"@firebase/remote-config-compat","fire-rc-compat"),ne(ki,"@firebase/storage","fire-gcs"),ne(ki,"@firebase/storage-compat","fire-gcs-compat"),ne(ki,"@firebase/firestore","fire-fst"),ne(ki,"@firebase/firestore-compat","fire-fst-compat"),ne(ki,"fire-js","fire-js"),ne(ki,"firebase","fire-js-all"),ki),Pi=new Map,Li=new Map;function Ri(e,t){try{e.container.addComponent(t)}catch($C){Ai.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),$C)}}function Mi(e,t){e.container.addOrOverwriteComponent(t)}function Fi(e){var t=e.name;if(Li.has(t))return Ai.debug("There were multiple attempts to register component ".concat(t,".")),!1;Li.set(t,e);var n,r=Vr(Pi.values());try{for(r.s();!(n=r.n()).done;){Ri(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ji(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Vi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Di;ji(e,t).clearInstance(n)}function Bi(){Li.clear()}var Ui=(ne(wi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ne(wi,"bad-app-name","Illegal App name: '{$appName}"),ne(wi,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ne(wi,"app-deleted","Firebase App named '{$appName}' already deleted"),ne(wi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ne(wi,"invalid-log-argument","First argument to `onLog` must be null or a function."),ne(wi,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),ne(wi,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),ne(wi,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),ne(wi,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),wi),zi=new Jr("app","Firebase",Ui),qi=function(){function e(t,n,r){var i=this;Ht(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new di("app",(function(){return i}),"PUBLIC"))}return $t(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}]),e}(),Ki="9.6.10";function Gi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Di,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw zi.create("bad-app-name",{appName:String(i)});var a=Pi.get(i);if(a){if(ni(e,a.options)&&ni(r,a.config))return a;throw zi.create("duplicate-app",{appName:i})}var o,u=new gi(i),s=Vr(Li.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new qi(e,r,u);return Pi.set(i,l),l}function Wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di,t=Pi.get(e);if(!t)throw zi.create("no-app",{appName:e});return t}function Hi(){return Array.from(Pi.values())}function Qi(e){return $i.apply(this,arguments)}function $i(){return($i=a(l.mark((function e(t){var n;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Pi.has(n)){e.next=6;break}return Pi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yi(e,t,n){var r,i=null!==(r=Oi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ai.warn(u.join(" "))}Fi(new di("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Xi(e,t){if(null!==e&&"function"!==typeof e)throw zi.create("invalid-log-argument");!function(e,t){var n,r=Vr(bi);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=xi[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:yi[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ji(e){var t;t=e,bi.forEach((function(e){e.setLogLevel(t)}))}var Zi="firebase-heartbeat-store",ea=null;function ta(){var e,t,n;return ea||(ea=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Zi)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new ci(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new ci(a.result),e.oldVersion,e.newVersion,new li(a.transaction))}}catch($C){i("Error opening indexedDB: ".concat($C.message))}}))).catch((function(e){throw zi.create("storage-open",{originalErrorMessage:e.message})}))),ea}function na(e){return ra.apply(this,arguments)}function ra(){return ra=a(l.mark((function e(t){var n;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ta();case 3:return n=e.sent,e.abrupt("return",n.transaction(Zi).objectStore(Zi).get(oa(t)));case 7:throw e.prev=7,e.t0=e.catch(0),zi.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ra.apply(this,arguments)}function ia(e,t){return aa.apply(this,arguments)}function aa(){return aa=a(l.mark((function e(t,n){var r,i,a;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ta();case 3:return r=e.sent,i=r.transaction(Zi,"readwrite"),a=i.objectStore(Zi),e.next=8,a.put(n,oa(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),zi.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),aa.apply(this,arguments)}function oa(e){return"".concat(e.name,"!").concat(e.options.appId)}var ua=function(){function e(t){var n=this;Ht(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ha(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return $t(e,[{key:"triggerHeartbeat",value:function(){var e=a(l.mark((function e(){var t,n,r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=sa(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=a(l.mark((function e(){var t,n,r,i,a;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=sa(),n=ca(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Kr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function sa(){return(new Date).toISOString().substring(0,10)}function ca(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Vr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),da(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),da(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var la,fa,ha=function(){function e(t){Ht(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return $t(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=a(l.mark((function e(){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=a(l.mark((function e(){var t;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,na(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=a(l.mark((function e(t){var n,r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ia(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=a(l.mark((function e(t){var n,r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ia(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Wt(r.heartbeats),Wt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function da(e){return Kr(JSON.stringify({version:2,heartbeats:e})).length}la="",Fi(new di("platform-logger",(function(e){return new Ii(e)}),"PRIVATE")),Fi(new di("heartbeat",(function(e){return new ua(e)}),"PRIVATE")),Yi(Ti,Ni,la),Yi(Ti,Ni,"esm2017"),Yi("fire-js","");var va=function(){function e(t,n){var r=this;Ht(this,e),this._delegate=t,this.firebase=n,Ri(t,new di("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return $t(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Qi(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Di;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Di;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ri(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Mi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),pa=(ne(fa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ne(fa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),fa),ma=new Jr("app-compat","Firebase",pa);var ya=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Gi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ti(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Yi,setLogLevel:Ji,onLog:Xi,apps:null,SDK_VERSION:Ki,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Fi(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ma.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Gr(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ti(n,e=e||Di))throw ma.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(va);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Gr(n,e)},createSubscribe:ii,ErrorFactory:Jr,deepExtend:Gr}),n}(),ga=new Ci("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ga.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ba=self.firebase.SDK_VERSION;ba&&ba.indexOf("LITE")>=0&&ga.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ka=ya;!function(e){Yi("@firebase/app-compat","0.1.21",e)}();ka.registerVersion("firebase","9.6.10","app-compat");var wa,xa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ea={},Sa=Sa||{},_a=xa||self;function Ca(){}function Ia(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ta(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Na="closure_uid_"+(1e9*Math.random()>>>0),Aa=0;function Da(e,t,n){return e.call.apply(e.bind,arguments)}function Oa(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Pa(e,t,n){return(Pa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Da:Oa).apply(null,arguments)}function La(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ra(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ma(){this.s=this.s,this.o=this.o}var Fa={};Ma.prototype.s=!1,Ma.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Na)&&e[Na]||(e[Na]=++Aa)}(this);delete Fa[e]}},Ma.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ja=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Va=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ba(e){return Array.prototype.concat.apply([],arguments)}function Ua(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function za(e){return/^[\s\xa0]*$/.test(e)}var qa,Ka=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ga(e,t){return-1!=e.indexOf(t)}function Wa(e,t){return e<t?-1:e>t?1:0}e:{var Ha=_a.navigator;if(Ha){var Qa=Ha.userAgent;if(Qa){qa=Qa;break e}}qa=""}function $a(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ya(e){var t={};for(var n in e)t[n]=e[n];return t}var Xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ja(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Xa.length;a++)n=Xa[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Za(e){return Za[" "](e),e}Za[" "]=Ca;var eo,to=Ga(qa,"Opera"),no=Ga(qa,"Trident")||Ga(qa,"MSIE"),ro=Ga(qa,"Edge"),io=ro||no,ao=Ga(qa,"Gecko")&&!(Ga(qa.toLowerCase(),"webkit")&&!Ga(qa,"Edge"))&&!(Ga(qa,"Trident")||Ga(qa,"MSIE"))&&!Ga(qa,"Edge"),oo=Ga(qa.toLowerCase(),"webkit")&&!Ga(qa,"Edge");function uo(){var e=_a.document;return e?e.documentMode:void 0}e:{var so="",co=function(){var e=qa;return ao?/rv:([^\);]+)(\)|;)/.exec(e):ro?/Edge\/([\d\.]+)/.exec(e):no?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):oo?/WebKit\/(\S+)/.exec(e):to?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(co&&(so=co?co[1]:""),no){var lo=uo();if(null!=lo&&lo>parseFloat(so)){eo=String(lo);break e}}eo=so}var fo,ho={};function vo(){return function(e){var t=ho;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ka(String(eo)).split("."),n=Ka("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Wa(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Wa(0==a[2].length,0==o[2].length)||Wa(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(_a.document&&no){var po=uo();fo=po||(parseInt(eo,10)||void 0)}else fo=void 0;var mo=fo,yo=function(){if(!_a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{_a.addEventListener("test",Ca,t),_a.removeEventListener("test",Ca,t)}catch(n){}return e}();function go(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function bo(e,t){if(go.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ao){e:{try{Za(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ko[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&bo.Z.h.call(this)}}go.prototype.h=function(){this.defaultPrevented=!0},Ra(bo,go);var ko={2:"touch",3:"pen",4:"mouse"};bo.prototype.h=function(){bo.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var wo="closure_listenable_"+(1e6*Math.random()|0),xo=0;function Eo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++xo,this.ca=this.fa=!1}function So(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function _o(e){this.src=e,this.g={},this.h=0}function Co(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ja(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(So(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Io(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}_o.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Io(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Eo(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var To="closure_lm_"+(1e6*Math.random()|0),No={};function Ao(e,t,n,r,i){if(r&&r.once)return Oo(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ao(e,t[a],n,r,i);return null}return n=Vo(n),e&&e[wo]?e.N(t,n,Ta(r)?!!r.capture:!!r,i):Do(e,t,n,!1,r,i)}function Do(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ta(i)?!!i.capture:!!i,u=Fo(e);if(u||(e[To]=u=new _o(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Mo;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)yo||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ro(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Oo(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Oo(e,t[a],n,r,i);return null}return n=Vo(n),e&&e[wo]?e.O(t,n,Ta(r)?!!r.capture:!!r,i):Do(e,t,n,!0,r,i)}function Po(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Po(e,t[a],n,r,i);else r=Ta(r)?!!r.capture:!!r,n=Vo(n),e&&e[wo]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Io(a=e.g[t],n,r,i))&&(So(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Fo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Io(t,n,r,i)),(n=-1<e?t[e]:null)&&Lo(n))}function Lo(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[wo])Co(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ro(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Fo(t))?(Co(n,e),0==n.h&&(n.src=null,t[To]=null)):So(e)}}}function Ro(e){return e in No?No[e]:No[e]="on"+e}function Mo(e,t){if(e.ca)e=!0;else{t=new bo(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Lo(e),e=n.call(r,t)}return e}function Fo(e){return(e=e[To])instanceof _o?e:null}var jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vo(e){return"function"===typeof e?e:(e[jo]||(e[jo]=function(t){return e.handleEvent(t)}),e[jo])}function Bo(){Ma.call(this),this.i=new _o(this),this.P=this,this.I=null}function Uo(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new go(t,e);else if(t instanceof go)t.target=t.target||e;else{var i=t;Ja(t=new go(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=zo(o,r,!0,t)&&i}if(i=zo(o=t.g=e,r,!0,t)&&i,i=zo(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=zo(o=t.g=n[a],r,!1,t)&&i}function zo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Co(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ra(Bo,Ma),Bo.prototype[wo]=!0,Bo.prototype.removeEventListener=function(e,t,n,r){Po(this,e,t,n,r)},Bo.prototype.M=function(){if(Bo.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)So(n[r]);delete t.g[e],t.h--}}this.I=null},Bo.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Bo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var qo=_a.JSON.stringify;function Ko(){var e=Jo,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Go,Wo=function(){function e(){Ht(this,e),this.h=this.g=null}return $t(e,[{key:"add",value:function(e,t){var n=Ho.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ho=new(function(){function e(t,n){Ht(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return $t(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Qo}),(function(e){return e.reset()})),Qo=function(){function e(){Ht(this,e),this.next=this.g=this.h=null}return $t(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function $o(e){_a.setTimeout((function(){throw e}),0)}function Yo(e,t){Go||function(){var e=_a.Promise.resolve(void 0);Go=function(){e.then(Zo)}}(),Xo||(Go(),Xo=!0),Jo.add(e,t)}var Xo=!1,Jo=new Wo;function Zo(){for(var e;e=Ko();){try{e.h.call(e.g)}catch(n){$o(n)}var t=Ho;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Xo=!1}function eu(e,t){Bo.call(this),this.h=e||1,this.g=t||_a,this.j=Pa(this.kb,this),this.l=Date.now()}function tu(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function nu(e,t,n){if("function"===typeof e)n&&(e=Pa(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Pa(e.handleEvent,e)}return 2147483647<Number(t)?-1:_a.setTimeout(e,t||0)}function ru(e){e.g=nu((function(){e.g=null,e.i&&(e.i=!1,ru(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ra(eu,Bo),(wa=eu.prototype).da=!1,wa.S=null,wa.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Uo(this,"tick"),this.da&&(tu(this),this.start()))}},wa.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wa.M=function(){eu.Z.M.call(this),tu(this),delete this.g};var iu=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return $t(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ru(this)}},{key:"M",value:function(){Fn(Rn(n.prototype),"M",this).call(this),this.g&&(_a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ma);function au(e){Ma.call(this),this.h=e,this.g={}}Ra(au,Ma);var ou=[];function uu(e,t,n,r){Array.isArray(n)||(n&&(ou[0]=n.toString()),n=ou);for(var i=0;i<n.length;i++){var a=Ao(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function su(e){$a(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Lo(e)}),e),e.g={}}function cu(){this.g=!0}function lu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return qo(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}au.prototype.M=function(){au.Z.M.call(this),su(this)},au.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cu.prototype.Aa=function(){this.g=!1},cu.prototype.info=function(){};var fu={},hu=null;function du(){return hu=hu||new Bo}function vu(e){go.call(this,fu.Ma,e)}function pu(e){var t=du();Uo(t,new vu(t,e))}function mu(e,t){go.call(this,fu.STAT_EVENT,e),this.stat=t}function yu(e){var t=du();Uo(t,new mu(t,e))}function gu(e,t){go.call(this,fu.Na,e),this.size=t}function bu(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return _a.setTimeout((function(){e()}),t)}fu.Ma="serverreachability",Ra(vu,go),fu.STAT_EVENT="statevent",Ra(mu,go),fu.Na="timingevent",Ra(gu,go);var ku={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function xu(){}function Eu(e){return e.h||(e.h=e.i())}function Su(){}xu.prototype.h=null;var _u,Cu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Iu(){go.call(this,"d")}function Tu(){go.call(this,"c")}function Nu(){}function Au(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new au(this),this.P=Ou,e=io?125:void 0,this.W=new eu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Du}function Du(){this.i=null,this.g="",this.h=!1}Ra(Iu,go),Ra(Tu,go),Ra(Nu,xu),Nu.prototype.g=function(){return new XMLHttpRequest},Nu.prototype.i=function(){return{}},_u=new Nu;var Ou=45e3,Pu={},Lu={};function Ru(e,t,n){e.K=1,e.v=is(Ju(t)),e.s=n,e.U=!0,Mu(e,null)}function Mu(e,t){e.F=Date.now(),Bu(e),e.A=Ju(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ys(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Du,e.g=bc(e.l,n?t:null,!e.s),0<e.O&&(e.L=new iu(Pa(e.Ia,e,e.g),e.O)),uu(e.V,e.g,"readystatechange",e.gb),t=e.H?Ya(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),pu(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Fu(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ju(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Vu(e,n))==Lu){4==t&&(e.o=4,yu(14),i=!1),lu(e.j,e.m,null,"[Incomplete Response]");break}if(r==Pu){e.o=4,yu(15),lu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}lu(e.j,e.m,r,null),Gu(e,r)}Fu(e)&&r!=Lu&&r!=Pu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,yu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),fc(t),t.L=!0,yu(11))):(lu(e.j,e.m,n,"[Invalid Chunked Response]"),Ku(e),qu(e))}function Vu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Lu:(n=Number(t.substring(n,r)),isNaN(n)?Pu:(r+=1)+n>t.length?Lu:(t=t.substr(r,n),e.C=r+n,t))}function Bu(e){e.Y=Date.now()+e.P,Uu(e,e.P)}function Uu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=bu(Pa(e.eb,e),t)}function zu(e){e.B&&(_a.clearTimeout(e.B),e.B=null)}function qu(e){0==e.l.G||e.I||vc(e.l,e)}function Ku(e){zu(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,tu(e.W),su(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Gu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||_s(n.i,e)))if(n.I=e.N,!e.J&&_s(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;dc(n),nc(n)}lc(n),yu(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=bu(Pa(n.ab,n),6e3));if(1>=Ss(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else mc(n,11)}else if((e.J||n.g==e)&&dc(n),!za(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Ga(l,"spdy")||Ga(l,"quic")||Ga(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Cs(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,rs(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=gc(r,r.H?r.la:null,r.W),d.J){Is(r.i,d);var v=d,p=r.K;p&&v.setTimeout(p),v.B&&(zu(v),Bu(v)),r.g=d}else cc(r);0<n.l.length&&ac(n)}else"stop"!=a[0]&&"close"!=a[0]||mc(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?mc(n,7):tc(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}pu(4)}catch(a){}}function Wu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ia(e)||"string"===typeof e)Va(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ia(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Ia(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Hu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Hu)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Qu(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];$u(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)$u(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function $u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(wa=Au.prototype).setTimeout=function(e){this.P=e},wa.gb=function(e){e=e.target;var t=this.L;t&&3==Ys(e)?t.l():this.Ia(e)},wa.Ia=function(e){try{if(e==this.g)e:{var t=Ys(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||io||this.g&&(this.h.h||this.g.ga()||Xs(this.g)))){this.I||4!=t||7==n||pu(8==n||0>=r?3:2),zu(this);var i=this.g.ba();this.N=i;t:if(Fu(this)){var a=Xs(this.g);e="";var o=a.length,u=4==Ys(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ku(this),qu(this);var s="";break t}this.h.i=new _a.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!za(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,yu(12),Ku(this),qu(this);break e}lu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gu(this,i)}this.U?(ju(this,t,s),io&&this.i&&3==t&&(uu(this.V,this.W,"tick",this.fb),this.W.start())):(lu(this.j,this.m,s,null),Gu(this,s)),4==t&&Ku(this),this.i&&!this.I&&(4==t?vc(this.l,this):(this.i=!1,Bu(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,yu(12)):(this.o=0,yu(13)),Ku(this),qu(this)}}}catch(t){}},wa.fb=function(){if(this.g){var e=Ys(this.g),t=this.g.ga();this.C<t.length&&(zu(this),ju(this,e,t),this.i&&4!=e&&Bu(this))}},wa.cancel=function(){this.I=!0,Ku(this)},wa.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(pu(3),yu(17)),Ku(this),this.o=2,qu(this)):Uu(this,this.Y-e)},(wa=Hu.prototype).R=function(){Qu(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},wa.T=function(){return Qu(this),this.g.concat()},wa.get=function(e,t){return $u(this.h,e)?this.h[e]:t},wa.set=function(e,t){$u(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},wa.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Yu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xu(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Xu){this.g=void 0!==t?t:e.g,Zu(this,e.j),this.s=e.s,es(this,e.i),ts(this,e.m),this.l=e.l,t=e.h;var n=new ds;n.i=t.i,t.g&&(n.g=new Hu(t.g),n.h=t.h),ns(this,n),this.o=e.o}else e&&(n=String(e).match(Yu))?(this.g=!!t,Zu(this,n[1]||"",!0),this.s=as(n[2]||""),es(this,n[3]||"",!0),ts(this,n[4]),this.l=as(n[5]||"",!0),ns(this,n[6]||"",!0),this.o=as(n[7]||"")):(this.g=!!t,this.h=new ds(null,this.g))}function Ju(e){return new Xu(e)}function Zu(e,t,n){e.j=n?as(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function es(e,t,n){e.i=n?as(t,!0):t}function ts(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ns(e,t,n){t instanceof ds?(e.h=t,function(e,t){t&&!e.j&&(vs(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ps(this,t),ys(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=os(t,fs)),e.h=new ds(t,e.g))}function rs(e,t,n){e.h.set(t,n)}function is(e){return rs(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function as(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function os(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,us),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function us(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(os(t,ss,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(os(t,ss,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(os(n,"/"==n.charAt(0)?ls:cs,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",os(n,hs)),e.join("")};var ss=/[#\/\?@]/g,cs=/[#\?:]/g,ls=/[#\?]/g,fs=/[#\?@]/g,hs=/#/g;function ds(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vs(e){e.g||(e.g=new Hu,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ps(e,t){vs(e),t=gs(e,t),$u(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,$u((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Qu(e)))}function ms(e,t){return vs(e),t=gs(e,t),$u(e.g.h,t)}function ys(e,t,n){ps(e,t),0<n.length&&(e.i=null,e.g.set(gs(e,t),Ua(n)),e.h+=n.length)}function gs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(wa=ds.prototype).add=function(e,t){vs(this),this.i=null,e=gs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},wa.forEach=function(e,t){vs(this),this.g.forEach((function(n,r){Va(n,(function(n){e.call(t,n,r,this)}),this)}),this)},wa.T=function(){vs(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},wa.R=function(e){vs(this);var t=[];if("string"===typeof e)ms(this,e)&&(t=Ba(t,this.g.get(gs(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ba(t,e[n])}return t},wa.set=function(e,t){return vs(this),this.i=null,ms(this,e=gs(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},wa.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},wa.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var bs=$t((function e(t,n){Ht(this,e),this.h=t,this.g=n}));function ks(e){this.l=e||xs,_a.PerformanceNavigationTiming?e=0<(e=_a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(_a.g&&_a.g.Ea&&_a.g.Ea()&&_a.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ws,xs=10;function Es(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ss(e){return e.h?1:e.g?e.g.size:0}function _s(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Cs(e,t){e.g?e.g.add(t):e.h=t}function Is(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ts(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Vr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ua(e.i)}function Ns(){}function As(){this.g=new Ns}function Ds(e,t,n){var r=n||"";try{Wu(e,(function(e,n){var i=e;Ta(e)&&(i=qo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch($C){throw t.push(r+"type="+encodeURIComponent("_badmap")),$C}}function Os(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ps(e){this.l=e.$b||null,this.j=e.ib||!1}function Ls(e,t){Bo.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Rs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ks.prototype.cancel=function(){if(this.i=Ts(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Vr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ns.prototype.stringify=function(e){return _a.JSON.stringify(e,void 0)},Ns.prototype.parse=function(e){return _a.JSON.parse(e,void 0)},Ra(Ps,xu),Ps.prototype.g=function(){return new Ls(this.l,this.j)},Ps.prototype.i=(ws={},function(){return ws}),Ra(Ls,Bo);var Rs=0;function Ms(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Fs(e){e.readyState=4,e.l=null,e.j=null,e.A=null,js(e)}function js(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(wa=Ls.prototype).open=function(e,t){if(this.readyState!=Rs)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,js(this)},wa.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||_a).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},wa.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fs(this)),this.readyState=Rs},wa.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof _a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ms(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},wa.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Fs(this):js(this),3==this.readyState&&Ms(this)}},wa.Ua=function(e){this.g&&(this.response=this.responseText=e,Fs(this))},wa.Ta=function(e){this.g&&(this.response=e,Fs(this))},wa.ha=function(){this.g&&Fs(this)},wa.setRequestHeader=function(e,t){this.v.append(e,t)},wa.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},wa.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ls.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Vs=_a.JSON.parse;function Bs(e){Bo.call(this),this.headers=new Hu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Us,this.K=this.L=!1}Ra(Bs,Bo);var Us="",zs=/^https?$/i,qs=["POST","PUT"];function Ks(e){return"content-type"==e.toLowerCase()}function Gs(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ws(e),Qs(e)}function Ws(e){e.D||(e.D=!0,Uo(e,"complete"),Uo(e,"error"))}function Hs(e){if(e.h&&"undefined"!=typeof Sa&&(!e.C[1]||4!=Ys(e)||2!=e.ba()))if(e.v&&4==Ys(e))nu(e.Fa,0,e);else if(Uo(e,"readystatechange"),4==Ys(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Yu)[1]||null;if(!a&&_a.self&&_a.self.location){var o=_a.self.location.protocol;a=o.substr(0,o.length-1)}i=!zs.test(a?a.toLowerCase():"")}t=i}if(t)Uo(e,"complete"),Uo(e,"success");else{e.m=6;try{var u=2<Ys(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Ws(e)}}finally{Qs(e)}}}function Qs(e,t){if(e.g){$s(e);var n=e.g,r=e.C[0]?Ca:null;e.g=null,e.C=null,t||Uo(e,"ready");try{n.onreadystatechange=r}catch($C){}}}function $s(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(_a.clearTimeout(e.A),e.A=null)}function Ys(e){return e.g?e.g.readyState:0}function Xs(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Us:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Js(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return $a(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):rs(e,t,n))}function Zs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ec(e){this.za=0,this.l=[],this.h=new cu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zs("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zs("baseRetryDelayMs",5e3,e),this.$a=Zs("retryDelaySeedMs",1e4,e),this.Ya=Zs("forwardChannelMaxRetries",2,e),this.ra=Zs("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ks(e&&e.concurrentRequestLimit),this.Ca=new As,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function tc(e){if(rc(e),3==e.G){var t=e.V++,n=Ju(e.F);rs(n,"SID",e.J),rs(n,"RID",t),rs(n,"TYPE","terminate"),uc(e,n),(t=new Au(e,e.h,t,void 0)).K=2,t.v=is(Ju(n)),n=!1,_a.navigator&&_a.navigator.sendBeacon&&(n=_a.navigator.sendBeacon(t.v.toString(),"")),!n&&_a.Image&&((new Image).src=t.v,n=!0),n||(t.g=bc(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Bu(t)}yc(e)}function nc(e){e.g&&(fc(e),e.g.cancel(),e.g=null)}function rc(e){nc(e),e.u&&(_a.clearTimeout(e.u),e.u=null),dc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&_a.clearTimeout(e.m),e.m=null)}function ic(e,t){e.l.push(new bs(e.Za++,t)),3==e.G&&ac(e)}function ac(e){Es(e.i)||e.m||(e.m=!0,Yo(e.Ha,e),e.C=0)}function oc(e,t){var n;n=t?t.m:e.V++;var r=Ju(e.F);rs(r,"SID",e.J),rs(r,"RID",n),rs(r,"AID",e.U),uc(e,r),e.o&&e.s&&Js(r,e.o,e.s),n=new Au(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=sc(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Cs(e.i,n),Ru(n,r,t)}function uc(e,t){e.j&&Wu({},(function(e,n){rs(t,n,e)}))}function sc(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Pa(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Ds(l,o,"req"+c+"_")}catch(Wc){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function cc(e){e.g||e.u||(e.Y=1,Yo(e.Ga,e),e.A=0)}function lc(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=bu(Pa(e.Ga,e),pc(e,e.A)),e.A++,!0)}function fc(e){null!=e.B&&(_a.clearTimeout(e.B),e.B=null)}function hc(e){e.g=new Au(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ju(e.oa);rs(t,"RID","rpc"),rs(t,"SID",e.J),rs(t,"CI",e.N?"0":"1"),rs(t,"AID",e.U),uc(e,t),rs(t,"TYPE","xmlhttp"),e.o&&e.s&&Js(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=is(Ju(t)),n.s=null,n.U=!0,Mu(n,e)}function dc(e){null!=e.v&&(_a.clearTimeout(e.v),e.v=null)}function vc(e,t){var n=null;if(e.g==t){dc(e),fc(e),e.g=null;var r=2}else{if(!_s(e.i,t))return;n=t.D,Is(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Uo(r=du(),new gu(r,n,t,i)),ac(e)}else cc(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ss(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=bu(Pa(e.Ha,e,t),pc(e,e.C)),e.C++,!0))}(e,t)||2==r&&lc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:mc(e,5);break;case 4:mc(e,10);break;case 3:mc(e,6);break;default:mc(e,2)}}function pc(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function mc(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Pa(e.jb,e);n||(n=new Xu("//www.google.com/images/cleardot.gif"),_a.location&&"http"==_a.location.protocol||Zu(n,"https"),is(n)),function(e,t){var n=new cu;if(_a.Image){var r=new Image;r.onload=La(Os,n,r,"TestLoadImage: loaded",!0,t),r.onerror=La(Os,n,r,"TestLoadImage: error",!1,t),r.onabort=La(Os,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=La(Os,n,r,"TestLoadImage: timeout",!1,t),_a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else yu(2);e.G=0,e.j&&e.j.va(t),yc(e),rc(e)}function yc(e){e.G=0,e.I=-1,e.j&&(0==Ts(e.i).length&&0==e.l.length||(e.i.i.length=0,Ua(e.l),e.l.length=0),e.j.ua())}function gc(e,t,n){var r=function(e){return e instanceof Xu?Ju(e):new Xu(e,void 0)}(n);if(""!=r.i)t&&es(r,t+"."+r.i),ts(r,r.m);else{var i=_a.location;r=function(e,t,n,r){var i=new Xu(null,void 0);return e&&Zu(i,e),t&&es(i,t),n&&ts(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&$a(e.aa,(function(e,t){rs(r,t,e)})),t=e.D,n=e.sa,t&&n&&rs(r,t,n),rs(r,"VER",e.ma),uc(e,r),r}function bc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Bs(new Ps({ib:!0})):new Bs(e.qa)).L=e.H,t}function kc(){}function wc(){if(no&&!(10<=Number(mo)))throw Error("Environmental error: no available transport.")}function xc(e,t){Bo.call(this),this.g=new ec(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!za(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!za(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _c(this)}function Ec(e){Iu.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sc(){Tu.call(this),this.status=1}function _c(e){this.g=e}(wa=Bs.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_u.g(),this.C=this.u?Eu(this.u):Eu(_u),this.g.onreadystatechange=Pa(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Gs(this,a)}e=n||"";var i=new Hu(this.headers);r&&Wu(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ks,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=_a.FormData&&e instanceof _a.FormData,!(0<=ja(qs,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$s(this),0<this.B&&((this.K=function(e){return no&&vo()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pa(this.pa,this)):this.A=nu(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Gs(this,a)}},wa.pa=function(){"undefined"!=typeof Sa&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Uo(this,"timeout"),this.abort(8))},wa.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Uo(this,"complete"),Uo(this,"abort"),Qs(this))},wa.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qs(this,!0)),Bs.Z.M.call(this)},wa.Fa=function(){this.s||(this.F||this.v||this.l?Hs(this):this.cb())},wa.cb=function(){Hs(this)},wa.ba=function(){try{return 2<Ys(this)?this.g.status:-1}catch(ws){return-1}},wa.ga=function(){try{return this.g?this.g.responseText:""}catch(ws){return""}},wa.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Vs(t)}},wa.Da=function(){return this.m},wa.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(wa=ec.prototype).ma=8,wa.G=1,wa.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},wa.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Au(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ja(n=Ya(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=sc(this,t,r),rs(i=Ju(this.F),"RID",e),rs(i,"CVER",22),this.D&&rs(i,"X-HTTP-Session-Id",this.D),uc(this,i),this.o&&n&&Js(i,this.o,n),Cs(this.i,t),this.Ra&&rs(i,"TYPE","init"),this.ja?(rs(i,"$req",r),rs(i,"SID","null"),t.$=!0,Ru(t,i,null)):Ru(t,i,r),this.G=2}}else 3==this.G&&(e?oc(this,e):0==this.l.length||Es(this.i)||oc(this))},wa.Ga=function(){if(this.u=null,hc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=bu(Pa(this.bb,this),e)}},wa.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,yu(10),nc(this),hc(this))},wa.ab=function(){null!=this.v&&(this.v=null,nc(this),lc(this),yu(19))},wa.jb=function(e){e?(this.h.info("Successfully pinged google.com"),yu(2)):(this.h.info("Failed to ping google.com"),yu(1))},(wa=kc.prototype).xa=function(){},wa.wa=function(){},wa.va=function(){},wa.ua=function(){},wa.Oa=function(){},wc.prototype.g=function(e,t){return new xc(e,t)},Ra(xc,Bo),xc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Yo(Pa(e.hb,e,t))),yu(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=gc(e,null,e.W),ac(e)},xc.prototype.close=function(){tc(this.g)},xc.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ic(this.g,t)}else this.v?((t={}).__data__=qo(e),ic(this.g,t)):ic(this.g,e)},xc.prototype.M=function(){this.g.j=null,delete this.j,tc(this.g),delete this.g,xc.Z.M.call(this)},Ra(Ec,Iu),Ra(Sc,Tu),Ra(_c,kc),_c.prototype.xa=function(){Uo(this.g,"a")},_c.prototype.wa=function(e){Uo(this.g,new Ec(e))},_c.prototype.va=function(e){Uo(this.g,new Sc(e))},_c.prototype.ua=function(){Uo(this.g,"b")},wc.prototype.createWebChannel=wc.prototype.g,xc.prototype.send=xc.prototype.u,xc.prototype.open=xc.prototype.m,xc.prototype.close=xc.prototype.close,ku.NO_ERROR=0,ku.TIMEOUT=8,ku.HTTP_ERROR=6,wu.COMPLETE="complete",Su.EventType=Cu,Cu.OPEN="a",Cu.CLOSE="b",Cu.ERROR="c",Cu.MESSAGE="d",Bo.prototype.listen=Bo.prototype.N,Bs.prototype.listenOnce=Bs.prototype.O,Bs.prototype.getLastError=Bs.prototype.La,Bs.prototype.getLastErrorCode=Bs.prototype.Da,Bs.prototype.getStatus=Bs.prototype.ba,Bs.prototype.getResponseJson=Bs.prototype.Qa,Bs.prototype.getResponseText=Bs.prototype.ga,Bs.prototype.send=Bs.prototype.ea;var Cc=Ea.createWebChannelTransport=function(){return new wc},Ic=Ea.getStatEventTarget=function(){return du()},Tc=Ea.ErrorCode=ku,Nc=Ea.EventType=wu,Ac=Ea.Event=fu,Dc=Ea.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Oc=Ea.FetchXmlHttpFactory=Ps,Pc=Ea.WebChannel=Su,Lc=Ea.XhrIo=Bs,Rc="@firebase/firestore",Mc=function(){function e(t){Ht(this,e),this.uid=t}return $t(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Mc.UNAUTHENTICATED=new Mc(null),Mc.GOOGLE_CREDENTIALS=new Mc("google-credentials-uid"),Mc.FIRST_PARTY=new Mc("first-party-uid"),Mc.MOCK_USER=new Mc("mock-user");var Fc="9.6.10",jc=new Ci("@firebase/firestore");function Vc(){return jc.logLevel}function Bc(e){if(jc.logLevel<=yi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(qc);jc.debug.apply(jc,["Firestore (".concat(Fc,"): ").concat(e)].concat(Wt(i)))}}function Uc(e){if(jc.logLevel<=yi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(qc);jc.error.apply(jc,["Firestore (".concat(Fc,"): ").concat(e)].concat(Wt(i)))}}function zc(e){if(jc.logLevel<=yi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(qc);jc.warn.apply(jc,["Firestore (".concat(Fc,"): ").concat(e)].concat(Wt(i)))}}function qc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Kc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Fc,") INTERNAL ASSERTION FAILED: ")+e;throw Uc(t),new Error(t)}function Gc(e,t){e||Kc()}function Wc(e,t){return e}var Hc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Qc=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return $t(n)}(Xr),$c=$t((function e(){var t=this;Ht(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Yc=$t((function e(t,n){Ht(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Xc=function(){function e(){Ht(this,e)}return $t(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Mc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Jc=function(){function e(t){Ht(this,e),this.token=t,this.changeListener=null}return $t(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Zc=function(){function e(t){Ht(this,e),this.t=t,this.currentUser=Mc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return $t(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},o=new $c;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new $c,e.enqueueRetryable((function(){return i(n.currentUser)}))};var u=function(){var t=o;e.enqueueRetryable(a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Bc("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),u()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Bc("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $c)}}),0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Bc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Gc("string"==typeof n.accessToken),new Yc(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Gc(null===e||"string"==typeof e),new Mc(e)}}]),e}(),el=$t((function e(t,n,r){Ht(this,e),this.type="FirstParty",this.user=Mc.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),tl=function(){function e(t,n,r){Ht(this,e),this.h=t,this.l=n,this.m=r}return $t(e,[{key:"getToken",value:function(){return Promise.resolve(new el(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Mc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),nl=$t((function e(t){Ht(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),rl=function(){function e(t){Ht(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return $t(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Bc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Bc("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Bc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Bc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Gc("string"==typeof t.token),e.p=t.token,new nl(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),il=function(){function e(t,n){var r=this;Ht(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return $t(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function al(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}il.A=-1;var ol=function(){function e(){Ht(this,e)}return $t(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=al(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ul(e,t){return e<t?-1:e>t?1:0}function sl(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function cl(e){return e+"\0"}var ll=function(){function e(t,n){if(Ht(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Qc(Hc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Qc(Hc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Qc(Hc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Qc(Hc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return $t(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ul(this.nanoseconds,e.nanoseconds):ul(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),fl=function(){function e(t){Ht(this,e),this.timestamp=t}return $t(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ll(0,0))}},{key:"max",value:function(){return new e(new ll(253402300799,999999999))}}]),e}();function hl(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function dl(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vl(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var pl=function(){function e(t,n,r){Ht(this,e),void 0===n?n=0:n>t.length&&Kc(),void 0===r?r=t.length-n:r>t.length-n&&Kc(),this.segments=t,this.offset=n,this.len=r}return $t(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ml=function(e){jn(n,e);var t=qn(n);function n(){return Ht(this,n),t.apply(this,arguments)}return $t(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Qc(Hc.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Wt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(pl),yl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gl=function(e){jn(n,e);var t=qn(n);function n(){return Ht(this,n),t.apply(this,arguments)}return $t(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return yl.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Qc(Hc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Qc(Hc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Qc(Hc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Qc(Hc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(pl),bl=function(){function e(t){Ht(this,e),this.fields=t,t.sort(gl.comparator)}return $t(e,[{key:"covers",value:function(e){var t,n=Vr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return sl(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var kl=function(e){function t(e){Ht(this,t),this.binaryString=e}return $t(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ul(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();kl.EMPTY_BYTE_STRING=new kl("");var wl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xl(e){if(Gc(!!e),"string"==typeof e){var t=0,n=wl.exec(e);if(Gc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:El(e.seconds),nanos:El(e.nanos)}}function El(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Sl(e){return"string"==typeof e?kl.fromBase64String(e):kl.fromUint8Array(e)}function _l(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cl(e){var t=e.mapValue.fields.__previous_value__;return _l(t)?Cl(t):t}function Il(e){var t=xl(e.mapValue.fields.__local_write_time__.timestampValue);return new ll(t.seconds,t.nanos)}var Tl=$t((function e(t,n,r,i,a,o,u,s){Ht(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Nl=function(){function e(t,n){Ht(this,e),this.projectId=t,this.database=n||"(default)"}return $t(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Al(e){return null==e}function Dl(e){return 0===e&&1/e==-1/0}function Ol(e){return"number"==typeof e&&Number.isInteger(e)&&!Dl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Pl=function(){function e(t){Ht(this,e),this.path=t}return $t(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ml.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ml.fromString(t))}},{key:"fromName",value:function(t){return new e(ml.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ml.emptyPath())}},{key:"comparator",value:function(e,t){return ml.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ml(t.slice()))}}]),e}(),Ll={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Rl={nullValue:"NULL_VALUE"};function Ml(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_l(e)?4:Yl(e)?9:10:Kc()}function Fl(e,t){if(e===t)return!0;var n=Ml(e);if(n!==Ml(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Il(e).isEqual(Il(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=xl(e.timestampValue),r=xl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Sl(e.bytesValue).isEqual(Sl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return El(e.geoPointValue.latitude)===El(t.geoPointValue.latitude)&&El(e.geoPointValue.longitude)===El(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return El(e.integerValue)===El(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=El(e.doubleValue),r=El(t.doubleValue);return n===r?Dl(n)===Dl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return sl(e.arrayValue.values||[],t.arrayValue.values||[],Fl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(hl(n)!==hl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Fl(n[i],r[i])))return!1;return!0}(e,t);default:return Kc()}}function jl(e,t){return void 0!==(e.values||[]).find((function(e){return Fl(e,t)}))}function Vl(e,t){if(e===t)return 0;var n=Ml(e),r=Ml(t);if(n!==r)return ul(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ul(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=El(e.integerValue||e.doubleValue),r=El(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Bl(e.timestampValue,t.timestampValue);case 4:return Bl(Il(e),Il(t));case 5:return ul(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Sl(e),r=Sl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ul(n[i],r[i]);if(0!==a)return a}return ul(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ul(El(e.latitude),El(t.latitude));return 0!==n?n:ul(El(e.longitude),El(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Vl(n[i],r[i]);if(a)return a}return ul(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=ul(r[o],a[o]);if(0!==u)return u;var s=Vl(n[r[o]],i[a[o]]);if(0!==s)return s}return ul(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Kc()}}function Bl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ul(e,t);var n=xl(e),r=xl(t),i=ul(n.seconds,r.seconds);return 0!==i?i:ul(n.nanos,r.nanos)}function Ul(e){return zl(e)}function zl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=xl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Sl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Pl.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Vr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=zl(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Vr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(zl(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Kc();var t,n}function ql(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Kl(e){return!!e&&"integerValue"in e}function Gl(e){return!!e&&"arrayValue"in e}function Wl(e){return!!e&&"nullValue"in e}function Hl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ql(e){return!!e&&"mapValue"in e}function $l(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return dl(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=$l(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=$l(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Yl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Xl(e,t){return void 0===e?t:void 0===t||Vl(e,t)>0?e:t}function Jl(e,t){return void 0===e?t:void 0===t||Vl(e,t)<0?e:t}var Zl=function(){function e(t){Ht(this,e),this.value=t}return $t(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ql(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(t)}},{key:"setAll",value:function(e){var t=this,n=gl.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=$l(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ql(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Fl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ql(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){dl(t,(function(t,n){return e[t]=n}));var r,i=Vr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e($l(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ef(e){var t=[];return dl(e.fields,(function(e,n){var r=new gl([e]);if(Ql(n)){var i=ef(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Vr(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new bl(t)}var tf=function(){function e(t,n,r,i,a,o){Ht(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return $t(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Zl.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Zl.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,fl.min(),fl.min(),Zl.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,fl.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,fl.min(),Zl.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,fl.min(),Zl.empty(),2)}}]),e}(),nf=$t((function e(t,n,r,i){Ht(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function rf(e){return e.fields.find((function(e){return 2===e.kind}))}function af(e){return e.fields.filter((function(e){return 2!==e.kind}))}nf.UNKNOWN_ID=-1;var of=$t((function e(t,n){Ht(this,e),this.fieldPath=t,this.kind=n})),uf=function(){function e(t,n){Ht(this,e),this.sequenceNumber=t,this.offset=n}return $t(e,null,[{key:"empty",value:function(){return new e(0,lf.min())}}]),e}();function sf(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=fl.fromTimestamp(1e9===r?new ll(n+1,0):new ll(n,r));return new lf(i,Pl.empty(),t)}function cf(e){return new lf(e.readTime,e.key,-1)}var lf=function(){function e(t,n,r){Ht(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return $t(e,null,[{key:"min",value:function(){return new e(fl.min(),Pl.empty(),-1)}},{key:"max",value:function(){return new e(fl.max(),Pl.empty(),-1)}}]),e}();function ff(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Pl.comparator(e.documentKey,t.documentKey))?n:ul(e.largestBatchId,t.largestBatchId)}var hf=$t((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ht(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function df(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new hf(e,t,n,r,i,a,o)}function vf(e){var t=Wc(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ul(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Al(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ul(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ul(e)})).join(",")),t.P=n}return t.P}function pf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Nf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Fl(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Df(e.startAt,t.startAt)&&Df(e.endAt,t.endAt)}function mf(e){return Pl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function yf(e,t){return e.filters.filter((function(e){return e instanceof gf&&e.field.isEqual(t)}))}var gf=function(e){jn(n,e);var t=qn(n);function n(e,r,i){var a;return Ht(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return $t(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Vl(t,this.value)):null!==t&&Ml(this.value)===Ml(t)&&this.v(Vl(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Kc()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new bf(e,t,r):"array-contains"===t?new Ef(e,r):"in"===t?new Sf(e,r):"not-in"===t?new _f(e,r):"array-contains-any"===t?new Cf(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new kf(e,n):new wf(e,n)}}]),n}(function(){return $t((function e(){Ht(this,e)}))}()),bf=function(e){jn(n,e);var t=qn(n);function n(e,r,i){var a;return Ht(this,n),(a=t.call(this,e,r,i)).key=Pl.fromName(i.referenceValue),a}return $t(n,[{key:"matches",value:function(e){var t=Pl.comparator(e.key,this.key);return this.v(t)}}]),n}(gf),kf=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this,e,"in",r)).keys=xf("in",r),i}return $t(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gf),wf=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this,e,"not-in",r)).keys=xf("not-in",r),i}return $t(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gf);function xf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Pl.fromName(e.referenceValue)}))}var Ef=function(e){jn(n,e);var t=qn(n);function n(e,r){return Ht(this,n),t.call(this,e,"array-contains",r)}return $t(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Gl(t)&&jl(t.arrayValue,this.value)}}]),n}(gf),Sf=function(e){jn(n,e);var t=qn(n);function n(e,r){return Ht(this,n),t.call(this,e,"in",r)}return $t(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&jl(this.value.arrayValue,t)}}]),n}(gf),_f=function(e){jn(n,e);var t=qn(n);function n(e,r){return Ht(this,n),t.call(this,e,"not-in",r)}return $t(n,[{key:"matches",value:function(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!jl(this.value.arrayValue,t)}}]),n}(gf),Cf=function(e){jn(n,e);var t=qn(n);function n(e,r){return Ht(this,n),t.call(this,e,"array-contains-any",r)}return $t(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Gl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return jl(t.value.arrayValue,e)}))}}]),n}(gf),If=$t((function e(t,n){Ht(this,e),this.position=t,this.inclusive=n})),Tf=$t((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ht(this,e),this.field=t,this.dir=n}));function Nf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Af(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Pl.comparator(Pl.fromName(o.referenceValue),n.key):Vl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Df(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Fl(e.position[n],t.position[n]))return!1;return!0}var Of=$t((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ht(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Pf(e,t,n,r,i,a,o,u){return new Of(e,t,n,r,i,a,o,u)}function Lf(e){return new Of(e)}function Rf(e){return!Al(e.limit)&&"F"===e.limitType}function Mf(e){return!Al(e.limit)&&"L"===e.limitType}function Ff(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function jf(e){var t,n=Vr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Vf(e){return null!==e.collectionGroup}function Bf(e){var t=Wc(e);if(null===t.D){t.D=[];var n=jf(t),r=Ff(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Tf(n)),t.D.push(new Tf(gl.keyField(),"asc"));else{var i,a=!1,o=Vr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Tf(gl.keyField(),s))}}}return t.D}function Uf(e){var t=Wc(e);if(!t.C)if("F"===t.limitType)t.C=df(t.path,t.collectionGroup,Bf(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Vr(Bf(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Tf(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new If(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new If(t.startAt.position,!t.startAt.inclusive):null;t.C=df(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function zf(e,t,n){return new Of(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qf(e,t){return pf(Uf(e),Uf(t))&&e.limitType===t.limitType}function Kf(e){return"".concat(vf(Uf(e)),"|lt:").concat(e.limitType)}function Gf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ul(t.value));var t})).join(", "),"]")),Al(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ul(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ul(e)})).join(",")),"Target(".concat(t,")")}(Uf(e)),"; limitType=").concat(e.limitType,")")}function Wf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Pl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Vr(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Vr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Af(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Bf(e),t))&&!(e.endAt&&!function(e,t,n){var r=Af(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Bf(e),t))}(e,t)}function Hf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Qf(e){return function(t,n){var r,i=!1,a=Vr(Bf(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=$f(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function $f(e,t,n){var r=e.field.isKeyField()?Pl.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Vl(r,i):Kc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Kc()}}function Yf(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dl(t)?"-0":t}}function Xf(e){return{integerValue:""+e}}function Jf(e,t){return Ol(t)?Xf(t):Yf(e,t)}var Zf=$t((function e(){Ht(this,e),this._=void 0}));function eh(e,t,n){return e instanceof rh?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ih?ah(e,t):e instanceof oh?uh(e,t):function(e,t){var n=nh(e,t),r=ch(n)+ch(e.k);return Kl(n)&&Kl(e.k)?Xf(r):Yf(e.M,r)}(e,t)}function th(e,t,n){return e instanceof ih?ah(e,t):e instanceof oh?uh(e,t):n}function nh(e,t){return e instanceof sh?Kl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var rh=function(e){jn(n,e);var t=qn(n);function n(){return Ht(this,n),t.apply(this,arguments)}return $t(n)}(Zf),ih=function(e){jn(n,e);var t=qn(n);function n(e){var r;return Ht(this,n),(r=t.call(this)).elements=e,r}return $t(n)}(Zf);function ah(e,t){var n,r=lh(t),i=Vr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Fl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var oh=function(e){jn(n,e);var t=qn(n);function n(e){var r;return Ht(this,n),(r=t.call(this)).elements=e,r}return $t(n)}(Zf);function uh(e,t){var n,r=lh(t),i=Vr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Fl(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var sh=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this)).M=e,i.k=r,i}return $t(n)}(Zf);function ch(e){return El(e.integerValue||e.doubleValue)}function lh(e){return Gl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var fh=$t((function e(t,n){Ht(this,e),this.field=t,this.transform=n}));var hh=$t((function e(t,n){Ht(this,e),this.version=t,this.transformResults=n})),dh=function(){function e(t,n){Ht(this,e),this.updateTime=t,this.exists=n}return $t(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function vh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ph=$t((function e(){Ht(this,e)}));function mh(e,t,n){e instanceof wh?function(e,t,n){var r=e.value.clone(),i=Sh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xh?function(e,t,n){if(vh(e.precondition,t)){var r=Sh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Eh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function yh(e,t,n){e instanceof wh?function(e,t,n){if(vh(e.precondition,t)){var r=e.value.clone(),i=_h(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(kh(t),r).setHasLocalMutations()}}(e,t,n):e instanceof xh?function(e,t,n){if(vh(e.precondition,t)){var r=_h(e.fieldTransforms,n,t),i=t.data;i.setAll(Eh(e)),i.setAll(r),t.convertToFoundDocument(kh(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){vh(e.precondition,t)&&t.convertToNoDocument(fl.min())}(e,t)}function gh(e,t){var n,r=null,i=Vr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=nh(a.transform,o||null);null!=u&&(null==r&&(r=Zl.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function bh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&sl(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ih&&t instanceof ih||e instanceof oh&&t instanceof oh?sl(e.elements,t.elements,Fl):e instanceof sh&&t instanceof sh?Fl(e.k,t.k):e instanceof rh&&t instanceof rh}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function kh(e){return e.isFoundDocument()?e.version:fl.min()}var wh=function(e){jn(n,e);var t=qn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ht(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return $t(n)}(ph),xh=function(e){jn(n,e);var t=qn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ht(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return $t(n)}(ph);function Eh(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Sh(e,t,n){var r=new Map;Gc(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,th(o,u,n[i]))}return r}function _h(e,t,n){var r,i=new Map,a=Vr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,eh(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ch,Ih,Th=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return $t(n)}(ph),Nh=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return $t(n)}(ph),Ah=$t((function e(t){Ht(this,e),this.count=t}));function Dh(e){switch(e){default:return Kc();case Hc.CANCELLED:case Hc.UNKNOWN:case Hc.DEADLINE_EXCEEDED:case Hc.RESOURCE_EXHAUSTED:case Hc.INTERNAL:case Hc.UNAVAILABLE:case Hc.UNAUTHENTICATED:return!1;case Hc.INVALID_ARGUMENT:case Hc.NOT_FOUND:case Hc.ALREADY_EXISTS:case Hc.PERMISSION_DENIED:case Hc.FAILED_PRECONDITION:case Hc.ABORTED:case Hc.OUT_OF_RANGE:case Hc.UNIMPLEMENTED:case Hc.DATA_LOSS:return!0}}function Oh(e){if(void 0===e)return Uc("GRPC error has no .code"),Hc.UNKNOWN;switch(e){case Ch.OK:return Hc.OK;case Ch.CANCELLED:return Hc.CANCELLED;case Ch.UNKNOWN:return Hc.UNKNOWN;case Ch.DEADLINE_EXCEEDED:return Hc.DEADLINE_EXCEEDED;case Ch.RESOURCE_EXHAUSTED:return Hc.RESOURCE_EXHAUSTED;case Ch.INTERNAL:return Hc.INTERNAL;case Ch.UNAVAILABLE:return Hc.UNAVAILABLE;case Ch.UNAUTHENTICATED:return Hc.UNAUTHENTICATED;case Ch.INVALID_ARGUMENT:return Hc.INVALID_ARGUMENT;case Ch.NOT_FOUND:return Hc.NOT_FOUND;case Ch.ALREADY_EXISTS:return Hc.ALREADY_EXISTS;case Ch.PERMISSION_DENIED:return Hc.PERMISSION_DENIED;case Ch.FAILED_PRECONDITION:return Hc.FAILED_PRECONDITION;case Ch.ABORTED:return Hc.ABORTED;case Ch.OUT_OF_RANGE:return Hc.OUT_OF_RANGE;case Ch.UNIMPLEMENTED:return Hc.UNIMPLEMENTED;case Ch.DATA_LOSS:return Hc.DATA_LOSS;default:return Kc()}}(Ih=Ch||(Ch={}))[Ih.OK=0]="OK",Ih[Ih.CANCELLED=1]="CANCELLED",Ih[Ih.UNKNOWN=2]="UNKNOWN",Ih[Ih.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ih[Ih.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ih[Ih.NOT_FOUND=5]="NOT_FOUND",Ih[Ih.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ih[Ih.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ih[Ih.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ih[Ih.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ih[Ih.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ih[Ih.ABORTED=10]="ABORTED",Ih[Ih.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ih[Ih.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ih[Ih.INTERNAL=13]="INTERNAL",Ih[Ih.UNAVAILABLE=14]="UNAVAILABLE",Ih[Ih.DATA_LOSS=15]="DATA_LOSS";var Ph=function(){function e(t,n){Ht(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return $t(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Vr(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){dl(this.inner,(function(t,n){var r,i=Vr(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return vl(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Lh=function(){function e(t,n){Ht(this,e),this.comparator=t,this.root=n||Mh.EMPTY}return $t(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Mh.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mh.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Rh(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Rh(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Rh(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Rh(this.root,e,this.comparator,!0)}}]),e}(),Rh=function(){function e(t,n,r,i){Ht(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return $t(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Mh=function(){function e(t,n,r,i,a){Ht(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return $t(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Kc();if(this.right.isRed())throw Kc();var e=this.left.check();if(e!==this.right.check())throw Kc();return e+(this.isRed()?0:1)}}]),e}();Mh.EMPTY=null,Mh.RED=!0,Mh.BLACK=!1,Mh.EMPTY=new(function(){function e(){Ht(this,e),this.size=0}return $t(e,[{key:"key",get:function(){throw Kc()}},{key:"value",get:function(){throw Kc()}},{key:"color",get:function(){throw Kc()}},{key:"left",get:function(){throw Kc()}},{key:"right",get:function(){throw Kc()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Mh(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Fh=function(){function e(t){Ht(this,e),this.comparator=t,this.data=new Lh(this.comparator)}return $t(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new jh(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new jh(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),jh=function(){function e(t){Ht(this,e),this.iter=t}return $t(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Vh(e){return e.hasNext()?e.getNext():void 0}var Bh=new Lh(Pl.comparator);function Uh(){return Bh}var zh=new Lh(Pl.comparator);function qh(){return zh}function Kh(){return new Ph((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Gh=new Lh(Pl.comparator),Wh=new Fh(Pl.comparator);function Hh(){for(var e=Wh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Qh=new Fh(ul);function $h(){return Qh}var Yh=function(){function e(t,n,r,i,a){Ht(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return $t(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Xh.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(fl.min(),r,$h(),Uh(),Hh())}}]),e}(),Xh=function(){function e(t,n,r,i,a){Ht(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return $t(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(kl.EMPTY_BYTE_STRING,n,Hh(),Hh(),Hh())}}]),e}(),Jh=$t((function e(t,n,r,i){Ht(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Zh=$t((function e(t,n){Ht(this,e),this.targetId=t,this.$=n})),ed=$t((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kl.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ht(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),td=function(){function e(){Ht(this,e),this.B=0,this.L=id(),this.U=kl.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return $t(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=Hh(),t=Hh(),n=Hh();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Kc()}})),new Xh(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=id()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),nd=function(){function e(t){Ht(this,e),this.nt=t,this.st=new Map,this.it=Uh(),this.rt=rd(),this.ot=new Fh(ul)}return $t(e,[{key:"ut",value:function(e){var t,n=Vr(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=Vr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Kc()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(mf(i))if(0===n){var a=new Pl(i.path);this.ct(t,a,tf.newNoDocument(a,fl.min()))}else Gc(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&mf(a.target)){var o=new Pl(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,tf.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Hh();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Yh(e,n,this.ot,this.it,r);return this.it=Uh(),this.rt=rd(),this.ot=new Fh(ul),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new td,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Fh(ul),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Bc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new td),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function rd(){return new Lh(Pl.comparator)}function id(){return new Lh(Pl.comparator)}var ad={asc:"ASCENDING",desc:"DESCENDING"},od={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ud=$t((function e(t,n){Ht(this,e),this.databaseId=t,this.N=n}));function sd(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function cd(e,t){return e.N?t.toBase64():t.toUint8Array()}function ld(e,t){return sd(e,t.toTimestamp())}function fd(e){return Gc(!!e),fl.fromTimestamp(function(e){var t=xl(e);return new ll(t.seconds,t.nanos)}(e))}function hd(e,t){return function(e){return new ml(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function dd(e){var t=ml.fromString(e);return Gc(Md(t)),t}function vd(e,t){return hd(e.databaseId,t.path)}function pd(e,t){var n=dd(t);if(n.get(1)!==e.databaseId.projectId)throw new Qc(Hc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Qc(Hc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Pl(bd(n))}function md(e,t){return hd(e.databaseId,t)}function yd(e){var t=dd(e);return 4===t.length?ml.emptyPath():bd(t)}function gd(e){return new ml(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bd(e){return Gc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function kd(e,t,n){return{name:vd(e,t),fields:n.value.mapValue.fields}}function wd(e,t,n){var r=pd(e,t.name),i=fd(t.updateTime),a=new Zl({mapValue:{fields:t.fields}}),o=tf.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function xd(e,t){return"found"in t?function(e,t){Gc(!!t.found),t.found.name,t.found.updateTime;var n=pd(e,t.found.name),r=fd(t.found.updateTime),i=new Zl({mapValue:{fields:t.found.fields}});return tf.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Gc(!!t.missing),Gc(!!t.readTime);var n=pd(e,t.missing),r=fd(t.readTime);return tf.newNoDocument(n,r)}(e,t):Kc()}function Ed(e,t){var n;if(t instanceof wh)n={update:kd(e,t.key,t.value)};else if(t instanceof Th)n={delete:vd(e,t.key)};else if(t instanceof xh)n={update:kd(e,t.key,t.data),updateMask:Rd(t.fieldMask)};else{if(!(t instanceof Nh))return Kc();n={verify:vd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof rh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ih)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof oh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sh)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Kc()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ld(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Kc()}(e,t.precondition)),n}function Sd(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?dh.updateTime(fd(e.updateTime)):void 0!==e.exists?dh.exists(e.exists):dh.none()}(t.currentDocument):dh.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Gc("REQUEST_TIME"===t.setToServerValue),n=new rh;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ih(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new oh(i)}else"increment"in t?n=new sh(e,t.increment):Kc();var a=gl.fromServerFormat(t.fieldPath);return new fh(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=pd(e,t.update.name),a=new Zl({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new bl(t.map((function(e){return gl.fromServerFormat(e)})))}(t.updateMask);return new xh(i,a,o,n,r)}return new wh(i,a,n,r)}if(t.delete){var u=pd(e,t.delete);return new Th(u,n)}if(t.verify){var s=pd(e,t.verify);return new Nh(s,n)}return Kc()}function _d(e,t){return{documents:[md(e,t.path)]}}function Cd(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=md(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=md(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Hl(e.value))return{unaryFilter:{field:Dd(e.field),op:"IS_NAN"}};if(Wl(e.value))return{unaryFilter:{field:Dd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Hl(e.value))return{unaryFilter:{field:Dd(e.field),op:"IS_NOT_NAN"}};if(Wl(e.value))return{unaryFilter:{field:Dd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dd(e.field),op:Ad(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Dd(e.field),direction:Nd(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Al(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Id(e){var t=yd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Gc(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Td(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Tf(Od(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Al(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new If(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new If(n,t)}(n.endAt)),Pf(t,i,u,o,s,"F",c,l)}function Td(e){return e?void 0!==e.unaryFilter?[Ld(e)]:void 0!==e.fieldFilter?[Pd(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Td(e)})).reduce((function(e,t){return e.concat(t)})):Kc():[]}function Nd(e){return ad[e]}function Ad(e){return od[e]}function Dd(e){return{fieldPath:e.canonicalString()}}function Od(e){return gl.fromServerFormat(e.fieldPath)}function Pd(e){return gf.create(Od(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kc()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ld(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Od(e.unaryFilter.field);return gf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Od(e.unaryFilter.field);return gf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Od(e.unaryFilter.field);return gf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Od(e.unaryFilter.field);return gf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Kc()}}function Rd(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Md(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Fd(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Vd(t)),t=jd(e.get(n),t);return Vd(t)}function jd(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Vd(e){return e+"\x01\x01"}function Bd(e){var t=e.length;if(Gc(t>=2),2===t)return Gc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ml.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Kc(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Kc()}a=o+2}return new ml(r)}var Ud=["userId","batchId"];function zd(e,t){return[e,Fd(t)]}function qd(e,t,n){return[e,Fd(t),n]}var Kd={},Gd=["prefixPath","collectionGroup","readTime","documentId"],Wd=["prefixPath","collectionGroup","documentId"],Hd=["collectionGroup","readTime","prefixPath","documentId"],Qd=["canonicalId","targetId"],$d=["targetId","path"],Yd=["path","targetId"],Xd=["collectionId","parent"],Jd=["indexId","uid"],Zd=["uid","sequenceNumber"],ev=["indexId","uid","arrayValue","directionalValue","documentKey"],tv=["indexId","uid","documentKey"],nv=["userId","collectionPath","documentId"],rv=["userId","collectionPath","largestBatchId"],iv=["userId","collectionGroup","largestBatchId"],av=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ov=[].concat(Wt(av),["documentOverlays"]),uv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sv=[].concat(uv,["indexConfiguration","indexState","indexEntries"]),cv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lv=function(){function e(){Ht(this,e),this.onCommittedListeners=[]}return $t(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),fv=function(){function e(t){var n=this;Ht(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return $t(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Kc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Vr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),hv=function(){function e(t,n){var r=this;Ht(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new $c,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new pv(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=kv(e.target.error);r.At.reject(new pv(t,n))}}return $t(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Bc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new yv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new pv(n,t)}}}]),e}(),dv=function(){function e(t,n,r){Ht(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Qr())&&Uc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return $t(e,[{key:"Nt",value:function(){var e=a(f().mark((function e(t){var n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Bc("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new pv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Qc(Hc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Qc(Hc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new pv(t,n))},i.onupgradeneeded=function(e){Bc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Bc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=a(f().mark((function e(t,n,r,i){var a,o,u,s,c=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(f().mark((function e(){var n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=hv.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),fv.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Bc("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Bc("SimpleDb","Removing database:",e),gv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Yr())return!1;if(e.St())return!0;var t=Qr(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/react-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),vv=function(){function e(t){Ht(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return $t(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return gv(this.Ft.delete())}}]),e}(),pv=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this,Hc.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return $t(n)}(Qc);function mv(e){return"IndexedDbTransactionError"===e.name}var yv=function(){function e(t){Ht(this,e),this.store=t}return $t(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Bc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Bc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),gv(n)}},{key:"add",value:function(e){return Bc("SimpleDb","ADD",this.store.name,e,e),gv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return gv(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Bc("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Bc("SimpleDb","DELETE",this.store.name,e),gv(this.store.delete(e))}},{key:"count",value:function(){return Bc("SimpleDb","COUNT",this.store.name),gv(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new fv((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new fv((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Bc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new fv((function(n,r){t.onerror=function(e){var t=kv(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new fv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new vv(i),o=t(i.primaryKey,i.value,a);if(o instanceof fv){var u=o.catch((function(e){return a.done(),fv.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return fv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function gv(e){return new fv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=kv(e.target.error);n(t)}}))}var bv=!1;function kv(e){var t=dv.Vt(Qr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Qc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return bv||(bv=!0,setTimeout((function(){throw r}),0)),r}}return e}var wv=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return $t(n)}(lv);function xv(e,t){var n=Wc(e);return dv.xt(n.Ht,t)}var Ev=function(){function e(t,n,r,i){Ht(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return $t(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&mh(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Vr(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&yh(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Vr(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&yh(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(fl.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Hh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,(function(e,t){return bh(e,t)}))&&sl(this.baseMutations,e.baseMutations,(function(e,t){return bh(e,t)}))}}]),e}(),Sv=function(){function e(t,n,r,i){Ht(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return $t(e,null,[{key:"from",value:function(t,n,r){Gc(t.mutations.length===r.length);for(var i=Gh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),_v=function(){function e(t,n){Ht(this,e),this.largestBatchId=t,this.mutation=n}return $t(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Cv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:fl.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:fl.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:kl.EMPTY_BYTE_STRING;Ht(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return $t(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Iv=$t((function e(t){Ht(this,e),this.Jt=t}));function Tv(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Nv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:vd(e,t.key),fields:t.data.value.mapValue.fields,updateTime:sd(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Av(t.version)};else{if(!t.isUnknownDocument())return Kc();r.unknownDocument={path:n.path.toArray(),version:Av(t.version)}}return r}function Nv(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Av(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Dv(e){var t=new ll(e.seconds,e.nanoseconds);return fl.fromTimestamp(t)}function Ov(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Sd(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Sd(e.Jt,t)})),u=ll.fromMillis(t.localWriteTimeMs);return new Ev(t.batchId,u,n,o)}function Pv(e){var t,n,r=Dv(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Dv(e.lastLimboFreeSnapshotVersion):fl.min();return void 0!==e.query.documents?(Gc(1===(n=e.query).documents.length),t=Uf(Lf(yd(n.documents[0])))):t=function(e){return Uf(Id(e))}(e.query),new Cv(t,e.targetId,0,e.lastListenSequenceNumber,r,i,kl.fromBase64String(e.resumeToken))}function Lv(e,t){var n,r=Av(t.snapshotVersion),i=Av(t.lastLimboFreeSnapshotVersion);n=mf(t.target)?_d(e.Jt,t.target):Cd(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:vf(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Rv(e){var t=Id({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?zf(t,t.limit,"L"):t}function Mv(e,t){return new _v(t.largestBatchId,Sd(e.Jt,t.overlayMutation))}function Fv(e,t){var n=t.path.lastSegment();return[e,Fd(t.path.popLast()),n]}var jv=function(){function e(){Ht(this,e)}return $t(e,[{key:"getBundleMetadata",value:function(e,t){return Vv(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Dv(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Vv(e).put({bundleId:(n=t).id,createTime:Av(fd(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Bv(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Rv(t.bundledQuery),readTime:Dv(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Bv(e).put(function(e){return{name:e.name,readTime:Av(fd(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Vv(e){return xv(e,"bundles")}function Bv(e){return xv(e,"namedQueries")}var Uv=function(){function e(t,n){Ht(this,e),this.M=t,this.userId=n}return $t(e,[{key:"getOverlay",value:function(e,t){var n=this;return zv(e).get(Fv(this.userId,t)).next((function(e){return e?Mv(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new _v(t,a);i.push(r.Xt(e,o))})),fv.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Fd(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(zv(e).Qt("collectionPathOverlayIndex",i))})),fv.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Kh(),a=Fd(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return zv(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=Vr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Mv(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Kh(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return zv(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Mv(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return zv(e).put(function(e,t,n){var r=s(Fv(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ed(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function zv(e){return xv(e,"documentOverlays")}var qv=function(){function e(){Ht(this,e)}return $t(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(El(e.integerValue));else if("doubleValue"in e){var n=El(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Dl(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Sl(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Yl(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Kc()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Vr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Pl.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Kv(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Gv(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Kv(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}qv.fe=new qv;var Wv=function(){function e(){Ht(this,e),this.buffer=new Uint8Array(1024),this.position=0}return $t(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=Vr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=Vr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Gv(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Gv(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Hv=function(){function e(t){Ht(this,e),this.De=t}return $t(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),Qv=function(){function e(t){Ht(this,e),this.De=t}return $t(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),$v=function(){function e(){Ht(this,e),this.De=new Wv,this.Ce=new Hv(this.De),this.xe=new Qv(this.De)}return $t(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Yv=function(){function e(t,n,r,i){Ht(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return $t(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Xv(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Jv(e.arrayValue,t.arrayValue))?n:0!==(n=Jv(e.directionalValue,t.directionalValue))?n:Pl.comparator(e.documentKey,t.documentKey)}function Jv(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Zv=function(){function e(t){Ht(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=Vr(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return $t(e,[{key:"$e",value:function(e){var t=rf(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=af(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=Vr(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),ep=function(){function e(){Ht(this,e),this.qe=new tp}return $t(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),fv.resolve()}},{key:"getCollectionParents",value:function(e,t){return fv.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return fv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return fv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return fv.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return fv.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return fv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return fv.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return fv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return fv.resolve()}}]),e}(),tp=function(){function e(){Ht(this,e),this.index={}}return $t(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Fh(ml.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Fh(ml.comparator)).toArray()}}]),e}(),np=new Uint8Array(0),rp=function(){function e(t){Ht(this,e),this.user=t,this.Ge=new tp,this.Ke=new Ph((function(e){return vf(e)}),(function(e,t){return pf(e,t)})),this.uid=t.uid||""}return $t(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:Fd(i)};return ip(e).put(a)}return fv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[cl(t),""],!1,!0);return ip(e).qt(r).next((function(e){var r,i=Vr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Bd(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=op(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=op(e),r=up(e),i=ap(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ap(e),i=!0,a=new Map;return fv.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Hh();return fv.forEach(a,(function(i,a){var o;Bc("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(vf(t)));var u=function(e,t){var n=rf(t);if(void 0===n)return null;var r,i=Vr(yf(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=Vr(af(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Vr(yf(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=Vr(af(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=Vr(yf(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,v=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?Rl:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?ql(Nl.empty(),Pl.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Kc();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,v=!1;break;case"!=":case"not-in":d=Rl}Xl(c,d)===d&&(c=d,l=v)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var p=0;p<e.orderBy.length;++p)if(e.orderBy[p].field.isEqual(s.fieldPath)){var m=e.startAt.position[p];Xl(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new If(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=Vr(af(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=Vr(yf(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,v=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?ql(Nl.empty(),Pl.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Ll:Kc(),v=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,v=!1;break;case"!=":case"not-in":d=Ll}Jl(c,d)===d&&(c=d,l=v)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var p=0;p<e.orderBy.length;++p)if(e.orderBy[p].field.isEqual(s.fieldPath)){var m=e.endAt.position[p];Jl(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new If(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),v=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return fv.forEach(v,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new Pl(Bd(t.documentKey)))}))}))}))})).next((function(){return e}))}return fv.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):np,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,Wt(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new Yv(e,Pl.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Yv(e,Pl.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new Yv(e,Pl.empty(),np,np)}},{key:"getFieldIndex",value:function(e,t){var n=new Zv(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new $v,i=Vr(af(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);qv.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new $v;return qv.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new $v);var i,a=0,o=Vr(af(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Vr(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&Gl(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);qv.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=Wt(e),a=[],o=Vr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Vr(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new $v;f.seed(l.Se()),qv.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof gf&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=op(e),i=up(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return fv.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new uf(t.sequenceNumber,new lf(Dv(t.readTime),new Pl(Bd(t.documentKey)),t.largestBatchId)):uf.empty(),r=e.fields.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new of(gl.fromServerFormat(n),r)}));return new nf(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ul(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=op(e),a=up(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return fv.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Av(r.readTime),documentKey:Fd(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return fv.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?fv.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),fv.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?fv.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return ap(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:Fd(t.key.path)})}},{key:"cn",value:function(e,t,n){return ap(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Fd(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=ap(e),i=new Fh(Xv);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,Fd(t.path)])},(function(e,r){i=i.add(new Yv(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new Fh(Xv),r=this.Ze(t,e);if(null==r)return n;var i=rf(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Gl(a)){var o,u=Vr(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Yv(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Yv(t.indexId,e.key,np,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;Bc("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Vh(a),s=Vh(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Vh(o)):l?(i(u),u=Vh(a)):(u=Vh(a),s=Vh(o))}}(n,r,Xv,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),fv.waitFor(a)}},{key:"sn",value:function(e){var t=1;return up(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Xv(e,t)})).filter((function(e,t,n){return!t||0!==Xv(e,n[t-1])}));var r=[];r.push(e);var i,a=Vr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Xv(o,e),s=Xv(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function ip(e){return xv(e,"collectionParents")}function ap(e){return xv(e,"indexEntries")}function op(e){return xv(e,"indexConfiguration")}function up(e){return xv(e,"indexState")}var sp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cp=function(){function e(t,n,r){Ht(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return $t(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function lp(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Gc(1===u)})));var c,l=[],f=Vr(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=qd(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(v){f.e(v)}finally{f.f()}return fv.waitFor(a).next((function(){return l}))}function fp(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Kc();t=e.noDocument}return JSON.stringify(t).length}cp.DEFAULT_COLLECTION_PERCENTILE=10,cp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cp.DEFAULT=new cp(41943040,cp.DEFAULT_COLLECTION_PERCENTILE,cp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cp.DISABLED=new cp(-1,0,0);var hp=function(){function e(t,n,r,i){Ht(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return $t(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vp(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=pp(e),o=vp(e);return o.add({}).next((function(u){Gc("number"==typeof u);var s,c=new Ev(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Ed(e.Jt,t)})),i=n.mutations.map((function(t){return Ed(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Fh((function(e,t){return ul(e.canonicalString(),t.canonicalString())})),d=Vr(r);try{for(d.s();!(s=d.n()).done;){var v=s.value,p=qd(i.userId,v.key.path,u);h=h.add(v.key.path.popLast()),f.push(o.put(l)),f.push(a.put(p,Kd))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),fv.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return vp(e).get(t).next((function(e){return e?(Gc(e.userId===n.userId),Ov(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?fv.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return vp(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Gc(t.batchId>=r),a=Ov(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return vp(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vp(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ov(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=zd(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return pp(e).Wt({range:i},(function(r,i,o){var u=s(r,3),c=u[0],l=u[1],f=u[2],h=Bd(l);if(c===n.userId&&t.path.isEqual(h))return vp(e).get(f).next((function(e){if(!e)throw Kc();Gc(e.userId===n.userId),a.push(Ov(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Fh(ul),i=[];return t.forEach((function(t){var a=zd(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=pp(e).Wt({range:o},(function(e,i,a){var o=s(e,3),u=o[0],c=o[1],l=o[2],f=Bd(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),fv.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=zd(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Fh(ul);return pp(e).Wt({range:o},(function(e,t,a){var o=s(e,3),c=o[0],l=o[1],f=o[2],h=Bd(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(vp(e).get(t).next((function(e){if(null===e)throw Kc();Gc(e.userId===n.userId),r.push(Ov(n.M,e))})))})),fv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return lp(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),fv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return fv.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return pp(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Bd(e[1]);i.push(a)}else r.done()})).next((function(){Gc(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return dp(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return mp(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Gc(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function dp(e,t,n){var r=zd(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return pp(e).Wt({range:a,jt:!0},(function(e,n,r){var a=s(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function vp(e){return xv(e,"mutations")}function pp(e){return xv(e,"documentMutations")}function mp(e){return xv(e,"mutationQueues")}var yp=function(){function e(t){Ht(this,e),this.wn=t}return $t(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),gp=function(){function e(t,n){Ht(this,e),this.referenceDelegate=t,this.M=n}return $t(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new yp(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return fl.fromTimestamp(new ll(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return bp(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return Gc(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return bp(e).Wt((function(o,u){var s=Pv(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return fv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return bp(e).Wt((function(e,n){var r=Pv(n);t(r)}))}},{key:"yn",value:function(e){return kp(e).get("targetGlobalKey").next((function(e){return Gc(null!==e),e}))}},{key:"pn",value:function(e,t){return kp(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return bp(e).put(Lv(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=vf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bp(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Pv(n);pf(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=wp(e);return t.forEach((function(t){var o=Fd(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),fv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=wp(e);return fv.forEach(t,(function(t){var a=Fd(t.path);return fv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=wp(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=wp(e),i=Hh();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Bd(e[1]),a=new Pl(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Fd(t.path),r=IDBKeyRange.bound([n],[cl(n)],!1,!0),i=0;return wp(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=s(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return bp(e).get(t).next((function(e){return e?Pv(e):null}))}}]),e}();function bp(e){return xv(e,"targets")}function kp(e){return xv(e,"targetGlobal")}function wp(e){return xv(e,"targetDocuments")}function xp(e){return Ep.apply(this,arguments)}function Ep(){return Ep=a(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Hc.FAILED_PRECONDITION&&t.message===cv){e.next=2;break}throw t;case 2:Bc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Ep.apply(this,arguments)}function Sp(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,2),o=a[0],u=a[1],c=ul(r,o);return 0===c?ul(i,u):c}var _p=function(){function e(t){Ht(this,e),this.En=t,this.buffer=new Fh(Sp),this.An=0}return $t(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Sp(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Cp=function(){function e(t,n){Ht(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return $t(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;Bc("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,a(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!mv(n.t0)){n.next=12;break}Bc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,xp(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Ip=function(){function e(t,n){Ht(this,e),this.Sn=t,this.params=n}return $t(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return fv.resolve(il.A);var r=new _p(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Bc("LruGarbageCollector","Garbage collection skipped; disabled"),fv.resolve(sp)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Bc("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),sp):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Bc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Vc()<=yi.DEBUG&&Bc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),fv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Tp=function(){function e(t,n){Ht(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ip(e,t)}(this,n)}return $t(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Np(e,n)}},{key:"removeReference",value:function(e,t,n){return Np(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Np(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return mp(e).zt((function(r){return dp(e,r,t).next((function(e){return e&&(n=!0),fv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,fl.min()),wp(e).delete([0,Fd(o.path)])}))}));i.push(s)}})).next((function(){return fv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Np(e,t)}},{key:"kn",value:function(e,t){var n,r=wp(e),i=il.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=s(e,2),o=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==il.A&&t(new Pl(Bd(n)),i),i=c,n=u):i=il.A})).next((function(){i!==il.A&&t(new Pl(Bd(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Np(e,t){return wp(e).put(function(e,t){return{targetId:0,path:Fd(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ap=function(){function e(){Ht(this,e),this.changes=new Ph((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return $t(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,tf.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?fv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Dp=function(){function e(t){Ht(this,e),this.M=t}return $t(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Lp(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Lp(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Nv(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=tf.newInvalidDocument(t);return Lp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Rp(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:tf.newInvalidDocument(t)};return Lp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Rp(t))},(function(e,i){r={document:n.Fn(t,i),size:fp(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Uh();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=Uh(),i=new Lh(Pl.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,fp(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return fv.resolve();var r=new Fh(Fp);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Rp(r.first()),Rp(r.last())),a=r.getIterator(),o=a.getNext();return Lp(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Pl.fromSegments([].concat(Wt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Fp(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Rp(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Nv(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lp(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Uh(),i=Vr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(Pl.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Uh(),o=Mp(t,n),u=Mp(t,lf.max());return Lp(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Fn(Pl.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Op(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Pp(e).get("remoteDocumentGlobalKey").next((function(e){return Gc(!!e),e}))}},{key:"On",value:function(e,t){return Pp(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=wd(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Pl.fromSegments(t.noDocument.path),i=Dv(t.noDocument.readTime);n=tf.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Kc();var a=Pl.fromSegments(t.unknownDocument.path),o=Dv(t.unknownDocument.version);n=tf.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new ll(e[0],e[1]);return fl.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(fl.min()))return n}return tf.newInvalidDocument(e)}}]),e}(),Op=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new Ph((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return $t(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Fh((function(e,t){return ul(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Tv(t.qn.M,o);i=i.add(a.path.popLast());var c=fp(s);r+=c-u.size,n.push(t.qn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Tv(t.qn.M,o.convertToNoDocument(fl.min()));n.push(t.qn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),fv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Ap);function Pp(e){return xv(e,"remoteDocumentGlobal")}function Lp(e){return xv(e,"remoteDocumentsV14")}function Rp(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Mp(e,t){var n=t.documentKey.path.toArray();return[e,Nv(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Fp(e,t){var n=e.path.length-t.path.length;return 0!==n?n:Pl.comparator(e,t)}var jp=function(){function e(t){Ht(this,e),this.M=t}return $t(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new hv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ud,{unique:!0}),e.createObjectStore("documentMutations")}(e),Vp(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=fv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Vp(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:fl.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ud,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return fv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:nv});t.createIndex("collectionPathOverlayIndex",rv,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",iv,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Gd});t.createIndex("documentKeyIndex",Wd),t.createIndex("collectionGroupIndex",Hd)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Jd}).createIndex("sequenceNumberIndex",Zd,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ev}).createIndex("documentKeyIndex",tv,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=fp(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return fv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return fv.forEach(r,(function(r){Gc(r.userId===n.userId);var i=Ov(t.M,r);return lp(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new ml(n),o=function(e){return[0,Fd(e)]}(a);r.push(t.get(o).next((function(n){return n?fv.resolve():function(n){return t.put({targetId:0,path:Fd(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return fv.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Xd});var n=t.store("collectionParents"),r=new tp,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Fd(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new ml(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=s(e,3),r=(n[0],n[1]),a=(n[2],Bd(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Pv(r),a=Lv(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Pl(ml.fromString(i.document.name).popFirst(5)):i.noDocument?Pl.fromSegments(i.noDocument.path):i.unknownDocument?Pl.fromSegments(i.unknownDocument.path):Kc()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return fv.waitFor(r)}))}}]),e}();function Vp(e){e.createObjectStore("targetDocuments",{keyPath:$d}).createIndex("documentTargetsIndex",Yd,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Qd,{unique:!0}),e.createObjectStore("targetGlobal")}var Bp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Up=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Ht(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=u,this.Yn=c,this.Xn=l,this.Zn=f,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new Qc(Hc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tp(this,i),this.cs=n+"main",this.M=new Iv(s),this.hs=new dv(this.cs,this.Zn,new jp(this.M)),this.ls=new gp(this.referenceDelegate,this.M),this.fs=function(e){return new Dp(e)}(this.M),this.ds=new jv,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&Uc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return $t(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Qc(Hc.FAILED_PRECONDITION,Bp);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new il(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=a(f().mark((function n(r){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=a(f().mark((function t(n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return qp(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(mv(t))return Bc("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Bc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return zp(e).get("owner").next((function(e){return fv.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return qp(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=a(f().mark((function e(){var t,n,r,i,a=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=xv(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return fv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=Vr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?fv.resolve(!0):zp(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Qc(Hc.FAILED_PRECONDITION,Bp);return!1}}return!(!t.networkEnabled||!t.inForeground)||qp(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Bc("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=a(f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new wv(e,il.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return qp(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return hp.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new rp(e)}},{key:"getDocumentOverlayCache",value:function(e){return Uv.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Bc("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.Zn)?sv:13===i?uv:12===i?ov:11===i?av:void Kc();return this.hs.runTransaction(e,o,u,(function(i){return a=new wv(i,r.ts?r.ts.next():il.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw Uc("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new Qc(Hc.FAILED_PRECONDITION,cv);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return zp(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Qc(Hc.FAILED_PRECONDITION,Bp)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zp(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=zp(e);return n.get("owner").next((function(e){return t.bs(e)?(Bc("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):fv.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Uc("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),$r()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Bc("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Uc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(Ra){Uc("Failed to set zombie client id.",Ra)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(Ra){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return dv.vt()}}]),e}();function zp(e){return xv(e,"owner")}function qp(e){return xv(e,"clientMetadata")}function Kp(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Gp=function(){function e(t,n,r){Ht(this,e),this.fs=t,this.$s=n,this.indexManager=r}return $t(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=Vr(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=Vr(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return Pl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):Vf(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new Pl(t)).next((function(e){var t=qh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=qh();return this.indexManager.getCollectionParents(e,i).next((function(o){return fv.forEach(o,(function(o){var u=function(e,t){return new Of(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Vr(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Vr(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=tf.newInvalidDocument(s),r=r.insert(s,c)),yh(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Wf(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Wp=function(){function e(t,n,r,i){Ht(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return $t(e,null,[{key:"Js",value:function(t,n){var r,i=Hh(),a=Hh(),o=Vr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Hp=function(){function e(){Ht(this,e)}return $t(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(fl.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(Rf(t)||Mf(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(Vc()<=yi.DEBUG&&Bc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Gf(t)),i.Xs.Ks(e,t,sf(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new Fh(Qf(e));return t.forEach((function(t,r){Wf(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return Vc()<=yi.DEBUG&&Bc("QueryEngine","Using full collection scan to execute query:",Gf(t)),this.Xs.Ks(e,t,lf.min())}}]),e}(),Qp=function(){function e(t,n,r,i){Ht(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new Lh(ul),this.ii=new Ph((function(e){return vf(e)}),pf),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return $t(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new Gp(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function $p(e,t,n,r){return new Qp(e,t,n,r)}function Yp(e,t){return Xp.apply(this,arguments)}function Xp(){return Xp=a(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wc(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Hh(),s=Vr(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Vr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,v=Vr(n);try{for(v.s();!(d=v.n()).done;){var p=d.value;o.push(p.batchId);var m,y=Vr(p.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){v.e(b)}finally{v.f()}return r.ai.qs(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Xp.apply(this,arguments)}function Jp(e,t){var n=Wc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=fv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Gc(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function Zp(e){var t=Wc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function em(e,t){var n=Wc(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(kl.EMPTY_BYTE_STRING,fl.min()).withLastLimboFreeSnapshotVersion(fl.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.ls.updateTargetData(e,c))}}));var u=Uh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(tm(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(fl.min())){var s=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return fv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function tm(e,t,n){var r=Hh();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Uh();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(fl.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Bc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function nm(e,t){var n=Wc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function rm(e,t){var n=Wc(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,fv.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new Cv(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function im(e,t,n){return am.apply(this,arguments)}function am(){return am=a(f().mark((function e(t,n,r){var i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Wc(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),mv(e.t1)){e.next=12;break}throw e.t1;case 12:Bc("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),am.apply(this,arguments)}function om(e,t,n){var r=Wc(e),i=fl.min(),a=Hh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Wc(e),i=r.ii.get(n);return void 0!==i?fv.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,Uf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:fl.min(),n?a:Hh())})).next((function(e){return cm(r,Hf(t),e),{documents:e,hi:a}}))}))}function um(e,t){var n=Wc(e),r=Wc(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function sm(e,t){var n=Wc(e),r=n.ri.get(t)||fl.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,sf(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return cm(n,t,e),e}))}function cm(e,t,n){var r=fl.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function lm(e,t,n,r){return fm.apply(this,arguments)}function fm(){return fm=a(f().mark((function e(t,n,r,i){var a,o,u,s,c,l,h,d,v,p;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Wc(t),o=Hh(),u=Uh(),s=Vr(r);try{for(s.s();!(c=s.n()).done;)l=c.value,h=n.li(l.metadata.name),l.document&&(o=o.add(h)),(d=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(h,d)}catch(f){s.e(f)}finally{s.f()}return v=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,rm(a,function(e){return Uf(Lf(ml.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return tm(e,v,u).next((function(t){return v.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.ls.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),fm.apply(this,arguments)}function hm(e,t){return dm.apply(this,arguments)}function dm(){return dm=a(f().mark((function e(t,n){var r,i,a,o=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Hh(),e.next=3,rm(t,Uf(Rv(n.bundledQuery)));case 3:return i=e.sent,a=Wc(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=fd(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken(kl.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),dm.apply(this,arguments)}var vm=function(){function e(t){Ht(this,e),this.M=t,this._i=new Map,this.wi=new Map}return $t(e,[{key:"getBundleMetadata",value:function(e,t){return fv.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:fd(n.createTime)}),fv.resolve()}},{key:"getNamedQuery",value:function(e,t){return fv.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:Rv(e.bundledQuery),readTime:fd(e.readTime)}}(t)),fv.resolve()}}]),e}(),pm=function(){function e(){Ht(this,e),this.overlays=new Lh(Pl.comparator),this.mi=new Map}return $t(e,[{key:"getOverlay",value:function(e,t){return fv.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),fv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),fv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Kh(),i=t.length+1,a=new Pl(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return fv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Lh((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Kh(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Kh(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return fv.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new _v(t,n));var a=this.mi.get(t);void 0===a&&(a=Hh(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),mm=function(){function e(){Ht(this,e),this.gi=new Fh(ym.yi),this.pi=new Fh(ym.Ii)}return $t(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ym(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new ym(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new Pl(new ml([])),r=new ym(n,e),i=new ym(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new Pl(new ml([])),n=new ym(t,e),r=new ym(t,e+1),i=Hh();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ym(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ym=function(){function e(t,n){Ht(this,e),this.key=t,this.Vi=n}return $t(e,null,[{key:"yi",value:function(e,t){return Pl.comparator(e.key,t.key)||ul(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return ul(e.Vi,t.Vi)||Pl.comparator(e.key,t.key)}}]),e}(),gm=function(){function e(t,n){Ht(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new Fh(ym.yi)}return $t(e,[{key:"checkEmpty",value:function(e){return fv.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new Ev(i,t,n,r);this.$s.push(a);var o,u=Vr(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new ym(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return fv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return fv.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return fv.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return fv.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return fv.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ym(t,0),i=new ym(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),fv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Fh(ul);return t.forEach((function(e){var t=new ym(e,0),i=new ym(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),fv.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Pl.isDocumentKey(i)||(i=i.child(""));var a=new ym(new Pl(i),0),o=new Fh(ul);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),fv.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Gc(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return fv.forEach(t.mutations,(function(i){var a=new ym(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ym(t,0),r=this.Si.firstAfterOrEqual(n);return fv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,fv.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),bm=function(){function e(t){Ht(this,e),this.ki=t,this.docs=new Lh(Pl.comparator),this.size=0}return $t(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return fv.resolve(n?n.document.mutableCopy():tf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Uh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():tf.newInvalidDocument(e))})),fv.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Uh(),i=new Pl(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||ff(cf(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return fv.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Kc()}},{key:"Mi",value:function(e,t){return fv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new km(this)}},{key:"getSize",value:function(e){return fv.resolve(this.size)}}]),e}(),km=function(e){jn(n,e);var t=qn(n);function n(e){var r;return Ht(this,n),(r=t.call(this)).qn=e,r}return $t(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),fv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(Ap),wm=function(){function e(t){Ht(this,e),this.persistence=t,this.Oi=new Ph((function(e){return vf(e)}),pf),this.lastRemoteSnapshotVersion=fl.min(),this.highestTargetId=0,this.Fi=0,this.$i=new mm,this.targetCount=0,this.Bi=yp.mn()}return $t(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),fv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return fv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return fv.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),fv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),fv.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new yp(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,fv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),fv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,fv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),fv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return fv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return fv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),fv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),fv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),fv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return fv.resolve(n)}},{key:"containsKey",value:function(e,t){return fv.resolve(this.$i.containsKey(t))}}]),e}(),xm=function(){function e(t,n){var r=this;Ht(this,e),this.Li={},this.overlays={},this.ts=new il(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new wm(this),this.indexManager=new ep,this.fs=new bm((function(e){return r.referenceDelegate.Ui(e)})),this.M=new Iv(n),this.ds=new vm(this.M)}return $t(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new pm,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new gm(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Bc("MemoryPersistence","Starting transaction:",e);var i=new Em(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return fv.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Em=function(e){jn(n,e);var t=qn(n);function n(e){var r;return Ht(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return $t(n)}(lv),Sm=function(){function e(t){Ht(this,e),this.persistence=t,this.Qi=new mm,this.ji=null}return $t(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw Kc()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),fv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),fv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),fv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fv.forEach(this.zi,(function(r){var i=Pl.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,fl.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return fv.or([function(){return fv.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function _m(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Cm(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Im(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Tm=function(){function e(t,n,r,i){Ht(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return $t(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Qc(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Uc("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Nm=function(){function e(t,n,r){Ht(this,e),this.targetId=t,this.state=n,this.error=r}return $t(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Qc(i.error.code,i.error.message))),a?new e(t,i.state,r):(Uc("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Am=function(){function e(t,n){Ht(this,e),this.clientId=t,this.activeTargetIds=n}return $t(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=$h(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ol(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Uc("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Dm=function(){function e(t,n){Ht(this,e),this.clientId=t,this.onlineState=n}return $t(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Uc("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Om=function(){function e(){Ht(this,e),this.activeTargetIds=$h()}return $t(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Pm=function(){function e(t,n,r,i,a){Ht(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Lh(ul),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=_m(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Om),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return $t(e,[{key:"start",value:function(){var e=a(f().mark((function e(){var t,n,r,i,a,o,u,s,c,l,h,d=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=Vr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(_m(this.persistenceKey,i)))&&(o=Am.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=Vr(this.ir);try{for(c.s();!(l=c.n()).done;)h=l.value,this.nr(h)}catch(f){c.e(f)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Im(this.persistenceKey,e));if(n){var r=Nm.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Im(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Bc("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Bc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Bc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Bc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Uc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(a(f().mark((function e(){var r,i,a,o,u,s,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=il.A;if(null!=e)try{var n=JSON.parse(e);Gc("number"==typeof n),t=n}catch(e){Uc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==il.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new Tm(this.currentUser,e,t,n),i=Cm(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=Cm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=Im(this.persistenceKey,e),i=new Nm(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Am.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Tm.Ji(new Mc(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return Nm.Ji(r,t)}},{key:"wr",value:function(e){return Dm.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=a(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Bc("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=$h();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Lm=function(){function e(){Ht(this,e),this.Fr=new Om,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return $t(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new Om,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Rm=function(){function e(){Ht(this,e)}return $t(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Mm=function(){function e(){var t=this;Ht(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return $t(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Bc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Vr(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){Bc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Vr(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Fm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jm=function(){function e(t){Ht(this,e),this.jr=t.jr,this.Wr=t.Wr}return $t(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),Vm=function(e){jn(n,e);var t=qn(n);function n(e){var r;return Ht(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return $t(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Lc;o.listenOnce(Nc.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Tc.NO_ERROR:var t=o.getResponseJson();Bc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Tc.TIMEOUT:Bc("Connection",'RPC "'+e+'" timed out'),a(new Qc(Hc.DEADLINE_EXCEEDED,"Request time out"));break;case Tc.HTTP_ERROR:var n=o.getStatus();if(Bc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Hc).indexOf(t)>=0?t:Hc.UNKNOWN}(r.status);a(new Qc(u,r.message))}else a(new Qc(Hc.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Qc(Hc.UNAVAILABLE,"Connection failed."));break;default:Kc()}}finally{Bc("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Cc(),a=Ic(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Oc({})),this.uo(o.initMessageHeaders,t,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qr())||"object"===typeof navigator&&"ReactNative"===navigator.product||Qr().indexOf("Electron/")>=0||function(){var e=Qr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||Qr().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Bc("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new jm({jr:function(e){l?Bc("Connection","Not sending because WebChannel is closed:",e):(c||(Bc("Connection","Opening WebChannel transport."),s.open(),c=!0),Bc("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Pc.EventType.OPEN,(function(){l||Bc("Connection","WebChannel transport opened.")})),h(s,Pc.EventType.CLOSE,(function(){l||(l=!0,Bc("Connection","WebChannel transport closed"),f.eo())})),h(s,Pc.EventType.ERROR,(function(e){l||(l=!0,zc("Connection","WebChannel transport errored:",e),f.eo(new Qc(Hc.UNAVAILABLE,"The operation could not be completed")))})),h(s,Pc.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Gc(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Bc("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Ch[e];if(void 0!==t)return Oh(t)}(a),u=i.message;void 0===o&&(o=Hc.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Qc(o,u)),s.close()}else Bc("Connection","WebChannel received:",n),f.no(n)}})),h(a,Ac.STAT_EVENT,(function(e){e.stat===Dc.PROXY?Bc("Connection","Detected buffering proxy"):e.stat===Dc.NOPROXY&&Bc("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Ht(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return $t(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Bc("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return Bc("RestConnection","Received: ",e),e}),(function(t){throw zc("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=Fm[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Bm(){return"undefined"!=typeof window?window:null}function Um(){return"undefined"!=typeof document?document:null}function zm(e){return new ud(e,!0)}var qm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ht(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return $t(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Bc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),Km=function(){function e(t,n,r,i,a,o,u,s){Ht(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new qm(t,n)}return $t(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=a(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Hc.RESOURCE_EXHAUSTED?(Uc(n.toString()),Uc("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Hc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Qc(Hc.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(a(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Bc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(Bc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Gm=function(e){jn(n,e);var t=qn(n);function n(e,r,i,a,o,u){var s;return Ht(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return $t(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Kc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Gc(void 0===t||"string"==typeof t),kl.fromBase64String(t||"")):(Gc(void 0===t||t instanceof Uint8Array),kl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Hc.UNKNOWN:Oh(e.code);return new Qc(t,e.message||"")}(o);n=new ed(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=pd(e,s.document.name),l=fd(s.document.updateTime),f=new Zl({mapValue:{fields:s.document.fields}}),h=tf.newFoundDocument(c,l,f),d=s.targetIds||[],v=s.removedTargetIds||[];n=new Jh(d,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var p=t.documentDelete;p.document;var m=pd(e,p.document),y=p.readTime?fd(p.readTime):fl.min(),g=tf.newNoDocument(m,y),b=p.removedTargetIds||[];n=new Jh([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=pd(e,k.document),x=k.removedTargetIds||[];n=new Jh([],x,w,null)}else{if(!("filter"in t))return Kc();t.filter;var E=t.filter;E.targetId;var S=E.count||0,_=new Ah(S),C=E.targetId;n=new Zh(C,_)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return fl.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?fl.min():t.readTime?fd(t.readTime):fl.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=gd(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=mf(r)?{documents:_d(e,r)}:{query:Cd(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=cd(e,t.resumeToken):t.snapshotVersion.compareTo(fl.min())>0&&(n.readTime=sd(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Kc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=gd(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(Km),Wm=function(e){jn(n,e);var t=qn(n);function n(e,r,i,a,o,u){var s;return Ht(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Wo=!1,s}return $t(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Fn(Rn(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Gc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Gc(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?fd(e.updateTime):fd(t);return n.isEqual(fl.min())&&(n=fd(t)),new hh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=fd(e.commitTime);return this.listener.Jo(n,t)}return Gc(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=gd(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ed(t.M,e)}))};this.Oo(n)}}]),n}(Km),Hm=function(e){jn(n,e);var t=qn(n);function n(e,r,i,a){var o;return Ht(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return $t(n,[{key:"tu",value:function(){if(this.Zo)throw new Qc(Hc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Hc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Qc(Hc.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.bo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Hc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Qc(Hc.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return $t((function e(){Ht(this,e)}))}()),Qm=function(){function e(t,n){Ht(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return $t(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Uc(t),this.su=!1):Bc("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),$m=$t((function e(t,n,r,i,o){var u=this;Ht(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br((function(e){r.enqueueAndForget(a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=oy(u),!e.t0){e.next=5;break}return Bc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=a(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Wc(t)).lu.add(4),e.next=4,Jm(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,Ym(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new Qm(r,i)}));function Ym(e){return Xm.apply(this,arguments)}function Xm(){return Xm=a(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oy(t)){e.next=18;break}n=Vr(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Xm.apply(this,arguments)}function Jm(e){return Zm.apply(this,arguments)}function Zm(){return Zm=a(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Vr(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Zm.apply(this,arguments)}function ey(e,t){var n=Wc(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),ay(n)?iy(n):Ry(n).Co()&&ny(n,t))}function ty(e,t){var n=Wc(e),r=Ry(n);n.hu.delete(t),r.Co()&&ry(n,t),0===n.hu.size&&(r.Co()?r.ko():oy(n)&&n._u.set("Unknown"))}function ny(e,t){e.wu.Z(t.targetId),Ry(e).Qo(t)}function ry(e,t){e.wu.Z(t),Ry(e).jo(t)}function iy(e){e.wu=new nd({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),Ry(e).start(),e._u.iu()}function ay(e){return oy(e)&&!Ry(e).Do()&&e.hu.size>0}function oy(e){return 0===Wc(e).lu.size}function uy(e){e.wu=void 0}function sy(e){return cy.apply(this,arguments)}function cy(){return cy=a(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){ny(t,e)}));case 1:case"end":return e.stop()}}),e)}))),cy.apply(this,arguments)}function ly(e,t){return fy.apply(this,arguments)}function fy(){return fy=a(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uy(t),ay(t)?(t._u.uu(n),iy(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),fy.apply(this,arguments)}function hy(e,t,n){return dy.apply(this,arguments)}function dy(){return dy=a(f().mark((function e(t,n,r){var i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof ed&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=a(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Vr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Bc("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,vy(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Jh?t.wu.ut(n):n instanceof Zh?t.wu._t(n):t.wu.ht(n),r.isEqual(fl.min())){e.next=29;break}return e.prev=14,e.next=17,Zp(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(kl.EMPTY_BYTE_STRING,n.snapshotVersion)),ry(e,t);var r=new Cv(n.target,t,1,n.sequenceNumber);ny(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Bc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,vy(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),dy.apply(this,arguments)}function vy(e,t,n){return py.apply(this,arguments)}function py(){return py=a(f().mark((function e(t,n,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mv(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Jm(t);case 5:t._u.set("Offline"),r||(r=function(){return Zp(t.localStore)}),t.asyncQueue.enqueueRetryable(a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bc("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,Ym(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),py.apply(this,arguments)}function my(e,t){return t().catch((function(n){return vy(e,n,t)}))}function yy(e){return gy.apply(this,arguments)}function gy(){return gy=a(f().mark((function e(t){var n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Wc(t),r=My(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!by(n)){e.next=19;break}return e.prev=3,e.next=6,nm(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,ky(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,vy(n,e.t0);case 17:e.next=2;break;case 19:wy(n)&&xy(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),gy.apply(this,arguments)}function by(e){return oy(e)&&e.cu.length<10}function ky(e,t){e.cu.push(t);var n=My(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function wy(e){return oy(e)&&!My(e).Do()&&e.cu.length>0}function xy(e){My(e).start()}function Ey(e){return Sy.apply(this,arguments)}function Sy(){return Sy=a(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:My(t).Xo();case 1:case"end":return e.stop()}}),e)}))),Sy.apply(this,arguments)}function _y(e){return Cy.apply(this,arguments)}function Cy(){return Cy=a(f().mark((function e(t){var n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=My(t),r=Vr(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Cy.apply(this,arguments)}function Iy(e,t,n){return Ty.apply(this,arguments)}function Ty(){return Ty=a(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=Sv.from(i,n,r),e.next=3,my(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,yy(t);case 5:case"end":return e.stop()}}),e)}))),Ty.apply(this,arguments)}function Ny(e,t){return Ay.apply(this,arguments)}function Ay(){return Ay=a(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&My(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=a(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dh(i=n.code)||i===Hc.ABORTED){e.next=7;break}return r=t.cu.shift(),My(t).No(),e.next=5,my(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,yy(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:wy(t)&&xy(t);case 5:case"end":return e.stop()}}),e)}))),Ay.apply(this,arguments)}function Dy(e,t){return Oy.apply(this,arguments)}function Oy(){return Oy=a(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Wc(t)).asyncQueue.verifyOperationInProgress(),Bc("RemoteStore","RemoteStore received new credentials"),i=oy(r),r.lu.add(3),e.next=6,Jm(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,Ym(r);case 12:case"end":return e.stop()}}),e)}))),Oy.apply(this,arguments)}function Py(e,t){return Ly.apply(this,arguments)}function Ly(){return Ly=a(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wc(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,Ym(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Jm(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Ly.apply(this,arguments)}function Ry(e){return e.mu||(e.mu=function(e,t,n){var r=Wc(e);return r.tu(),new Gm(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:sy.bind(null,e),Jr:ly.bind(null,e),Ko:hy.bind(null,e)}),e.fu.push(function(){var t=a(f().mark((function t(n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),ay(e)?iy(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:uy(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function My(e){return e.gu||(e.gu=function(e,t,n){var r=Wc(e);return r.tu(),new Wm(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:Ey.bind(null,e),Jr:Ny.bind(null,e),Yo:_y.bind(null,e),Jo:Iy.bind(null,e)}),e.fu.push(function(){var t=a(f().mark((function t(n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,yy(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(Bc("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var Fy=function(){function e(t,n,r,i,a){Ht(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new $c,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return $t(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qc(Hc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function jy(e,t){if(Uc("AsyncQueue","".concat(t,": ").concat(e)),mv(e))return new Qc(Hc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Vy=function(){function e(t){Ht(this,e),this.comparator=t?function(e,n){return t(e,n)||Pl.comparator(e.key,n.key)}:function(e,t){return Pl.comparator(e.key,t.key)},this.keyedMap=qh(),this.sortedSet=new Lh(this.comparator)}return $t(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),By=function(){function e(){Ht(this,e),this.yu=new Lh(Pl.comparator)}return $t(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Kc():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Uy=function(){function e(t,n,r,i,a,o,u,s){Ht(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return $t(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Vy.emptySet(n),a,r,i,!0,!1)}}]),e}(),zy=$t((function e(){Ht(this,e),this.Iu=void 0,this.listeners=[]})),qy=$t((function e(){Ht(this,e),this.queries=new Ph((function(e){return Kf(e)}),qf),this.onlineState="Unknown",this.Tu=new Set}));function Ky(e,t){return Gy.apply(this,arguments)}function Gy(){return Gy=a(f().mark((function e(t,n){var r,i,a,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wc(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new zy),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=jy(e.t0,"Initialization of query '".concat(Gf(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&Yy(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Gy.apply(this,arguments)}function Wy(e,t){return Hy.apply(this,arguments)}function Hy(){return Hy=a(f().mark((function e(t,n){var r,i,a,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wc(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Hy.apply(this,arguments)}function Qy(e,t){var n,r=Wc(e),i=!1,a=Vr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Vr(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Yy(r)}function $y(e,t,n){var r=Wc(e),i=r.queries.get(t);if(i){var a,o=Vr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Yy(e){e.Tu.forEach((function(e){e.next()}))}var Xy=function(){function e(t,n,r){Ht(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return $t(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Vr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Uy(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=Uy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),Jy=function(){function e(t,n){Ht(this,e),this.payload=t,this.byteLength=n}return $t(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),Zy=function(){function e(t){Ht(this,e),this.M=t}return $t(e,[{key:"li",value:function(e){return pd(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?wd(this.M,e.document,!1):tf.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return fd(e)}}]),e}(),eg=function(){function e(t,n,r){Ht(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tg(t)}return $t(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=ml.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new Zy(this.M),i=Vr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=Vr(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Hh()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=a(f().mark((function e(){var t,n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lm(this.localStore,new Zy(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Vr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,hm(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function tg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ng=$t((function e(t){Ht(this,e),this.key=t})),rg=$t((function e(t){Ht(this,e),this.key=t})),ig=function(){function e(t,n){Ht(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Hh(),this.mutatedKeys=Hh(),this.Lu=Qf(t),this.Uu=new Vy(this.Lu)}return $t(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new By,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Rf(this.query)&&i.size===this.query.limit?i.last():null,c=Mf(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Wf(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),v=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),v=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),v=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),v=!0):l&&!f&&(r.track({type:1,doc:l}),v=!0,(s||c)&&(u=!0)),v&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Rf(this.query)||Mf(this.query))for(;o.size>this.query.limit;){var l=Rf(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kc()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new Uy(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new By,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=Hh(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new rg(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new ng(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=Hh();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return Uy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),ag=$t((function e(t,n,r){Ht(this,e),this.query=t,this.targetId=n,this.view=r})),og=$t((function e(t){Ht(this,e),this.key=t,this.Xu=!1})),ug=function(){function e(t,n,r,i,a,o){Ht(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new Ph((function(e){return Kf(e)}),qf),this.ea=new Map,this.na=new Set,this.sa=new Lh(Pl.comparator),this.ia=new Map,this.ra=new mm,this.oa={},this.ua=new Map,this.aa=yp.gn(),this.onlineState="Unknown",this.ca=void 0}return $t(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function sg(e,t){return cg.apply(this,arguments)}function cg(){return cg=a(f().mark((function e(t,n){var r,i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tb(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,rm(r.localStore,Uf(n));case 8:return u=e.sent,r.isPrimaryClient&&ey(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,lg(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),cg.apply(this,arguments)}function lg(e,t,n,r){return fg.apply(this,arguments)}function fg(){return fg=a(f().mark((function e(t,n,r,i){var o,u,s,c,l,h;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=a(f().mark((function e(t,n,r,i){var a,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,om(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Dg(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,om(t.localStore,n,!0);case 3:return o=e.sent,u=new ig(n,o.hi),s=u.Gu(o.documents),c=Xh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=u.applyChanges(s,t.isPrimaryClient,c),Dg(t,r,l.zu),h=new ag(n,r,u),e.abrupt("return",(t.ta.set(n,h),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),fg.apply(this,arguments)}function hg(e,t){return dg.apply(this,arguments)}function dg(){return dg=a(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wc(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!qf(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,im(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),ty(r.remoteStore,i.targetId),Ng(r,i.targetId)})).catch(xp);case 9:e.next=14;break;case 11:return Ng(r,i.targetId),e.next=14,im(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),dg.apply(this,arguments)}function vg(e,t,n){return pg.apply(this,arguments)}function pg(){return pg=a(f().mark((function e(t,n,r){var i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nb(t),e.prev=1,e.next=4,function(e,t){var n,r=Wc(e),i=ll.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Hh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,u=[],s=Vr(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=gh(c,n.get(c.key));null!=l&&u.push(new xh(c.key,l,ef(l.value.mapValue),dh.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.$s.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new Lh(ul)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Lg(i,a.changes);case 9:return e.next=11,yy(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=jy(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),pg.apply(this,arguments)}function mg(e,t){return yg.apply(this,arguments)}function yg(){return yg=a(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wc(t),e.prev=1,e.next=4,em(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&(Gc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Gc(n.Xu):e.removedDocuments.size>0&&(Gc(n.Xu),n.Xu=!1))})),e.next=8,Lg(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,xp(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),yg.apply(this,arguments)}function gg(e,t,n){var r=Wc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Wc(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Vr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Yy(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function bg(e,t,n){return kg.apply(this,arguments)}function kg(){return kg=a(f().mark((function e(t,n,r){var i,a,o,u,s,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Wc(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Lh(Pl.comparator)).insert(o,tf.newNoDocument(o,fl.min())),s=Hh().add(o),c=new Yh(fl.min(),new Map,new Fh(ul),u,s),e.next=9,mg(i,c);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),Pg(i),e.next=16;break;case 14:return e.next=16,im(i.localStore,n,!1).then((function(){return Ng(i,n,r)})).catch(xp);case 16:case"end":return e.stop()}}),e)}))),kg.apply(this,arguments)}function wg(e,t){return xg.apply(this,arguments)}function xg(){return xg=a(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wc(t),i=n.batch.batchId,e.prev=1,e.next=4,Jp(r.localStore,n);case 4:return a=e.sent,Tg(r,i,null),Ig(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Lg(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,xp(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),xg.apply(this,arguments)}function Eg(e,t,n){return Sg.apply(this,arguments)}function Sg(){return Sg=a(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wc(t),e.prev=1,e.next=4,function(e,t){var n=Wc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return Gc(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Tg(i,n,r),Ig(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Lg(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,xp(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Sg.apply(this,arguments)}function _g(e,t){return Cg.apply(this,arguments)}function Cg(){return Cg=a(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oy((r=Wc(t)).remoteStore)||Bc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Wc(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=jy(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Cg.apply(this,arguments)}function Ig(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function Tg(e,t,n){var r=Wc(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function Ng(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Vr(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||Ag(e,t)}))}function Ag(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(ty(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),Pg(e))}function Dg(e,t,n){var r,i=Vr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ng?(e.ra.addReference(a.key,t),Og(e,a)):a instanceof rg?(Bc("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||Ag(e,a.key)):Kc()}}catch(o){i.e(o)}finally{i.f()}}function Og(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(Bc("SyncEngine","New document in limbo: "+n),e.na.add(r),Pg(e))}function Pg(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new Pl(ml.fromString(t)),r=e.aa.next();e.ia.set(r,new og(n)),e.sa=e.sa.insert(n,r),ey(e.remoteStore,new Cv(Uf(Lf(n.path)),r,2,il.A))}}function Lg(e,t,n){return Rg.apply(this,arguments)}function Rg(){return Rg=a(f().mark((function e(t,n,r){var i,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Wc(t),o=[],u=[],s=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){s.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),o.push(e);var n=Wp.Js(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Ko(o),e.next=9,function(){var e=a(f().mark((function e(t,n){var r,i,a,o,u,s,c,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wc(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return fv.forEach(n,(function(t){return fv.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return fv.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),mv(e.t0)){e.next=10;break}throw e.t0;case 10:Bc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Vr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,u);case 9:case"end":return e.stop()}}),e)}))),Rg.apply(this,arguments)}function Mg(e,t){return Fg.apply(this,arguments)}function Fg(){return Fg=a(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Wc(t)).currentUser.isEqual(n)){e.next=11;break}return Bc("SyncEngine","User change. New user:",n.toKey()),e.next=5,Yp(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new Qc(Hc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Lg(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),Fg.apply(this,arguments)}function jg(e,t){var n=Wc(e),r=n.ia.get(t);if(r&&r.Xu)return Hh().add(r.key);var i=Hh(),a=n.ea.get(t);if(!a)return i;var o,u=Vr(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ta.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function Vg(e,t){return Bg.apply(this,arguments)}function Bg(){return Bg=a(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wc(t),e.next=3,om(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&Dg(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),Bg.apply(this,arguments)}function Ug(e,t){return zg.apply(this,arguments)}function zg(){return zg=a(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wc(t),e.abrupt("return",sm(r.localStore,n).then((function(e){return Lg(r,e)})));case 2:case"end":return e.stop()}}),e)}))),zg.apply(this,arguments)}function qg(e,t,n,r){return Kg.apply(this,arguments)}function Kg(){return Kg=a(f().mark((function e(t,n,r,i){var a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wc(t),e.next=3,function(e,t){var n=Wc(e),r=Wc(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):fv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,yy(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Tg(a,n,i||null),Ig(a,n),function(e,t){Wc(Wc(e).$s).dn(t)}(a.localStore,n)):Kc();case 11:return e.next=13,Lg(a,o);case 13:e.next=16;break;case 15:Bc("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}function Gg(e,t){return Wg.apply(this,arguments)}function Wg(){return Wg=a(f().mark((function e(t,n){var r,i,a,o,u,s,c,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tb(r=Wc(t)),nb(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Hg(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,Py(r.remoteStore,!0);case 9:o=Vr(a);try{for(o.s();!(u=o.n()).done;)s=u.value,ey(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return c=[],l=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Ng(r,t),im(r.localStore,t,!0)})),ty(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Hg(r,c);case 21:return function(e){var t=Wc(e);t.ia.forEach((function(e,n){ty(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new Lh(Pl.comparator)}(r),r.ca=!1,e.next=25,Py(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Wg.apply(this,arguments)}function Hg(e,t,n){return Qg.apply(this,arguments)}function Qg(){return Qg=a(f().mark((function e(t,n,r){var i,a,o,u,s,c,l,h,d,v,p,m,y,g;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Wc(t),a=[],o=[],u=Vr(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(h=i.ea.get(c))||0===h.length){e.next=34;break}return e.next=11,rm(i.localStore,Uf(h[0]));case 11:l=e.sent,d=Vr(h),e.prev=13,d.s();case 15:if((v=d.n()).done){e.next=24;break}return p=v.value,m=i.ta.get(p),e.next=20,Vg(i,m);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,um(i.localStore,c);case 36:return g=e.sent,e.next=39,rm(i.localStore,g);case 39:return l=e.sent,e.next=42,lg(i,$g(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Qg.apply(this,arguments)}function $g(e){return Pf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Yg(e){var t=Wc(e);return Wc(Wc(t.localStore).persistence).Os()}function Xg(e,t,n,r){return Jg.apply(this,arguments)}function Jg(){return Jg=a(f().mark((function e(t,n,r,i){var a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Wc(t)).ca){e.next=3;break}return e.abrupt("return",void Bc("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,sm(a.localStore,Hf(o[0]));case 10:return u=e.sent,s=Yh.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Lg(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,im(a.localStore,n,!0);case 17:return Ng(a,n,i),e.abrupt("break",20);case 19:Kc();case 20:case"end":return e.stop()}}),e)}))),Jg.apply(this,arguments)}function Zg(e,t,n){return eb.apply(this,arguments)}function eb(){return eb=a(f().mark((function e(t,n,r){var i,a,o,u,s,c,l,h,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=tb(t)).ca){e.next=45;break}a=Vr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ea.has(u)){e.next=10;break}return Bc("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,um(i.localStore,u);case 12:return s=e.sent,e.next=15,rm(i.localStore,s);case 15:return c=e.sent,e.next=18,lg(i,$g(s),c.targetId,!1);case 18:ey(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Vr(r),e.prev=30,d=f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,im(i.localStore,t,!1).then((function(){ty(i.remoteStore,t),Ng(i,t)})).catch(xp);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((h=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),eb.apply(this,arguments)}function tb(e){var t=Wc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bg.bind(null,t),t.Zu.Ko=Qy.bind(null,t.eventManager),t.Zu.la=$y.bind(null,t.eventManager),t}function nb(e){var t=Wc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Eg.bind(null,t),t}function rb(e,t,n){var r=Wc(e);(function(){var e=a(f().mark((function e(t,n,r){var i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Wc(e),r=fd(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(tg(i)),a=new eg(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Lg(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=Wc(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(zc("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var ib=function(){function e(){Ht(this,e),this.synchronizeTabs=!1}return $t(e,[{key:"initialize",value:function(){var e=a(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=zm(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return $p(this.persistence,new Hp,e.initialUser,this.M)}},{key:"_a",value:function(e){return new xm(Sm.Wi,this.M)}},{key:"da",value:function(e){return new Lm}},{key:"terminate",value:function(){var e=a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ab=function(e){jn(n,e);var t=qn(n);function n(e,r,i){var a;return Ht(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return $t(n,[{key:"initialize",value:function(){var e=a(f().mark((function e(t){var r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fn(Rn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,nb(this.ga.syncEngine);case 6:return e.next=8,yy(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return $p(this.persistence,new Hp,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Cp(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=Kp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?cp.withCacheSize(this.cacheSizeBytes):cp.DEFAULT;return new Up(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Bm(),Um(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new Lm}}]),n}(ib),ob=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return $t(n,[{key:"initialize",value:function(){var e=a(f().mark((function e(t){var r,i=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fn(Rn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof Pm,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:qg.bind(null,r),Mr:Xg.bind(null,r),Or:Zg.bind(null,r),Os:Yg.bind(null,r),Nr:Ug.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=a(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gg(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=Bm();if(!Pm.vt(t))throw new Qc(Hc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Kp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Pm(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(ab),ub=function(){function e(){Ht(this,e)}return $t(e,[{key:"initialize",value:function(){var e=a(f().mark((function e(t,n){var r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return gg(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Mg.bind(null,this.syncEngine),e.next=12,Py(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new qy}},{key:"createDatastore",value:function(e){var t,n=zm(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Vm(t));return function(e,t,n,r){return new Hm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return gg(o.syncEngine,e,0)},a=Mm.vt()?new Mm:new Rm,new $m(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new ug(e,t,n,r,i,a);return o&&(u.ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=a(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wc(t),Bc("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Jm(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function sb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return a(f().mark((function r(){var i;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var cb=function(){function e(t){Ht(this,e),this.observer=t,this.muted=!1}return $t(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),lb=function(){function e(t,n){var r=this;Ht(this,e),this.Ia=t,this.M=n,this.metadata=new $c,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return $t(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=a(f().mark((function e(){var t,n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new Jy(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=a(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=a(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=a(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fb=function(){function e(t){Ht(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return $t(e,[{key:"lookup",value:function(){var e=a(f().mark((function e(t){var n,r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Qc(Hc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=a(f().mark((function e(t,n){var r,i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wc(t),i=gd(r.M)+"/documents",a={documents:n.map((function(e){return vd(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=xd(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Gc(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Th(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=a(f().mark((function e(){var t,n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Pl.fromPath(t);n.mutations.push(new Nh(r,n.precondition(r)))})),e.next=7,function(){var e=a(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wc(t),i=gd(r.M)+"/documents",a={writes:n.map((function(e){return Ed(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Kc();t=fl.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Qc(Hc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?dh.updateTime(t):dh.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(fl.min()))throw new Qc(Hc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dh.updateTime(t)}return dh.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),hb=function(){function e(t,n,r,i){Ht(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new qm(this.asyncQueue,"transaction_retry")}return $t(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(a(f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new fb(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!Al(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Dh(t)}return!1}}]),e}(),db=function(){function e(t,n,r,i){var o=this;Ht(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mc.UNAUTHENTICATED,this.clientId=ol.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=a(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bc("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Bc("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return $t(e,[{key:"getConfiguration",value:function(){var e=a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Qc(Hc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new $c;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(a(f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=jy(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function vb(e,t){return pb.apply(this,arguments)}function pb(){return pb=a(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Bc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=a(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Yp(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),pb.apply(this,arguments)}function mb(e,t){return yb.apply(this,arguments)}function yb(){return yb=a(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,gb(t);case 3:return r=e.sent,Bc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Dy(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Dy(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),yb.apply(this,arguments)}function gb(e){return bb.apply(this,arguments)}function bb(){return bb=a(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Bc("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,vb(t,new ib);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),bb.apply(this,arguments)}function kb(e){return wb.apply(this,arguments)}function wb(){return wb=a(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Bc("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,mb(t,new ub);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),wb.apply(this,arguments)}function xb(e){return gb(e).then((function(e){return e.persistence}))}function Eb(e){return gb(e).then((function(e){return e.localStore}))}function Sb(e){return kb(e).then((function(e){return e.remoteStore}))}function _b(e){return kb(e).then((function(e){return e.syncEngine}))}function Cb(e){return Ib.apply(this,arguments)}function Ib(){return Ib=a(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kb(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=sg.bind(null,n.syncEngine),r.onUnlisten=hg.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Ib.apply(this,arguments)}function Tb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new $c;return e.asyncQueue.enqueueAndForget(a(f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cb({next:function(a){t.enqueueAndForget((function(){return Wy(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Qc(Hc.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Qc(Hc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Xy(Lf(n.path),a,{includeMetadataChanges:!0,Du:!0});return Ky(e,o)},i.next=3,Cb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Nb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new $c;return e.asyncQueue.enqueueAndForget(a(f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cb({next:function(n){t.enqueueAndForget((function(){return Wy(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Qc(Hc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Xy(n,a,{includeMetadataChanges:!0,Du:!0});return Ky(e,o)},i.next=3,Cb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Ab=new Map;function Db(e,t,n){if(!n)throw new Qc(Hc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ob(e,t,n,r){if(!0===t&&!0===r)throw new Qc(Hc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Pb(e){if(!Pl.isDocumentKey(e))throw new Qc(Hc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lb(e){if(Pl.isDocumentKey(e))throw new Qc(Hc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Rb(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Kc()}function Mb(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Qc(Hc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Rb(e);throw new Qc(Hc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Fb(e,t){if(t<=0)throw new Qc(Hc.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var jb=function(){function e(t){var n;if(Ht(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Qc(Hc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Qc(Hc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ob("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return $t(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Vb=function(){function e(t,n,r){Ht(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jb({}),this._settingsFrozen=!1,t instanceof Nl?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Qc(Hc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(e.options.projectId)}(t))}return $t(e,[{key:"app",get:function(){if(!this._app)throw new Qc(Hc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Qc(Hc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jb(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Xc;switch(e.type){case"gapi":var t=e.client;return Gc(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new tl(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Qc(Hc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Ab.get(e);t&&(Bc("ComponentProvider","Removing Datastore"),Ab.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Bb(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Mb(e,Vb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&zc("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Mc.MOCK_USER;else{o=Hr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Qc(Hc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Mc(s)}e._authCredentials=new Jc(new Yc(o,u))}}var Ub=function(){function e(t,n,r){Ht(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return $t(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new qb(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),zb=function(){function e(t,n,r){Ht(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return $t(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),qb=function(e){jn(n,e);var t=qn(n);function n(e,r,i){var a;return Ht(this,n),(a=t.call(this,e,r,Lf(i)))._path=i,a.type="collection",a}return $t(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ub(this.firestore,null,new Pl(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(zb);function Kb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ui(e),Db("collection","path",t),e instanceof Vb){var a=ml.fromString.apply(ml,[t].concat(r));return Lb(a),new qb(e,null,a)}if(!(e instanceof Ub||e instanceof qb))throw new Qc(Hc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ml.fromString.apply(ml,[t].concat(r)));return Lb(o),new qb(e.firestore,null,o)}function Gb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ui(e),1===arguments.length&&(t=ol.R()),Db("doc","path",t),e instanceof Vb){var a=ml.fromString.apply(ml,[t].concat(r));return Pb(a),new Ub(e,null,new Pl(a))}if(!(e instanceof Ub||e instanceof qb))throw new Qc(Hc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ml.fromString.apply(ml,[t].concat(r)));return Pb(o),new Ub(e.firestore,e instanceof qb?e.converter:null,new Pl(o))}function Wb(e,t){return e=ui(e),t=ui(t),(e instanceof Ub||e instanceof qb)&&(t instanceof Ub||t instanceof qb)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Hb(e,t){return e=ui(e),t=ui(t),e instanceof zb&&t instanceof zb&&e.firestore===t.firestore&&qf(e._query,t._query)&&e.converter===t.converter}var Qb=function(){function e(){var t=this;Ht(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new qm(this,"async_queue_retry"),this.Ua=function(){var e=Um();e&&Bc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=Um();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return $t(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=Um();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new $c;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=a(f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),mv(e.t0)){e.next=12;break}throw e.t0;case 12:Bc("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Uc("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=Fy.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&Kc()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=a(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=Vr(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Vr(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function $b(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Vr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Yb=function(){function e(){Ht(this,e),this._progressObserver={},this._taskCompletionResolver=new $c,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return $t(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Xb=function(e){jn(n,e);var t=qn(n);function n(e,r,i){var a;return Ht(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Qb,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return $t(n,[{key:"_terminate",value:function(){return this._firestoreClient||Zb(this),this._firestoreClient.terminate()}}]),n}(Vb);function Jb(e){return e._firestoreClient||Zb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Zb(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Tl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new db(e._authCredentials,e._appCheckCredentials,e._queue,r)}function ek(e,t,n){var r=new $c;return e.asyncQueue.enqueue(a(f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,vb(e,n);case 3:return i.next=5,mb(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Hc.FAILED_PRECONDITION||e.code===Hc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function tk(e){return function(e){return e.asyncQueue.enqueue(a(f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xb(e);case 2:return n=t.sent,t.next=5,Sb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Wc(e);return t.lu.delete(0),Ym(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Jb(e=Mb(e,Xb)))}function nk(e){return function(e){return e.asyncQueue.enqueue(a(f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xb(e);case 2:return n=t.sent,t.next=5,Sb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=a(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Wc(t)).lu.add(0),e.next=4,Jm(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Jb(e=Mb(e,Xb)))}function rk(e,t){var n=Jb(e=Mb(e,Xb)),r=new Yb;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new lb(e,t)}(function(e,t){if(e instanceof Uint8Array)return sb(e,t);if(e instanceof ArrayBuffer)return sb(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,zm(t));e.asyncQueue.enqueueAndForget(a(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rb,t.next=3,_b(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function ik(e,t){return function(e,t){return e.asyncQueue.enqueue(a(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Wc(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,Eb(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Jb(e=Mb(e,Xb)),t).then((function(t){return t?new zb(e,null,t.query):null}))}function ak(e){if(e._initialized||e._terminated)throw new Qc(Hc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ok=function(){function e(){Ht(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Qc(Hc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gl(n)}return $t(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var uk=function(){function e(t){Ht(this,e),this._byteString=t}return $t(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(kl.fromBase64String(t))}catch(t){throw new Qc(Hc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(kl.fromUint8Array(t))}}]),e}(),sk=$t((function e(t){Ht(this,e),this._methodName=t})),ck=function(){function e(t,n){if(Ht(this,e),!isFinite(t)||t<-90||t>90)throw new Qc(Hc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Qc(Hc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return $t(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ul(this._lat,e._lat)||ul(this._long,e._long)}}]),e}(),lk=/^__.*__$/,fk=function(){function e(t,n,r){Ht(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return $t(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new xh(e,this.data,this.fieldMask,t,this.fieldTransforms):new wh(e,this.data,t,this.fieldTransforms)}}]),e}(),hk=function(){function e(t,n,r){Ht(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return $t(e,[{key:"toMutation",value:function(e,t){return new xh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function dk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kc()}}var vk=function(){function e(t,n,r,i,a,o){Ht(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return $t(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return Lk(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(dk(this.Ya)&&lk.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),pk=function(){function e(t,n,r){Ht(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||zm(t)}return $t(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new vk({Ya:e,methodName:t,oc:n,path:gl.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function mk(e){var t=e._freezeSettings(),n=zm(e._databaseId);return new pk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yk(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);Ak("Data must be an object, but it was:",o,r);var u,s,c=Tk(r,o);if(a.merge)u=new bl(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Vr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,v=Dk(t,d,n);if(!o.contains(v))throw new Qc(Hc.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));Rk(f,v)||f.push(v)}}catch(p){h.e(p)}finally{h.f()}u=new bl(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new fk(new Zl(c),u,s)}var gk=function(e){jn(n,e);var t=qn(n);function n(){return Ht(this,n),t.apply(this,arguments)}return $t(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sk);function bk(e,t,n){return new vk({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var kk=function(e){jn(n,e);var t=qn(n);function n(){return Ht(this,n),t.apply(this,arguments)}return $t(n,[{key:"_toFieldTransform",value:function(e){return new fh(e.path,new rh)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sk),wk=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this,e)).ac=r,i}return $t(n,[{key:"_toFieldTransform",value:function(e){var t=bk(this,e,!0),n=this.ac.map((function(e){return Ik(e,t)})),r=new ih(n);return new fh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sk),xk=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this,e)).ac=r,i}return $t(n,[{key:"_toFieldTransform",value:function(e){var t=bk(this,e,!0),n=this.ac.map((function(e){return Ik(e,t)})),r=new oh(n);return new fh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sk),Ek=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this,e)).cc=r,i}return $t(n,[{key:"_toFieldTransform",value:function(e){var t=new sh(e.M,Jf(e.M,this.cc));return new fh(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sk);function Sk(e,t,n,r){var i=e.uc(1,t,n);Ak("Data must be an object, but it was:",i,r);var a=[],o=Zl.empty();dl(r,(function(e,r){var u=Pk(t,e,n);r=ui(r);var s=i.nc(u);if(r instanceof gk)a.push(u);else{var c=Ik(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new bl(a);return new hk(o,u,i.fieldTransforms)}function _k(e,t,n,r,i,a){var o=e.uc(1,t,n),u=[Dk(t,r,n)],s=[i];if(a.length%2!=0)throw new Qc(Hc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Dk(t,a[c])),s.push(a[c+1]);for(var l=[],f=Zl.empty(),h=u.length-1;h>=0;--h)if(!Rk(l,u[h])){var d=u[h],v=s[h];v=ui(v);var p=o.nc(d);if(v instanceof gk)l.push(d);else{var m=Ik(v,p);null!=m&&(l.push(d),f.set(d,m))}}var y=new bl(l);return new hk(f,y,o.fieldTransforms)}function Ck(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ik(n,e.uc(r?4:3,t))}function Ik(e,t){if(Nk(e=ui(e)))return Ak("Unsupported field value:",t,e),Tk(e,t);if(e instanceof sk)return function(e,t){if(!dk(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Vr(e);try{for(a.s();!(n=a.n()).done;){var o=Ik(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ui(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Jf(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ll.fromDate(e);return{timestampValue:sd(t.M,n)}}if(e instanceof ll){var r=new ll(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:sd(t.M,r)}}if(e instanceof ck)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uk)return{bytesValue:cd(t.M,e._byteString)};if(e instanceof Ub){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:hd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(Rb(e)))}(e,t)}function Tk(e,t){var n={};return vl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dl(e,(function(e,r){var i=Ik(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Nk(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ll||e instanceof ck||e instanceof uk||e instanceof Ub||e instanceof sk)}function Ak(e,t,n){if(!Nk(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Rb(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function Dk(e,t,n){if((t=ui(t))instanceof ok)return t._internalPath;if("string"==typeof t)return Pk(e,t);throw Lk("Field path arguments must be of type string or ",e,!1,void 0,n)}var Ok=new RegExp("[~\\*/\\[\\]]");function Pk(e,t,n){if(t.search(Ok)>=0)throw Lk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Br(ok,Wt(t.split(".")))._internalPath}catch(r){throw Lk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Lk(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Qc(Hc.INVALID_ARGUMENT,u+e+s)}function Rk(e,t){return e.some((function(e){return e.isEqual(t)}))}var Mk=function(){function e(t,n,r,i,a){Ht(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return $t(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Ub(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Fk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(jk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Fk=function(e){jn(n,e);var t=qn(n);function n(){return Ht(this,n),t.apply(this,arguments)}return $t(n,[{key:"data",value:function(){return Fn(Rn(n.prototype),"data",this).call(this)}}]),n}(Mk);function jk(e,t){return"string"==typeof t?Pk(e,t):t instanceof ok?t._internalPath:t._delegate._internalPath}var Vk=function(){function e(t,n){Ht(this,e),this.hasPendingWrites=t,this.fromCache=n}return $t(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Bk=function(e){jn(n,e);var t=qn(n);function n(e,r,i,a,o,u){var s;return Ht(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return $t(n,[{key:"exists",value:function(){return Fn(Rn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Uk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(jk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Mk),Uk=function(e){jn(n,e);var t=qn(n);function n(){return Ht(this,n),t.apply(this,arguments)}return $t(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Fn(Rn(n.prototype),"data",this).call(this,e)}}]),n}(Bk),zk=function(){function e(t,n,r,i){Ht(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vk(i.hasPendingWrites,i.fromCache),this.query=r}return $t(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Uk(n._firestore,n._userDataWriter,r.key,r,new Vk(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Qc(Hc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Uk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Vk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Uk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Vk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:qk(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function qk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kc()}}function Kk(e,t){return e instanceof Bk&&t instanceof Bk?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof zk&&t instanceof zk&&e._firestore===t._firestore&&Hb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Gk(e){if(Mf(e)&&0===e.explicitOrderBy.length)throw new Qc(Hc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wk=$t((function e(){Ht(this,e)}));function Hk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Qk=function(e){jn(n,e);var t=qn(n);function n(e,r,i){var a;return Ht(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return $t(n,[{key:"_apply",value:function(e){var t=mk(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Qc(Hc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){aw(o,a);var s,c=[],l=Vr(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(iw(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=iw(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||aw(o,a),u=Ck(n,"where",o,"in"===a||"not-in"===a);var h=gf.create(i,a,u);return function(e,t){if(t.S()){var n=jf(e);if(null!==n&&!n.isEqual(t.field))throw new Qc(Hc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Ff(e);null!==r&&ow(e,t.field,r)}var i=function(e,t){var n,r=Vr(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Qc(Hc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Qc(Hc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new zb(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Of(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Wk);var $k=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return $t(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Qc(Hc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Qc(Hc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Tf(t,n);return function(e,t){if(null===Ff(e)){var n=jf(e);null!==n&&ow(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new zb(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Of(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Wk);var Yk=function(e){jn(n,e);var t=qn(n);function n(e,r,i){var a;return Ht(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return $t(n,[{key:"_apply",value:function(e){return new zb(e.firestore,e.converter,zf(e._query,this._c,this.wc))}}]),n}(Wk);var Xk=function(e){jn(n,e);var t=qn(n);function n(e,r,i){var a;return Ht(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return $t(n,[{key:"_apply",value:function(e){var t=rw(e,this.type,this.mc,this.gc);return new zb(e.firestore,e.converter,function(e,t){return new Of(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Wk);function Jk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Xk("startAt",t,!0)}function Zk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Xk("startAfter",t,!1)}var ew=function(e){jn(n,e);var t=qn(n);function n(e,r,i){var a;return Ht(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return $t(n,[{key:"_apply",value:function(e){var t=rw(e,this.type,this.mc,this.gc);return new zb(e.firestore,e.converter,function(e,t){return new Of(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Wk);function tw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ew("endBefore",t,!1)}function nw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ew("endAt",t,!0)}function rw(e,t,n,r){if(n[0]=ui(n[0]),n[0]instanceof Mk)return function(e,t,n,r,i){if(!r)throw new Qc(Hc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Vr(Bf(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ql(t,r.key));else{var c=r.data.field(s.field);if(_l(c))throw new Qc(Hc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Qc(Hc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new If(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=mk(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Qc(Hc.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Qc(Hc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Vf(e)&&-1!==c.indexOf("/"))throw new Qc(Hc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ml.fromString(c));if(!Pl.isDocumentKey(l))throw new Qc(Hc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Pl(l);u.push(ql(t,f))}else{var h=Ck(n,r,c);u.push(h)}}return new If(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function iw(e,t,n){if("string"==typeof(n=ui(n))){if(""===n)throw new Qc(Hc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vf(t)&&-1!==n.indexOf("/"))throw new Qc(Hc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ml.fromString(n));if(!Pl.isDocumentKey(r))throw new Qc(Hc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ql(e,new Pl(r))}if(n instanceof Ub)return ql(e,n._key);throw new Qc(Hc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Rb(n),"."))}function aw(e,t){if(!Array.isArray(e)||0===e.length)throw new Qc(Hc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Qc(Hc.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function ow(e,t,n){if(!n.isEqual(t))throw new Qc(Hc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var uw=function(){function e(){Ht(this,e)}return $t(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ml(e)){case 0:return null;case 1:return e.booleanValue;case 2:return El(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Kc()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return dl(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new ck(El(e.latitude),El(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Cl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Il(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=xl(e);return new ll(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ml.fromString(e);Gc(Md(n));var r=new Nl(n.get(1),n.get(3)),i=new Pl(n.popFirst(5));return r.isEqual(t)||Uc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function sw(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var cw=function(e){jn(n,e);var t=qn(n);function n(e){var r;return Ht(this,n),(r=t.call(this)).firestore=e,r}return $t(n,[{key:"convertBytes",value:function(e){return new uk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ub(this.firestore,null,t)}}]),n}(uw),lw=function(){function e(t,n){Ht(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mk(t)}return $t(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=fw(e,this._firestore),i=sw(r.converter,t,n),a=yk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,dh.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=fw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ui(t))||t instanceof ok?_k(this._dataReader,"WriteBatch.update",i._key,t,n,o):Sk(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,dh.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=fw(e,this._firestore);return this._mutations=this._mutations.concat(new Th(t._key,dh.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Qc(Hc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function fw(e,t){if((e=ui(e)).firestore!==t)throw new Qc(Hc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var hw=function(e){jn(n,e);var t=qn(n);function n(e){var r;return Ht(this,n),(r=t.call(this)).firestore=e,r}return $t(n,[{key:"convertBytes",value:function(e){return new uk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ub(this.firestore,null,t)}}]),n}(uw);function dw(e){e=Mb(e,Ub);var t=Mb(e.firestore,Xb),n=Jb(t),r=new hw(t);return function(e,t){var n=new $c;return e.asyncQueue.enqueueAndForget(a(f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=a(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Wc(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Qc(Hc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=jy(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Eb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Bk(t,r,e._key,n,new Vk(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function vw(e){e=Mb(e,zb);var t=Mb(e.firestore,Xb),n=Jb(t),r=new hw(t);return function(e,t){var n=new $c;return e.asyncQueue.enqueueAndForget(a(f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=a(f().mark((function e(t,n,r){var i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,om(t,n,!0);case 3:i=e.sent,a=new ig(n,i.hi),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=jy(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Eb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new zk(t,r,e,n)}))}function pw(e,t,n){e=Mb(e,Ub);var r=Mb(e.firestore,Xb),i=sw(e.converter,t,n);return bw(r,[yk(mk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,dh.none())])}function mw(e,t,n){e=Mb(e,Ub);for(var r=Mb(e.firestore,Xb),i=mk(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return bw(r,[("string"==typeof(t=ui(t))||t instanceof ok?_k(i,"updateDoc",e._key,t,n,o):Sk(i,"updateDoc",e._key,t)).toMutation(e._key,dh.exists(!0))])}function yw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,u;e=ui(e);var s={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||$b(n[c])||(s=n[c],c++);var l,h,d,v={includeMetadataChanges:s.includeMetadataChanges};if($b(n[c])){var p=n[c];n[c]=null===(i=p.next)||void 0===i?void 0:i.bind(p),n[c+1]=null===(o=p.error)||void 0===o?void 0:o.bind(p),n[c+2]=null===(u=p.complete)||void 0===u?void 0:u.bind(p)}if(e instanceof Ub)h=Mb(e.firestore,Xb),d=Lf(e._key.path),l={next:function(t){n[c]&&n[c](kw(h,e,t))},error:n[c+1],complete:n[c+2]};else{var m=Mb(e,zb);h=Mb(m.firestore,Xb),d=m._query;var y=new hw(h);l={next:function(e){n[c]&&n[c](new zk(h,y,m,e))},error:n[c+1],complete:n[c+2]},Gk(e._query)}return function(e,t,n,r){var i=new cb(r),o=new Xy(t,i,n);return e.asyncQueue.enqueueAndForget(a(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ky,t.next=3,Cb(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(a(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Wy,t.next=3,Cb(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Jb(h),d,v,l)}function gw(e,t){return function(e,t){var n=new cb(t);return e.asyncQueue.enqueueAndForget(a(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Wc(e).Tu.add(t),t.next()},t.next=3,Cb(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(a(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Wc(e).Tu.delete(t)},t.next=3,Cb(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Jb(e=Mb(e,Xb)),$b(t)?t:{next:t})}function bw(e,t){return function(e,t){var n=new $c;return e.asyncQueue.enqueueAndForget(a(f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=vg,r.next=3,_b(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Jb(e),t)}function kw(e,t,n){var r=n.docs.get(t._key),i=new hw(e);return new Bk(e,i,t._key,r,new Vk(n.hasPendingWrites,n.fromCache),t.converter)}var ww=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this,e,r))._firestore=e,i}return $t(n,[{key:"get",value:function(e){var t=this,r=fw(e,this._firestore),i=new hw(this._firestore);return Fn(Rn(n.prototype),"get",this).call(this,e).then((function(e){return new Bk(t._firestore,i,r._key,e._document,new Vk(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ht(this,e),this._firestore=t,this._transaction=n,this._dataReader=mk(t)}return $t(e,[{key:"get",value:function(e){var t=this,n=fw(e,this._firestore),r=new cw(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Kc();var i=e[0];if(i.isFoundDocument())return new Mk(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Mk(t._firestore,r,n._key,null,n.converter);throw Kc()}))}},{key:"set",value:function(e,t,n){var r=fw(e,this._firestore),i=sw(r.converter,t,n),a=yk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=fw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ui(t))||t instanceof ok?_k(this._dataReader,"Transaction.update",i._key,t,n,o):Sk(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=fw(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function xw(e,t){return function(e,t){var n=new $c;return e.asyncQueue.enqueueAndForget(a(f().mark((function r(){var i;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return kb(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new hb(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(Jb(e=Mb(e,Xb)),(function(n){return t(new ww(e,n))}))}function Ew(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wk("arrayUnion",t)}function Sw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xk("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Fc=e}(Ki),Fi(new di("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Xb(i,new Zc(e.getProvider("auth-internal")),new rl(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Yi(Rc,"3.4.7",e),Yi(Rc,"3.4.7","esm2017")}();function _w(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Qc("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Cw(){if("undefined"===typeof Uint8Array)throw new Qc("unimplemented","Uint8Arrays are not available in this environment.")}function Iw(){if("undefined"==typeof atob)throw new Qc("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Tw=function(){function e(t){Ht(this,e),this._delegate=t}return $t(e,[{key:"toBase64",value:function(){return Iw(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Cw(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Iw(),new e(uk.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Cw(),new e(uk.fromUint8Array(t))}}]),e}();function Nw(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Vr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Aw=function(){function e(){Ht(this,e)}return $t(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){ak(e=Mb(e,Xb));var n=Jb(e),r=e._freezeSettings(),i=new ub;return ek(n,i,new ab(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){ak(e=Mb(e,Xb));var t=Jb(e),n=e._freezeSettings(),r=new ub;return ek(t,r,new ob(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Qc(Hc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new $c;return e._queue.enqueueAndForgetEvenWhileRestricted(a(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=a(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dv.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,dv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Kp(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Dw=function(){function e(t,n,r){var i=this;Ht(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Nl||(this._appCompat=t)}return $t(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||zc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Bb(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return tk(this._delegate)}},{key:"disableNetwork",value:function(){return nk(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Ob("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new $c;return e.asyncQueue.enqueueAndForget(a(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=_g,n.next=3,_b(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Jb(e=Mb(e,Xb)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return gw(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Qc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Gw(this,Kb(this._delegate,e))}catch($C){throw Fw($C,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Mw(this,Gb(this._delegate,e))}catch($C){throw Fw($C,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new zw(this,function(e,t){if(e=Mb(e,Vb),Db("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Qc(Hc.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new zb(e,null,function(e){return new Of(ml.emptyPath(),e)}(t))}(this._delegate,e))}catch($C){throw Fw($C,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return xw(this._delegate,(function(n){return e(new Pw(t,n))}))}},{key:"batch",value:function(){var e=this;return Jb(this._delegate),new Lw(new lw(this._delegate,(function(t){return bw(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return rk(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return ik(this._delegate,e).then((function(e){return e?new zw(t,e):null}))}}]),e}(),Ow=function(e){jn(n,e);var t=qn(n);function n(e){var r;return Ht(this,n),(r=t.call(this)).firestore=e,r}return $t(n,[{key:"convertBytes",value:function(e){return new Tw(new uk(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Mw.forKey(t,this.firestore,null)}}]),n}(uw);var Pw=function(){function e(t,n){Ht(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Ow(t)}return $t(e,[{key:"get",value:function(e){var t=this,n=Ww(e);return this._delegate.get(n).then((function(e){return new Bw(t._firestore,new Bk(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Ww(e);return n?(_w("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Ww(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Ww(e);return this._delegate.delete(t),this}}]),e}(),Lw=function(){function e(t){Ht(this,e),this._delegate=t}return $t(e,[{key:"set",value:function(e,t,n){var r=Ww(e);return n?(_w("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Ww(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Ww(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Rw=function(){function e(t,n,r){Ht(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return $t(e,[{key:"fromFirestore",value:function(e,t){var n=new Uk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Uw(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Ow(t),n),i.set(n,a)),a}}]),e}();Rw.INSTANCES=new WeakMap;var Mw=function(){function e(t,n){Ht(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Ow(t)}return $t(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Gw(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Gw(this.firestore,Kb(this._delegate,e))}catch($C){throw Fw($C,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ui(e))instanceof Ub&&Wb(this._delegate,e)}},{key:"set",value:function(e,t){t=_w("DocumentReference.set",t);try{return t?pw(this._delegate,e,t):pw(this._delegate,e)}catch($C){throw Fw($C,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?mw(this._delegate,e):mw.apply(void 0,[this._delegate,e,t].concat(r))}catch($C){throw Fw($C,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return bw(Mb(e.firestore,Xb),[new Th(e._key,dh.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=jw(n),a=Vw(n,(function(t){return new Bw(e.firestore,new Bk(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return yw(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?dw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Mb(e,Ub);var t=Mb(e.firestore,Xb);return Tb(Jb(t),e._key,{source:"server"}).then((function(n){return kw(t,e,n)}))}(this._delegate):function(e){e=Mb(e,Ub);var t=Mb(e.firestore,Xb);return Tb(Jb(t),e._key).then((function(n){return kw(t,e,n)}))}(this._delegate),t.then((function(e){return new Bw(n.firestore,new Bk(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Rw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Qc("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Ub(n._delegate,r,new Pl(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Ub(n._delegate,r,t))}}]),e}();function Fw(e,t,n){return e.message=e.message.replace(t,n),e}function jw(e){var t,n=Vr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Nw(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Vw(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Nw(e[0])?e[0]:Nw(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Bw=function(){function e(t,n){Ht(this,e),this._firestore=t,this._delegate=n}return $t(e,[{key:"ref",get:function(){return new Mw(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Kk(this._delegate,e._delegate)}}]),e}(),Uw=function(e){jn(n,e);var t=qn(n);function n(){return Ht(this,n),t.apply(this,arguments)}return $t(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Kc()}(void 0!==t),t}}]),n}(Bw),zw=function(){function e(t,n){Ht(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Ow(t)}return $t(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Hk(this._delegate,function(e,t,n){var r=t,i=jk("where",e);return new Qk(i,r,n)}(t,n,r)))}catch($C){throw Fw($C,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Hk(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=jk("orderBy",e);return new $k(n,t)}(t,n)))}catch($C){throw Fw($C,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Hk(this._delegate,function(e){return Fb("limit",e),new Yk("limit",e,"F")}(t)))}catch($C){throw Fw($C,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Hk(this._delegate,function(e){return Fb("limitToLast",e),new Yk("limitToLast",e,"L")}(t)))}catch($C){throw Fw($C,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Hk(this._delegate,Jk.apply(void 0,arguments)))}catch($C){throw Fw($C,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Hk(this._delegate,Zk.apply(void 0,arguments)))}catch($C){throw Fw($C,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Hk(this._delegate,tw.apply(void 0,arguments)))}catch($C){throw Fw($C,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Hk(this._delegate,nw.apply(void 0,arguments)))}catch($C){throw Fw($C,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Hb(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?vw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Mb(e,zb);var t=Mb(e.firestore,Xb),n=Jb(t),r=new hw(t);return Nb(n,e._query,{source:"server"}).then((function(n){return new zk(t,r,e,n)}))}(this._delegate):function(e){e=Mb(e,zb);var t=Mb(e.firestore,Xb),n=Jb(t),r=new hw(t);return Gk(e._query),Nb(n,e._query).then((function(n){return new zk(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Kw(n.firestore,new zk(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=jw(n),a=Vw(n,(function(t){return new Kw(e.firestore,new zk(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return yw(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Rw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),qw=function(){function e(t,n){Ht(this,e),this._firestore=t,this._delegate=n}return $t(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Uw(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Kw=function(){function e(t,n){Ht(this,e),this._firestore=t,this._delegate=n}return $t(e,[{key:"query",get:function(){return new zw(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Uw(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new qw(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Uw(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Kk(this._delegate,e._delegate)}}]),e}(),Gw=function(e){jn(n,e);var t=qn(n);function n(e,r){var i;return Ht(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return $t(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Mw(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Mw(this.firestore,void 0===e?Gb(this._delegate):Gb(this._delegate,e))}catch($C){throw Fw($C,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Mb(e.firestore,Xb),r=Gb(e),i=sw(e.converter,t);return bw(n,[yk(mk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,dh.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Mw(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Wb(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Rw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(zw);function Ww(e){return Mb(e,Ub)}var Hw,Qw=function(){function e(){Ht(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Br(ok,n)}return $t(e,[{key:"isEqual",value:function(e){return(e=ui(e))instanceof ok&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(gl.keyField().canonicalString())}}]),e}(),$w=function(){function e(t){Ht(this,e),this._delegate=t}return $t(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new kk("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new gk("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Ew.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Sw.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Ek("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Yw={Firestore:Dw,GeoPoint:ck,Timestamp:ll,Blob:Tw,Transaction:Pw,WriteBatch:Lw,DocumentReference:Mw,DocumentSnapshot:Bw,Query:zw,QueryDocumentSnapshot:Uw,QuerySnapshot:Kw,CollectionReference:Gw,FieldPath:Qw,FieldValue:$w,setLogLevel:function(e){!function(e){jc.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new di("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Yw)))})(Hw=ka,(function(e,t){return new Dw(e,t,new Aw)})),Hw.registerVersion("@firebase/firestore-compat","0.1.16");ka.initializeApp({apiKey:"AIzaSyDlEcMc_ApHxmIDHNjiBYQ_QAGJGD1qz5I",authDomain:"react-shop-94d11.firebaseapp.com",projectId:"react-shop-94d11",storageBucket:"react-shop-94d11.appspot.com",messagingSenderId:"110982793594",appId:"1:110982793594:web:3bd0f329efe4e23b17eec3"});var Xw=ka.firestore(),Jw=function(){var e=[],t=["Shirt","Scarf","Pants","Shorts","Socks","Hat"],n=["XS","S","M","L","XL","XXL"];return["Cotton","Wool","Denim","Linen","Nylon","Leather"].forEach((function(r){t.forEach((function(t){e.push({productName:"".concat(r," ").concat(t),price:(100*Math.random()).toFixed(2),variants:n,quantities:n.reduce((function(e,t){return e[t]=Math.floor(100*Math.random()),e}),{}),imageUrl:"/react-shop/images/".concat(t.toLowerCase(),".jpg"),favourite:!1,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer maximus dolor est, consectetur commodo tortor sagittis nec. Aliquam non laoreet odio, tincidunt pulvinar justo."})}))})),e},Zw=["id","quantities"],ex=function(){var e=a(f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Xw.collection("products"),e.next=3,t.get();case 3:if(!e.sent.empty){e.next=10;break}return console.log("Seeding students"),n=Jw(),r=n.map(function(){var e=a(f().mark((function e(n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.add(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=10,Promise.all(r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tx=function(){var e=a(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xw.collection("cart"),i=t.id,t.quantities,a=oe(t,Zw),e.next=4,ix(i,n);case 4:if(!e.sent){e.next=14;break}return e.next=8,r.doc(i).get();case 8:return(o=e.sent.data())?o.quantities[n]+=1:o=ie(ie({},a),{},{quantities:t.variants.reduce((function(e,t){return e[t]=t===n?1:0,e}),{})}),e.next=12,r.doc(t.id).set(ie({},o));case 12:e.next=15;break;case 14:console.log("Stock unavailable");case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nx=function(){var e=a(f().mark((function e(){var t,n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ex();case 2:return t=Xw.collection("products"),e.next=5,t.get();case 5:return n=e.sent,r=n.docs,i=r.map((function(e){return ie({id:e.id},e.data())})),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rx=function(){var e=a(f().mark((function e(){var t,n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Xw.collection("cart"),e.next=3,t.get();case 3:return n=e.sent,r=n.docs,i=r.map((function(e){return ie({id:e.id},e.data())})),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ix=function(){var e=a(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xw.collection("products"),i=r.doc(t),e.next=4,i.get();case 4:if(a=e.sent.data(),!((o=ie({},a.quantities))[n]>0)){e.next=18;break}return o[n]-=1,e.next=10,i.set({quantities:o},{merge:!0});case 10:return e.t0=console,e.next=13,i.get();case 13:return e.t1=e.sent.data(),e.t0.log.call(e.t0,"Updated doc:",e.t1),e.abrupt("return",!0);case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ax=function(){var e=a(f().mark((function e(t,n,r){var i,a,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xw.collection("products"),a=i.doc(t),e.next=4,a.get();case 4:return o=e.sent.data(),(u=ie({},o.quantities))[n]+=r,e.next=9,a.set({quantities:u},{merge:!0});case 9:return e.t0=console,e.t1=n,e.next=13,a.get();case 13:e.t2=e.sent.data(),e.t0.log.call(e.t0,"Updated doc added 1 to",e.t1,e.t2);case 15:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ox=function(){var e=a(f().mark((function e(t,n,r){var i,a,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xw.collection("cart"),a=i.doc(t),e.next=4,a.get();case 4:if(o=e.sent.data(),console.log("Attempting to reduce cart for",o),!((u=ie({},o.quantities))[n]>0)){e.next=18;break}return u[n]-=r,e.next=11,a.set({quantities:u},{merge:!0});case 11:return e.t0=console,e.next=14,a.get();case 14:return e.t1=e.sent.data(),e.t0.log.call(e.t0,"Updated cart item:",e.t1),e.next=18,ax(t,n,r);case 18:if(0!==Object.entries(u).filter((function(e){var t=s(e,2);t[0];return t[1]>0})).length){e.next=23;break}return e.next=22,sx(t);case 22:console.log("Item removed from cart");case 23:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ux=function(){var e=a(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xw.collection("products"),i=r.doc(t),e.next=4,i.set({favourite:n},{merge:!0});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),sx=function(){var e=a(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xw.collection("cart").doc(t),e.next=3,n.delete();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cx="Footer_Footer__MEpnh",lx=function(){return(0,J.jsx)("div",{className:cx,children:(0,J.jsx)("p",{children:"Built by Austin in ReactJS & Bootstrap."})})};var fx=function(){var e=s((0,t.useState)([]),2),n=e[0],r=e[1],i=s((0,t.useState)([]),2),o=i[0],u=i[1],c=function(){var e=a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,nx();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,rx();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){c(),l()}),[]),(0,J.jsxs)(ee,{children:[(0,J.jsx)(jr,{}),(0,J.jsx)("div",{className:X,children:(0,J.jsx)(W,{context:[n,r,o,u]})}),(0,J.jsx)(lx,{})]})},hx="ProductCarousel_ProductCarousel__B6wiG",dx="ProductCarousel_ProductCarousel__Text__k1WHj",vx="ProductCarousel_ProductCarousel__Overlay__U4CEx";var px=function(e,n){var r=(0,t.useRef)(!0);(0,t.useEffect)((function(){if(!r.current)return e();r.current=!1}),n)},mx=Math.pow(2,31)-1;function yx(e,t,n){var r=n-Date.now();e.current=r<=mx?setTimeout(t,r):setTimeout((function(){return yx(e,t,n)}),mx)}function gx(){var e=Kt(),n=(0,t.useRef)();return Gt((function(){return clearTimeout(n.current)})),(0,t.useMemo)((function(){var t=function(){return clearTimeout(n.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(t(),i<=mx?n.current=setTimeout(r,i):yx(n,r,Date.now()+i))},clear:t}}),[])}var bx=Fe("carousel-caption"),kx=["as","bsPrefix","className"],wx=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=oe(e,kx),u=se()(a,pe(i,"carousel-item"));return(0,J.jsx)(r,ie(ie({ref:t},o),{},{className:u}))}));wx.displayName="CarouselItem";var xx=wx;function Ex(e,n){var r=0;return t.Children.map(e,(function(e){return t.isValidElement(e)?n(e,r++):e}))}var Sx=["as","bsPrefix","slide","fade","controls","indicators","indicatorLabels","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","variant","className","children"],_x={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:(0,J.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:(0,J.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};var Cx=t.forwardRef((function(e,n){var r=Ae(e,{activeIndex:"onSelect"}),i=r.as,a=void 0===i?"div":i,o=r.bsPrefix,u=r.slide,c=r.fade,l=r.controls,f=r.indicators,h=r.indicatorLabels,d=r.activeIndex,v=r.onSelect,p=r.onSlide,m=r.onSlid,y=r.interval,g=r.keyboard,b=r.onKeyDown,k=r.pause,w=r.onMouseOver,x=r.onMouseOut,E=r.wrap,S=r.touch,_=r.onTouchStart,C=r.onTouchMove,I=r.onTouchEnd,T=r.prevIcon,N=r.prevLabel,A=r.nextIcon,D=r.nextLabel,O=r.variant,P=r.className,L=r.children,R=oe(r,Sx),M=pe(o,"carousel"),F="rtl"===(0,t.useContext)(ve).dir,j=(0,t.useRef)(null),V=s((0,t.useState)("next"),2),B=V[0],U=V[1],z=s((0,t.useState)(!1),2),q=z[0],K=z[1],G=s((0,t.useState)(!1),2),W=G[0],H=G[1],Q=s((0,t.useState)(d||0),2),$=Q[0],Y=Q[1];(0,t.useEffect)((function(){W||d===$||(j.current?U(j.current):U((d||0)>$?"next":"prev"),u&&H(!0),Y(d||0))}),[d,W,$,u]),(0,t.useEffect)((function(){j.current&&(j.current=null)}));var X,Z=0;!function(e,n){var r=0;t.Children.forEach(e,(function(e){t.isValidElement(e)&&n(e,r++)}))}(L,(function(e,t){++Z,t===d&&(X=e.props.interval)}));var ee=Ft(X),te=(0,t.useCallback)((function(e){if(!W){var t=$-1;if(t<0){if(!E)return;t=Z-1}j.current="prev",null==v||v(t,e)}}),[W,$,v,E,Z]),ne=jt((function(e){if(!W){var t=$+1;if(t>=Z){if(!E)return;t=0}j.current="next",null==v||v(t,e)}})),re=(0,t.useRef)();(0,t.useImperativeHandle)(n,(function(){return{element:re.current,prev:te,next:ne}}));var ae=jt((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(re.current)&&(F?te():ne())})),ue="next"===B?"start":"end";px((function(){u||(null==p||p($,ue),null==m||m($,ue))}),[$]);var ce="".concat(M,"-item-").concat(B),le="".concat(M,"-item-").concat(ue),fe=(0,t.useCallback)((function(e){gt(e),null==p||p($,ue)}),[p,$,ue]),he=(0,t.useCallback)((function(){H(!1),null==m||m($,ue)}),[m,$,ue]),de=(0,t.useCallback)((function(e){if(g&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(F?ne(e):te(e));case"ArrowRight":return e.preventDefault(),void(F?te(e):ne(e))}null==b||b(e)}),[g,b,te,ne,F]),me=(0,t.useCallback)((function(e){"hover"===k&&K(!0),null==w||w(e)}),[k,w]),ye=(0,t.useCallback)((function(e){K(!1),null==x||x(e)}),[x]),ge=(0,t.useRef)(0),be=(0,t.useRef)(0),ke=gx(),we=(0,t.useCallback)((function(e){ge.current=e.touches[0].clientX,be.current=0,"hover"===k&&K(!0),null==_||_(e)}),[k,_]),xe=(0,t.useCallback)((function(e){e.touches&&e.touches.length>1?be.current=0:be.current=e.touches[0].clientX-ge.current,null==C||C(e)}),[C]),Ee=(0,t.useCallback)((function(e){if(S){var t=be.current;Math.abs(t)>40&&(t>0?te(e):ne(e))}"hover"===k&&ke.set((function(){K(!1)}),y||void 0),null==I||I(e)}),[S,k,te,ne,ke,y,I]),Se=null!=y&&!q&&!W,_e=(0,t.useRef)();(0,t.useEffect)((function(){var e,t;if(Se){var n=F?te:ne;return _e.current=window.setInterval(document.visibilityState?ae:n,null!=(e=null!=(t=ee.current)?t:y)?e:void 0),function(){null!==_e.current&&clearInterval(_e.current)}}}),[Se,te,ne,ee,y,ae,F]);var Ce=(0,t.useMemo)((function(){return f&&Array.from({length:Z},(function(e,t){return function(e){null==v||v(t,e)}}))}),[f,Z,v]);return(0,J.jsxs)(a,ie(ie({ref:re},R),{},{onKeyDown:de,onMouseOver:me,onMouseOut:ye,onTouchStart:we,onTouchMove:xe,onTouchEnd:Ee,className:se()(P,M,u&&"slide",c&&"".concat(M,"-fade"),O&&"".concat(M,"-").concat(O)),children:[f&&(0,J.jsx)("div",{className:"".concat(M,"-indicators"),children:Ex(L,(function(e,t){return(0,J.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=h&&h.length?h[t]:"Slide ".concat(t+1),className:t===$?"active":void 0,onClick:Ce?Ce[t]:void 0,"aria-current":t===$},t)}))}),(0,J.jsx)("div",{className:"".concat(M,"-inner"),children:Ex(L,(function(e,n){var r=n===$;return u?(0,J.jsx)(St,{in:r,onEnter:r?fe:void 0,onEntered:r?he:void 0,addEndListener:mt,children:function(n,i){return t.cloneElement(e,ie(ie({},i),{},{className:se()(e.props.className,r&&"entered"!==n&&ce,("entered"===n||"exiting"===n)&&"active",("entering"===n||"exiting"===n)&&le)}))}}):t.cloneElement(e,{className:se()(e.props.className,r&&"active")})}))}),l&&(0,J.jsxs)(J.Fragment,{children:[(E||0!==d)&&(0,J.jsxs)(Dr,{className:"".concat(M,"-control-prev"),onClick:te,children:[T,N&&(0,J.jsx)("span",{className:"visually-hidden",children:N})]}),(E||d!==Z-1)&&(0,J.jsxs)(Dr,{className:"".concat(M,"-control-next"),onClick:ne,children:[A,D&&(0,J.jsx)("span",{className:"visually-hidden",children:D})]})]})]}))}));Cx.displayName="Carousel",Cx.defaultProps=_x;var Ix=Object.assign(Cx,{Caption:bx,Item:xx}),Tx=function(){var e=(0,t.useContext)(Z),n=(e.search,e.setSearch),r=function(e){n(e),i("/products")},i=U();return(0,J.jsxs)("div",{className:hx,children:[(0,J.jsx)("div",{className:vx}),(0,J.jsxs)(Ix,{children:[(0,J.jsxs)(Ix.Item,{children:[(0,J.jsx)("img",{className:"d-block w-100",src:"/react-shop/images/hat-banner.jpg",alt:"First slide"}),(0,J.jsxs)(Ix.Caption,{className:dx,onClick:function(){r("hat")},children:[(0,J.jsx)("h3",{children:"Featured Hat"}),(0,J.jsx)("p",{children:"Nulla vitae elit libero, a pharetra augue mollis interdum."})]})]}),(0,J.jsxs)(Ix.Item,{children:[(0,J.jsx)("img",{className:"d-block w-100",src:"/react-shop/images/pants-banner.jpg",alt:"Second slide"}),(0,J.jsxs)(Ix.Caption,{className:dx,onClick:function(){r("pants")},children:[(0,J.jsx)("h3",{children:"Featured Pants"}),(0,J.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]})]}),(0,J.jsxs)(Ix.Item,{children:[(0,J.jsx)("img",{className:"d-block w-100",src:"/react-shop/images/murray-banner.jpg",alt:"Third slide"}),(0,J.jsxs)(Ix.Caption,{className:dx,onClick:function(){r("shirt")},children:[(0,J.jsx)("h3",{children:"Featured Shirt"}),(0,J.jsx)("p",{children:"Praesent commodo cursus magna, vel scelerisque nisl consectetur."})]})]})]})]})},Nx={ProductGrid:"ProductGrid_ProductGrid__iwO+L",ProductGrid__Grid:"ProductGrid_ProductGrid__Grid__klttb"},Ax="ProductCard_ProductCard__x0kCa",Dx="ProductCard_ProductCard__Img_Container__C7n3+",Ox="ProductCard_ProductCard__Img_Container_Thumb__yDuHm",Px="ProductCard_ProductCard__Img_Container_Heart__VSFtc",Lx="ProductCard_ProductCard__Info__s66yv";function Rx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rx(Object(n),!0).forEach((function(t){Vx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fx(e){return Fx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fx(e)}function jx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||zx(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ux(e){return function(e){if(Array.isArray(e))return qx(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||zx(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zx(e,t){if(e){if("string"===typeof e)return qx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qx(e,t):void 0}}function qx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kx=function(){},Gx={},Wx={},Hx=null,Qx={mark:Kx,measure:Kx};try{"undefined"!==typeof window&&(Gx=window),"undefined"!==typeof document&&(Wx=document),"undefined"!==typeof MutationObserver&&(Hx=MutationObserver),"undefined"!==typeof performance&&(Qx=performance)}catch($C){}var $x=(Gx.navigator||{}).userAgent,Yx=void 0===$x?"":$x,Xx=Gx,Jx=Wx,Zx=Hx,eE=Qx,tE=(Xx.document,!!Jx.documentElement&&!!Jx.head&&"function"===typeof Jx.addEventListener&&"function"===typeof Jx.createElement),nE=~Yx.indexOf("MSIE")||~Yx.indexOf("Trident/"),rE="svg-inline--fa",iE="data-fa-i2svg",aE="data-fa-pseudo-element",oE="data-prefix",uE="data-icon",sE="fontawesome-i2svg",cE=["HTML","HEAD","STYLE","SCRIPT"],lE=function(){try{return!0}catch($C){return!1}}(),fE={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},hE={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},dE={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},vE={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},pE=/fa[srltdbk\-\ ]/,mE="fa-layers-text",yE=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,gE={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},bE=[1,2,3,4,5,6,7,8,9,10],kE=bE.concat([11,12,13,14,15,16,17,18,19,20]),wE=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],xE="duotone-group",EE="swap-opacity",SE="primary",_E="secondary",CE=[].concat(Ux(Object.keys(hE)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",xE,EE,SE,_E]).concat(bE.map((function(e){return"".concat(e,"x")}))).concat(kE.map((function(e){return"w-".concat(e)}))),IE=Xx.FontAwesomeConfig||{};if(Jx&&"function"===typeof Jx.querySelector){[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Bx(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=Jx.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(IE[r]=i)}))}var TE=Mx(Mx({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:rE,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),IE);TE.autoReplaceSvg||(TE.observeMutations=!1);var NE={};Object.keys(TE).forEach((function(e){Object.defineProperty(NE,e,{enumerable:!0,set:function(t){TE[e]=t,AE.forEach((function(e){return e(NE)}))},get:function(){return TE[e]}})})),Xx.FontAwesomeConfig=NE;var AE=[];var DE=16,OE={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function PE(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function LE(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function RE(e){return e.classList?LE(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function ME(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function FE(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function jE(e){return e.size!==OE.size||e.x!==OE.x||e.y!==OE.y||e.rotate!==OE.rotate||e.flipX||e.flipY}function VE(){var e="fa",t=rE,n=NE.familyPrefix,r=NE.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var BE=!1;function UE(){NE.autoAddCss&&!BE&&(!function(e){if(e&&tE){var t=Jx.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=Jx.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}Jx.head.insertBefore(t,r)}}(VE()),BE=!0)}var zE={mixout:function(){return{dom:{css:VE,insertCss:UE}}},hooks:function(){return{beforeDOMElementCreation:function(){UE()},beforeI2svg:function(){UE()}}}},qE=Xx||{};qE.___FONT_AWESOME___||(qE.___FONT_AWESOME___={}),qE.___FONT_AWESOME___.styles||(qE.___FONT_AWESOME___.styles={}),qE.___FONT_AWESOME___.hooks||(qE.___FONT_AWESOME___.hooks={}),qE.___FONT_AWESOME___.shims||(qE.___FONT_AWESOME___.shims=[]);var KE=qE.___FONT_AWESOME___,GE=[],WE=!1;function HE(e){tE&&(WE?setTimeout(e,0):GE.push(e))}function QE(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?ME(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(ME(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(QE).join(""),"</").concat(t,">")}function $E(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}tE&&((WE=(Jx.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Jx.readyState))||Jx.addEventListener("DOMContentLoaded",(function e(){Jx.removeEventListener("DOMContentLoaded",e),WE=1,GE.map((function(e){return e()}))})));var YE=function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o};function XE(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function JE(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function ZE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=JE(t);"function"!==typeof KE.hooks.addPack||i?KE.styles[e]=Mx(Mx({},KE.styles[e]||{}),a):KE.hooks.addPack(e,JE(t)),"fas"===e&&ZE("fa",t)}var eS=KE.styles,tS=KE.shims,nS=Object.values(dE),rS=null,iS={},aS={},oS={},uS={},sS={},cS=Object.keys(fE);function lS(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~CE.indexOf(n))?null:a}var fS=function(){var e=function(e){return YE(eS,(function(t,n,r){return t[r]=YE(n,e,{}),t}),{})};iS=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),aS=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),sS=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in eS||NE.autoFetchSvg,n=YE(tS,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});oS=n.names,uS=n.unicodes,rS=mS(NE.styleDefault)};function hS(e,t){return(iS[e]||{})[t]}function dS(e,t){return(sS[e]||{})[t]}function vS(e){return oS[e]||{prefix:null,iconName:null}}function pS(){return rS}!function(e){AE.push(e)}((function(e){rS=mS(e.styleDefault)})),fS();function mS(e){var t=hE[e]||hE[fE[e]],n=e in KE.styles?e:null;return t||n||null}function yS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipLookups,r=void 0!==n&&n,i=null,a=e.reduce((function(e,t){var n=lS(NE.familyPrefix,t);if(eS[t]?(t=nS.includes(t)?vE[t]:t,i=t,e.prefix=t):cS.indexOf(t)>-1?(i=t,e.prefix=mS(t)):n?e.iconName=n:t!==NE.replacementClass&&e.rest.push(t),!r&&e.prefix&&e.iconName){var a="fa"===i?vS(e.iconName):{},o=dS(e.prefix,e.iconName);a.prefix&&(i=null),e.iconName=a.iconName||o||e.iconName,e.prefix=a.prefix||e.prefix,"far"!==e.prefix||eS.far||!eS.fas||NE.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return"fa"!==a.prefix&&"fa"!==i||(a.prefix=pS()||"fas"),a}var gS=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=Mx(Mx({},e.definitions[t]||{}),i[t]),ZE(t,i[t]);var n=dE[t];n&&ZE(n,i[t]),fS()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,u=o[2];e[i]||(e[i]={}),u.length>0&&u.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&jx(t.prototype,n),r&&jx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),bS=[],kS={},wS={},xS=Object.keys(wS);function ES(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=kS[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function SS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=kS[e]||[];i.forEach((function(e){e.apply(null,n)}))}function _S(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return wS[e]?wS[e].apply(null,t):void 0}function CS(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||pS();if(t)return t=dS(n,t)||t,$E(IS.definitions,n,t)||$E(KE.styles,n,t)}var IS=new gS,TS={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tE?(SS("beforeI2svg",e),_S("pseudoElements2svg",e),_S("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===NE.autoReplaceSvg&&(NE.autoReplaceSvg=!0),NE.observeMutations=!0,HE((function(){DS({autoReplaceSvgRoot:t}),SS("watch",e)}))}},NS={icon:function(e){if(null===e)return null;if("object"===Fx(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:dS(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=mS(e[0]);return{prefix:n,iconName:dS(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(NE.familyPrefix,"-"))>-1||e.match(pE))){var r=yS(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||pS(),iconName:dS(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=pS();return{prefix:i,iconName:dS(i,e)||e}}}},AS={noAuto:function(){NE.autoReplaceSvg=!1,NE.observeMutations=!1,SS("noAuto")},config:NE,dom:TS,parse:NS,library:IS,findIconDefinition:CS,toHtml:QE},DS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?Jx:t;(Object.keys(KE.styles).length>0||NE.autoFetchSvg)&&tE&&NE.autoReplaceSvg&&AS.dom.i2svg({node:n})};function OS(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return QE(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(tE){var t=Jx.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function PS(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,u=e.symbol,s=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,v=r.found?r:n,p=v.width,m=v.height,y="fak"===i,g=[NE.replacementClass,a?"".concat(NE.familyPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:Mx(Mx({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:g,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(m)})},k=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(p/m*16*.0625,"em")}:{};d&&(b.attributes[iE]=""),s&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||PE())},children:[s]}),delete b.attributes.title);var w=Mx(Mx({},b),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:u,styles:Mx(Mx({},k),f.styles)}),x=r.found&&n.found?_S("generateAbstractMask",w)||{children:[],attributes:{}}:_S("generateAbstractIcon",w)||{children:[],attributes:{}},E=x.children,S=x.attributes;return w.children=E,w.attributes=S,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(NE.familyPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Mx(Mx({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(jE(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=FE(Mx(Mx({},a),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function LS(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,u=e.watchable,s=void 0!==u&&u,c=Mx(Mx(Mx({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});s&&(c[iE]="");var l=Mx({},o.styles);jE(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,u=void 0!==o&&o,s="";return s+=u&&nE?"translate(".concat(t.x/DE-r/2,"em, ").concat(t.y/DE-a/2,"em) "):u?"translate(calc(-50% + ".concat(t.x/DE,"em), calc(-50% + ").concat(t.y/DE,"em)) "):"translate(".concat(t.x/DE,"em, ").concat(t.y/DE,"em) "),s+="scale(".concat(t.size/DE*(t.flipX?-1:1),", ").concat(t.size/DE*(t.flipY?-1:1),") "),s+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=FE(l);f.length>0&&(c.style=f);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}function RS(e){var t=e.content,n=e.title,r=e.extra,i=Mx(Mx(Mx({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=FE(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var MS=KE.styles;function FS(e){var t=e[0],n=e[1],r=Bx(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(NE.familyPrefix,"-").concat(xE)},children:[{tag:"path",attributes:{class:"".concat(NE.familyPrefix,"-").concat(_E),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(NE.familyPrefix,"-").concat(SE),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var jS={found:!1,width:512,height:512};function VS(e,t){var n=t;return"fa"===t&&null!==NE.styleDefault&&(t=pS()),new Promise((function(r,i){_S("missingIconAbstract");if("fa"===n){var a=vS(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&MS[t]&&MS[t][e])return r(FS(MS[t][e]));!function(e,t){lE||NE.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(Mx(Mx({},jS),{},{icon:NE.showMissingIcons&&e&&_S("missingIconAbstract")||{}}))}))}var BS=function(){},US=NE.measurePerformance&&eE&&eE.mark&&eE.measure?eE:{mark:BS,measure:BS},zS='FA "6.1.1"',qS=function(e){US.mark("".concat(zS," ").concat(e," ends")),US.measure("".concat(zS," ").concat(e),"".concat(zS," ").concat(e," begins"),"".concat(zS," ").concat(e," ends"))},KS=function(e){return US.mark("".concat(zS," ").concat(e," begins")),function(){return qS(e)}},GS=function(){};function WS(e){return"string"===typeof(e.getAttribute?e.getAttribute(iE):null)}function HS(e){return Jx.createElementNS("http://www.w3.org/2000/svg",e)}function QS(e){return Jx.createElement(e)}function $S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?HS:QS:n;if("string"===typeof e)return Jx.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){i.appendChild($S(e,{ceFn:r}))})),i}var YS={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore($S(e),t)})),null===t.getAttribute(iE)&&NE.keepOriginalSource){var n=Jx.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~RE(t).indexOf(NE.replacementClass))return YS.replace(e);var r=new RegExp("".concat(NE.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===NE.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return QE(e)})).join("\n");t.setAttribute(iE,""),t.innerHTML=a}};function XS(e){e()}function JS(e,t){var n="function"===typeof t?t:GS;if(0===e.length)n();else{var r=XS;"async"===NE.mutateApproach&&(r=Xx.requestAnimationFrame||XS),r((function(){var t=!0===NE.autoReplaceSvg?YS.replace:YS[NE.autoReplaceSvg]||YS.replace,r=KS("mutate");e.map(t),r(),n()}))}}var ZS=!1;function e_(){ZS=!0}function t_(){ZS=!1}var n_=null;function r_(e){if(Zx&&NE.observeMutations){var t=e.treeCallback,n=void 0===t?GS:t,r=e.nodeCallback,i=void 0===r?GS:r,a=e.pseudoElementsCallback,o=void 0===a?GS:a,u=e.observeMutationsRoot,s=void 0===u?Jx:u;n_=new Zx((function(e){if(!ZS){var t=pS();LE(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!WS(e.addedNodes[0])&&(NE.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&NE.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&WS(e.target)&&~wE.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(oE):null,n=e.getAttribute?e.getAttribute(uE):null;return t&&n}(e.target)){var r=yS(RE(e.target)),a=r.prefix,u=r.iconName;e.target.setAttribute(oE,a||t),u&&e.target.setAttribute(uE,u)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(NE.replacementClass)&&i(e.target);var s}))}})),tE&&n_.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function i_(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function a_(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=yS(RE(e));return i.prefix||(i.prefix=pS()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=function(e,t){return(aS[e]||{})[t]}(i.prefix,e.innerText)||hS(i.prefix,XE(e.innerText))),i}function o_(e){var t=LE(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return NE.autoA11y&&(n?t["aria-labelledby"]="".concat(NE.replacementClass,"-title-").concat(r||PE()):(t["aria-hidden"]="true",t.focusable="false")),t}function u_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=a_(e),r=n.iconName,i=n.prefix,a=n.rest,o=o_(e),u=ES("parseNodeAttributes",{},e),s=t.styleParser?i_(e):[];return Mx({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:OE,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:s,attributes:o}},u)}var s_=KE.styles;function c_(e){var t="nest"===NE.autoReplaceSvg?u_(e,{styleParser:!1}):u_(e);return~t.extra.classes.indexOf(mE)?_S("generateLayersText",e,t):_S("generateSvgReplacementMutation",e,t)}function l_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!tE)return Promise.resolve();var n=Jx.documentElement.classList,r=function(e){return n.add("".concat(sE,"-").concat(e))},i=function(e){return n.remove("".concat(sE,"-").concat(e))},a=NE.autoFetchSvg?Object.keys(fE):Object.keys(s_),o=[".".concat(mE,":not([").concat(iE,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(iE,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var u=[];try{u=LE(e.querySelectorAll(o))}catch($C){}if(!(u.length>0))return Promise.resolve();r("pending"),i("complete");var s=KS("onTree"),c=u.reduce((function(e,t){try{var n=c_(t);n&&e.push(n)}catch($C){lE||"MissingIcon"===$C.name&&console.error($C)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){JS(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),s(),e()}))})).catch((function(e){s(),n(e)}))}))}function f_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;c_(e).then((function(e){e&&JS([e],t)}))}var h_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?OE:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,u=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,v=t.classes,p=void 0===v?[]:v,m=t.attributes,y=void 0===m?{}:m,g=t.styles,b=void 0===g?{}:g;if(e){var k=e.prefix,w=e.iconName,x=e.icon;return OS(Mx({type:"icon"},e),(function(){return SS("beforeDOMElementCreation",{iconDefinition:e,params:t}),NE.autoA11y&&(f?y["aria-labelledby"]="".concat(NE.replacementClass,"-title-").concat(d||PE()):(y["aria-hidden"]="true",y.focusable="false")),PS({icons:{main:FS(x),mask:u?FS(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:w,transform:Mx(Mx({},OE),r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:y,styles:b,classes:p}})}))}},d_={mixout:function(){return{icon:(e=h_,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:CS(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:CS(i||{})),e(r,Mx(Mx({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=l_,e.nodeCallback=f_,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?Jx:t,r=e.callback;return l_(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,u=t.symbol,s=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([VS(n,a),s.iconName?VS(s.iconName,s.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(s){var f=Bx(s,2),h=f[0],d=f[1];t([e,PS({icons:{main:h,mask:d},prefix:a,iconName:n,transform:o,symbol:u,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=FE(e.styles);return o.length>0&&(r.style=o),jE(a)&&(t=_S("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},v_={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return OS({type:"layer"},(function(){SS("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(NE.familyPrefix,"-layers")].concat(Ux(r)).join(" ")},children:n}]}))}}}},p_={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,u=void 0===o?{}:o,s=t.styles,c=void 0===s?{}:s;return OS({type:"counter",content:e},(function(){return SS("beforeDOMElementCreation",{content:e,params:t}),RS({content:e.toString(),title:r,extra:{attributes:u,styles:c,classes:["".concat(NE.familyPrefix,"-layers-counter")].concat(Ux(a))}})}))}}}},m_={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?OE:n,i=t.title,a=void 0===i?null:i,o=t.classes,u=void 0===o?[]:o,s=t.attributes,c=void 0===s?{}:s,l=t.styles,f=void 0===l?{}:l;return OS({type:"text",content:e},(function(){return SS("beforeDOMElementCreation",{content:e,params:t}),LS({content:e,transform:Mx(Mx({},OE),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(NE.familyPrefix,"-layers-text")].concat(Ux(u))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(nE){var u=parseInt(getComputedStyle(e).fontSize,10),s=e.getBoundingClientRect();a=s.width/u,o=s.height/u}return NE.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,LS({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},y_=new RegExp('"',"ug"),g_=[1105920,1112319];function b_(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=LE(e.children).filter((function(e){return e.getAttribute(aE)===t}))[0],o=Xx.getComputedStyle(e,t),u=o.getPropertyValue("font-family").match(yE),s=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!u)return e.removeChild(a),r();if(u&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?hE[u[2].toLowerCase()]:gE[s],h=function(e){var t=e.replace(y_,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=g_[0]&&n<=g_[1],i=2===t.length&&t[0]===t[1];return{value:XE(i?t[0]:t),isSecondary:r||i}}(l),d=h.value,v=h.isSecondary,p=u[0].startsWith("FontAwesome"),m=hS(f,d),y=m;if(p){var g=function(e){var t=uS[e],n=hS("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(d);g.iconName&&g.prefix&&(m=g.iconName,f=g.prefix)}if(!m||v||a&&a.getAttribute(oE)===f&&a.getAttribute(uE)===y)r();else{e.setAttribute(n,y),a&&e.removeChild(a);var b={iconName:null,title:null,titleId:null,prefix:null,transform:OE,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},k=b.extra;k.attributes[aE]=t,VS(m,f).then((function(i){var a=PS(Mx(Mx({},b),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:f,iconName:y,extra:k,watchable:!0})),o=Jx.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return QE(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function k_(e){return Promise.all([b_(e,"::before"),b_(e,"::after")])}function w_(e){return e.parentNode!==document.head&&!~cE.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(aE)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function x_(e){if(tE)return new Promise((function(t,n){var r=LE(e.querySelectorAll("*")).filter(w_).map(k_),i=KS("searchPseudoElements");e_(),Promise.all(r).then((function(){i(),t_(),t()})).catch((function(){i(),t_(),n()}))}))}var E_=!1,S_=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},__={mixout:function(){return{parse:{transform:function(e){return S_(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=S_(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),u="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),s="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(u," ").concat(s)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:Mx({},c.outer),children:[{tag:"g",attributes:Mx({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:Mx(Mx({},t.icon.attributes),c.path)}]}]}}}},C_={x:0,y:0,width:"100%",height:"100%"};function I_(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var T_={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?yS(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=pS()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,u=e.transform,s=i.width,c=i.icon,l=a.width,f=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:u,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:Mx(Mx({},C_),{},{fill:"white"})},v=c.children?{children:c.children.map(I_)}:{},p={tag:"g",attributes:Mx({},h.inner),children:[I_(Mx({tag:c.tag,attributes:Mx(Mx({},c.attributes),h.path)},v))]},m={tag:"g",attributes:Mx({},h.outer),children:[p]},y="mask-".concat(o||PE()),g="clip-".concat(o||PE()),b={tag:"mask",attributes:Mx(Mx({},C_),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=f,"g"===t.tag?t.children:[t])},b]};return n.push(k,{tag:"rect",attributes:Mx({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(y,")")},C_)}),{children:n,attributes:r}}}},N_={provides:function(e){var t=!1;Xx.matchMedia&&(t=Xx.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:Mx(Mx({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=Mx(Mx({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Mx(Mx({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:Mx(Mx({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Mx(Mx({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:Mx(Mx({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Mx(Mx({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:Mx(Mx({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Mx(Mx({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;bS=e,kS={},Object.keys(wS).forEach((function(e){-1===xS.indexOf(e)&&delete wS[e]})),bS.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===Fx(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){kS[e]||(kS[e]=[]),kS[e].push(r[e])}))}e.provides&&e.provides(wS)}))}([zE,d_,v_,p_,m_,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=x_,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?Jx:t;NE.searchPseudoElements&&x_(n)}}},{mixout:function(){return{dom:{unwatch:function(){e_(),E_=!0}}}},hooks:function(){return{bootstrap:function(){r_(ES("mutationObserverCallbacks",{}))},noAuto:function(){n_&&n_.disconnect()},watch:function(e){var t=e.observeMutationsRoot;E_?t_():r_(ES("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},__,T_,N_,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:AS});var A_=AS.library,D_=AS.parse,O_=AS.icon;function P_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P_(Object(n),!0).forEach((function(t){M_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R_(e){return R_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R_(e)}function M_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function j_(e){return function(e){if(Array.isArray(e))return V_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return V_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B_(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var U_=["style"];function z_(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=B_(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var q_=!1;try{q_=!0}catch($C){}function K_(e){return e&&"object"===R_(e)&&e.prefix&&e.iconName&&e.icon?e:D_.icon?D_.icon(e):null===e?null:e&&"object"===R_(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function G_(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?M_({},e,t):{}}var W_=["forwardedRef"];function H_(e){var t=e.forwardedRef,n=F_(e,W_),r=n.icon,i=n.mask,a=n.symbol,o=n.className,u=n.title,s=n.titleId,c=n.maskId,l=K_(r),f=G_("classes",[].concat(j_(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,u=e.flash,s=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,v=e.border,p=e.listItem,m=e.flip,y=e.size,g=e.rotation,b=e.pull,k=(M_(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":u,"fa-spin":s,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":v,"fa-li":p,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(y),"undefined"!==typeof y&&null!==y),M_(t,"fa-rotate-".concat(g),"undefined"!==typeof g&&null!==g&&0!==g),M_(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),M_(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(k).map((function(e){return k[e]?e:null})).filter((function(e){return e}))}(n)),j_(o.split(" ")))),h=G_("transform","string"===typeof n.transform?D_.transform(n.transform):n.transform),d=G_("mask",K_(i)),v=O_(l,L_(L_(L_(L_({},f),h),d),{},{symbol:a,title:u,titleId:s,maskId:c}));if(!v)return function(){var e;!q_&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var p=v.abstract,m={ref:t};return Object.keys(n).forEach((function(e){H_.defaultProps.hasOwnProperty(e)||(m[e]=n[e])})),Q_(p[0],m)}H_.displayName="FontAwesomeIcon",H_.propTypes={beat:xn().bool,border:xn().bool,bounce:xn().bool,className:xn().string,fade:xn().bool,flash:xn().bool,mask:xn().oneOfType([xn().object,xn().array,xn().string]),maskId:xn().string,fixedWidth:xn().bool,inverse:xn().bool,flip:xn().oneOf(["horizontal","vertical","both"]),icon:xn().oneOfType([xn().object,xn().array,xn().string]),listItem:xn().bool,pull:xn().oneOf(["right","left"]),pulse:xn().bool,rotation:xn().oneOf([0,90,180,270]),shake:xn().bool,size:xn().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:xn().bool,spinPulse:xn().bool,spinReverse:xn().bool,symbol:xn().oneOfType([xn().bool,xn().string]),title:xn().string,titleId:xn().string,transform:xn().oneOfType([xn().string,xn().object]),swapOpacity:xn().bool},H_.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Q_=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=z_(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[B_(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=F_(r,U_);return a.attrs.style=L_(L_({},a.attrs.style),u),t.apply(void 0,[n.tag,L_(L_({},a.attrs),s)].concat(j_(i)))}.bind(null,t.createElement),$_={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,10084,61578,9829],"f004","M0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84.02L256 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 .0003 232.4 .0003 190.9L0 190.9z"]},Y_={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z"]},X_={prefix:"far",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,10084,61578,9829],"f004","M244 84L255.1 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 0 232.4 0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84C243.1 84 244 84.01 244 84L244 84zM255.1 163.9L210.1 117.1C188.4 96.28 157.6 86.4 127.3 91.44C81.55 99.07 48 138.7 48 185.1V190.9C48 219.1 59.71 246.1 80.34 265.3L256 429.3L431.7 265.3C452.3 246.1 464 219.1 464 190.9V185.1C464 138.7 430.4 99.07 384.7 91.44C354.4 86.4 323.6 96.28 301.9 117.1L255.1 163.9z"]},J_=["bsPrefix","className","variant","as"],Z_=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,u=oe(e,J_),s=pe(n,"card-img");return(0,J.jsx)(o,ie({ref:t,className:se()(i?"".concat(s,"-").concat(i):s,r)},u))}));Z_.displayName="CardImg";var eC=Z_,tC=["bsPrefix","className","as"],nC=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,u=oe(e,tC),s=pe(r,"card-header"),c=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:s}}),[s]);return(0,J.jsx)(Cr.Provider,{value:c,children:(0,J.jsx)(o,ie(ie({ref:n},u),{},{className:se()(i,s)}))})}));nC.displayName="CardHeader";var rC=nC,iC=["bsPrefix","className","bg","text","border","body","children","as"],aC=Pn("h5"),oC=Pn("h6"),uC=Fe("card-body"),sC=Fe("card-title",{Component:aC}),cC=Fe("card-subtitle",{Component:oC}),lC=Fe("card-link",{Component:"a"}),fC=Fe("card-text",{Component:"p"}),hC=Fe("card-footer"),dC=Fe("card-img-overlay"),vC=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,u=e.body,s=e.children,c=e.as,l=void 0===c?"div":c,f=oe(e,iC),h=pe(n,"card");return(0,J.jsx)(l,ie(ie({ref:t},f),{},{className:se()(r,h,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:u?(0,J.jsx)(uC,{children:s}):s}))}));vC.displayName="Card",vC.defaultProps={body:!1};var pC=Object.assign(vC,{Img:eC,Title:sC,Subtitle:cC,Body:uC,Link:lC,Text:fC,Header:rC,Footer:hC,ImgOverlay:dC}),mC=function(e){var t=e.product,n=s(q(),4),r=(n[0],n[1]),i=(n[2],n[3],function(){var e=a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ux(t.id,!t.favourite);case 2:return e.t0=r,e.next=5,nx();case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return(0,J.jsxs)(pC,{className:Ax,children:[(0,J.jsxs)("div",{className:Dx,children:[(0,J.jsx)(_e,{to:"/products/".concat(t.id),children:(0,J.jsx)(pC.Img,{variant:"top",src:t.imageUrl,className:Ox})}),t.favourite?(0,J.jsx)(H_,{icon:$_,onClick:i,className:Px}):(0,J.jsx)(H_,{icon:X_,onClick:i,className:Px})]}),(0,J.jsxs)(pC.Body,{className:Lx,children:[(0,J.jsx)(_e,{to:"/products/".concat(t.id),children:(0,J.jsx)(pC.Title,{children:t.productName})}),(0,J.jsx)(_e,{to:"/products/".concat(t.id),children:(0,J.jsxs)(pC.Text,{children:["$",t.price]})})]})]})},yC=mC,gC=["active","disabled","className","style","activeLabel","children"],bC=["children"],kC=t.forwardRef((function(e,t){var n=e.active,r=e.disabled,i=e.className,a=e.style,o=e.activeLabel,u=e.children,s=oe(e,gC),c=n||r?"span":Dr;return(0,J.jsx)("li",{ref:t,style:a,className:se()(i,"page-item",{active:n,disabled:r}),children:(0,J.jsxs)(c,ie(ie({className:"page-link",disabled:r},s),{},{children:[u,n&&o&&(0,J.jsx)("span",{className:"visually-hidden",children:o})]}))})}));kC.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},kC.displayName="PageItem";var wC=kC;function xC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;function r(e){var r=e.children,i=oe(e,bC);return(0,J.jsxs)(kC,ie(ie({},i),{},{children:[(0,J.jsx)("span",{"aria-hidden":"true",children:r||t}),(0,J.jsx)("span",{className:"visually-hidden",children:n})]}))}return r.displayName=e,r}var EC=xC("First","\xab"),SC=xC("Prev","\u2039","Previous"),_C=xC("Ellipsis","\u2026","More"),CC=xC("Next","\u203a"),IC=xC("Last","\xbb"),TC=["bsPrefix","className","size"],NC=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.size,a=oe(e,TC),o=pe(n,"pagination");return(0,J.jsx)("ul",ie(ie({ref:t},a),{},{className:se()(r,o,i&&"".concat(o,"-").concat(i))}))}));NC.displayName="Pagination";var AC=Object.assign(NC,{First:EC,Prev:SC,Ellipsis:_C,Item:wC,Next:CC,Last:IC}),DC=function(e){for(var n=e.fav,r=void 0!==n&&n,i=s(q(),1)[0],a=(0,t.useContext)(Z),o=a.search,u=(a.setSearch,s((0,t.useState)([]),2)),c=u[0],l=u[1],f=s((0,t.useState)(1),2),h=f[0],d=f[1],v=s((0,t.useState)(10),2),p=v[0],m=(v[1],function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e.length){var o=e.filter((function(e){return e.productName.toLowerCase().includes(i.toLowerCase())}));o.sort((function(e,t){return e[r].toString().toLowerCase()<t[r].toString().toLowerCase()?-1:e[r].toString().toLowerCase()>t[r].toString().toLowerCase()?1:0}));var u=(t-1)*n;return a?o:o.slice(u,u+n)}return[]}),y=Math.ceil(m(i,h,p,"id",o,!0).length/p),g=[],b=function(e){g.push((0,J.jsx)(AC.Item,{active:e===h,onClick:function(){d(e)},children:e},e))},k=1;k<=y;k++)b(k);return(0,t.useEffect)((function(){d(1)}),[o]),(0,t.useEffect)((function(){i.length&&!r?l(m(i,h,p,"id",o)):i.length&&r&&l(i.filter((function(e){return e.favourite})))}),[i,o,h,p,r]),(0,J.jsxs)("div",{className:Nx.ProductGrid,children:[r?(0,J.jsx)("h4",{children:"Favourites"}):o?(0,J.jsxs)("h4",{children:['Search results for "',o,'"']}):(0,J.jsx)("h4",{children:"All products"}),!r&&(0,J.jsx)(AC,{className:Nx.ProductGrid__Pages,children:g}),(0,J.jsx)("div",{className:Nx.ProductGrid__Grid,children:c.map((function(e){return(0,J.jsx)(yC,{product:e},e.id)}))})]})},OC=DC,PC={},LC=function(){return(0,J.jsxs)("div",{className:PC.Home,children:[(0,J.jsx)(Tx,{}),(0,J.jsx)(OC,{})]})},RC="ProductPage_ProductPage__+JzNB",MC="ProductPage_ProductPage__Img__TF8-r",FC="ProductPage_ProductPage__Info__eyWtL",jC="ProductPage_Heart__nsBdL",VC=function(){var e,n,r=s(q(),4),i=r[0],o=r[1],u=(r[2],r[3]),c=function(){var e=(0,t.useContext)(E).matches,n=e[e.length-1];return n?n.params:{}}().productId,l=s((0,t.useState)({}),2),h=l[0],d=l[1],v=s((0,t.useState)("none"),2),p=v[0],m=v[1];(0,t.useEffect)((function(){i.length>0&&d(i.find((function(e){return e.id==c})))}),[i]);var y=function(){var e=a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tx(h,p);case 2:return e.t0=u,e.next=5,rx();case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=o,e.next=10,nx();case 10:e.t3=e.sent,(0,e.t2)(e.t3);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ux(h.id,!h.favourite);case 2:return e.t0=o,e.next=5,nx();case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,J.jsxs)("div",{className:RC,children:[(0,J.jsx)("img",{src:h.imageUrl,alt:h.productName,className:MC}),(0,J.jsxs)("div",{className:FC,children:[(0,J.jsxs)("h3",{children:[h.productName," ",h.favourite?(0,J.jsx)(H_,{icon:$_,onClick:g,className:jC}):(0,J.jsx)(H_,{icon:X_,onClick:g,className:jC})]}),(0,J.jsxs)("p",{children:["$",h.price]}),(0,J.jsx)("label",{htmlFor:"variant",children:"Size"}),(0,J.jsxs)("select",{name:"variant",id:"variant",defaultValue:"none",onChange:function(e){console.log("Variant selected: ",e.target.value),m(e.target.value)},required:!0,children:[(0,J.jsx)("option",{disabled:!0,value:"none",children:"None"}),h.variants?h.variants.map((function(e,t){return(0,J.jsx)("option",{value:e,children:e},t)})):(0,J.jsx)(J.Fragment,{})]}),(null===h||void 0===h||null===(e=h.quantities)||void 0===e?void 0:e[p])>0?(0,J.jsxs)("p",{children:[h.quantities[p]," In Stock"]}):"none"===p?(0,J.jsx)(J.Fragment,{}):(0,J.jsx)("p",{children:"Out of Stock"}),(0,J.jsx)(ge,{variant:"outline-success",onClick:y,disabled:"none"===p||!(null!==h&&void 0!==h&&null!==(n=h.quantities)&&void 0!==n&&n[p]),children:"Add to Cart"}),(0,J.jsx)("p",{children:h.description})]})]})},BC=VC,UC={Cart:"Cart_Cart__UnxcA",Cart__Divider:"Cart_Cart__Divider__Bzz5c",Cart__Total:"Cart_Cart__Total__5YfeT"},zC={CartCard:"CartCard_CartCard__V3qeN",CartCard__Info:"CartCard_CartCard__Info__Bh-Ep",CartCard__Info__Price:"CartCard_CartCard__Info__Price__Dahm1",CartCard__Info__Subtotal:"CartCard_CartCard__Info__Subtotal__9OVr5",CartCard__Img:"CartCard_CartCard__Img__bEaAw"},qC={CartButtons:"CartButtons_CartButtons__O+Y9J",CartButtons__Qty:"CartButtons_CartButtons__Qty__00it1",CartButtons__Heading:"CartButtons_CartButtons__Heading__0nAeL"},KC=function(e){var t=e.product,n=e.variant,r=e.quantity,i=s(q(),4),o=(i[0],i[1]),u=(i[2],i[3]),c=function(){var e=a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tx(t,n);case 2:return e.t0=u,e.next=5,rx();case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=o,e.next=10,nx();case 10:e.t3=e.sent,(0,e.t2)(e.t3);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ox(t.id,n,1);case 2:return e.t0=u,e.next=5,rx();case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=o,e.next=10,nx();case 10:e.t3=e.sent,(0,e.t2)(e.t3);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=a(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ox(t.id,n,r);case 2:return e.t0=u,e.next=5,rx();case 5:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=o,e.next=10,nx();case 10:e.t3=e.sent,(0,e.t2)(e.t3);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,J.jsxs)("div",{className:qC.CartButtons,children:[(0,J.jsx)("h6",{className:qC.CartButtons__Heading,children:n}),(0,J.jsx)(ge,{variant:"secondary",onClick:l,className:qC.CartButtons_Btn,children:"-"}),(0,J.jsx)("input",{type:"text",value:r,disabled:!0,className:qC.CartButtons__Qty}),(0,J.jsx)(ge,{variant:"secondary",onClick:c,className:qC.CartButtons_Btn,children:"+"}),(0,J.jsx)(ge,{variant:"danger",onClick:h,className:qC.CartButtons_Btn,children:(0,J.jsx)(H_,{icon:Y_})})]})},GC=function(e){var t=e.product,n=s(q(),4);n[0],n[1],n[2],n[3];return(0,J.jsxs)("div",{className:zC.CartCard,children:[(0,J.jsx)(_e,{to:"/products/".concat(t.id),children:(0,J.jsx)("img",{src:t.imageUrl,alt:t.productName,className:zC.CartCard__Img})}),(0,J.jsxs)("div",{className:zC.CartCard__Info,children:[(0,J.jsx)(_e,{to:"/products/".concat(t.id),children:(0,J.jsx)("h5",{children:t.productName})}),(0,J.jsxs)("p",{className:zC.CartCard__Info_Price,children:["$",t.price," each"]}),Object.entries(t.quantities).sort((function(e,n){return t.variants.indexOf(e[0])-t.variants.indexOf(n[0])})).filter((function(e){var t=s(e,2);t[0];return t[1]>0})).map((function(e,n){var r=s(e,2),i=r[0],a=r[1];return(0,J.jsx)(KC,{product:t,variant:i,quantity:a},n)})),(0,J.jsxs)("p",{className:zC.CartCard__Info_Subtotal,children:["Subtotal: $",(Object.values(t.quantities).reduce((function(e,t){return e+t}),0)*t.price).toFixed(2)]})]})]})},WC=GC,HC=function(){var e=s(q(),4),t=(e[0],e[1],e[2]),n=(e[3],t.reduce((function(e,t){return e+Object.values(t.quantities).reduce((function(e,n){return e+n*t.price}),0)}),0).toFixed(2));return(0,J.jsxs)("div",{className:UC.Cart,children:[(0,J.jsx)("h3",{className:UC.Cart__Heading,children:"Cart Items"}),t.length?t.map((function(e,t){return(0,J.jsx)(WC,{product:e},t)})):(0,J.jsx)("p",{children:"Your cart is empty. Get shopping!"}),(0,J.jsx)("div",{className:UC.Cart__Divider}),(0,J.jsxs)("h3",{className:UC.Cart__Total,children:["Total: $",n]})]})};A_.add($_);var QC=document.getElementById("root");(0,r.s)(QC).render((0,J.jsx)(Se,{basename:"/react-shop",children:(0,J.jsx)($,{children:(0,J.jsxs)(H,{path:"/",element:(0,J.jsx)(fx,{}),children:[(0,J.jsx)(H,{index:!0,element:(0,J.jsx)(LC,{})}),(0,J.jsx)(H,{path:"cart",element:(0,J.jsx)(HC,{})}),(0,J.jsx)(H,{path:"products",element:(0,J.jsx)(OC,{fav:!1})}),(0,J.jsx)(H,{path:"products/:productId",element:(0,J.jsx)(BC,{})}),(0,J.jsx)(H,{path:"favourites",element:(0,J.jsx)(OC,{fav:!0})})]})})}))}()}();
//# sourceMappingURL=main.4b55cf31.js.map